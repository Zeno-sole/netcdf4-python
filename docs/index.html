<!doctype html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="generator" content="pdoc 7.1.0" />
    <title>netCDF4 API documentation</title>
    <link rel="icon" type="image/svg+xml" href="data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%20width%3D%2264%22%20height%3D%2264%22%20viewBox%3D%2244.5%202.5%2015%2015%22%3E%3Cpath%20d%3D%22M49.351%2021.041c-.233-.721-.546-2.408-.772-4.076-.042-.09-.067-.187-.046-.288-.166-1.347-.277-2.625-.241-3.351-1.378-1.008-2.271-2.586-2.271-4.362%200-.976.272-1.935.788-2.774.057-.094.122-.18.184-.268-.033-.167-.052-.339-.052-.516%200-1.477%201.202-2.679%202.679-2.679.791%200%201.496.352%201.987.9a6.3%206.3%200%200%201%201.001.029c.492-.564%201.207-.929%202.012-.929%201.477%200%202.679%201.202%202.679%202.679a2.65%202.65%200%200%201-.269%201.148c.383.747.595%201.572.595%202.41%200%202.311-1.507%204.29-3.635%205.107.037.699.147%202.27.423%203.294l.137.461c.156%202.136-4.612%205.166-5.199%203.215zm.127-4.919a4.78%204.78%200%200%200%20.775-.584c-.172-.115-.505-.254-.88-.378zm.331%202.302l.828-.502c-.202-.143-.576-.328-.984-.49zm.45%202.157l.701-.403c-.214-.115-.536-.249-.891-.376l.19.779zM49.13%204.141c0%20.152.123.276.276.276s.275-.124.275-.276-.123-.276-.276-.276-.275.124-.275.276zm.735-.389a1.15%201.15%200%200%201%20.314.783%201.16%201.16%200%200%201-1.162%201.162c-.457%200-.842-.27-1.032-.653-.026.117-.042.238-.042.362a1.68%201.68%200%200%200%201.679%201.679%201.68%201.68%200%200%200%201.679-1.679c0-.843-.626-1.535-1.436-1.654zm3.076%201.654a1.68%201.68%200%200%200%201.679%201.679%201.68%201.68%200%200%200%201.679-1.679c0-.037-.009-.072-.011-.109-.21.3-.541.508-.935.508a1.16%201.16%200%200%201-1.162-1.162%201.14%201.14%200%200%201%20.474-.912c-.015%200-.03-.005-.045-.005-.926.001-1.679.754-1.679%201.68zm1.861-1.265c0%20.152.123.276.276.276s.275-.124.275-.276-.123-.276-.276-.276-.275.124-.275.276zm1.823%204.823c0-.52-.103-1.035-.288-1.52-.466.394-1.06.64-1.717.64-1.144%200-2.116-.725-2.499-1.738-.383%201.012-1.355%201.738-2.499%201.738-.867%200-1.631-.421-2.121-1.062-.307.605-.478%201.267-.478%201.942%200%202.486%202.153%204.51%204.801%204.51s4.801-2.023%204.801-4.51zm-3.032%209.156l-.146-.492c-.276-1.02-.395-2.457-.444-3.268a6.11%206.11%200%200%201-1.18.115%206.01%206.01%200%200%201-2.536-.562l.006.175c.802.215%201.848.612%202.021%201.25.079.295-.021.601-.274.837l-.598.501c.667.304%201.243.698%201.311%201.179.02.144.022.507-.393.787l-.564.365c1.285.521%201.361.96%201.381%201.126.018.142.011.496-.427.746l-.854.489c.064-1.19%201.985-2.585%202.697-3.248zM49.34%209.925c0-.667%201-.667%201%200%200%20.653.818%201.205%201.787%201.205s1.787-.552%201.787-1.205c0-.667%201-.667%201%200%200%201.216-1.25%202.205-2.787%202.205s-2.787-.989-2.787-2.205zm-.887-7.633c-.093.077-.205.114-.317.114a.5.5%200%200%201-.318-.886L49.183.397a.5.5%200%200%201%20.703.068.5.5%200%200%201-.069.703zm7.661-.065c-.086%200-.173-.022-.253-.068l-1.523-.893c-.575-.337-.069-1.2.506-.863l1.523.892a.5.5%200%200%201%20.179.685c-.094.158-.261.247-.432.247z%22%20fill%3D%22%233bb300%22/%3E%3C/svg%3E"/>


<style type="text/css">/*! * Bootstrap Reboot v5.0.0 (https://getbootstrap.com/) * Copyright 2011-2021 The Bootstrap Authors * Copyright 2011-2021 Twitter, Inc. * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE) * Forked from Normalize.css, licensed MIT (https://github.com/necolas/normalize.css/blob/master/LICENSE.md) */*,::after,::before{box-sizing:border-box}@media (prefers-reduced-motion:no-preference){:root{scroll-behavior:smooth}}body{margin:0;font-family:system-ui,-apple-system,"Segoe UI",Roboto,"Helvetica Neue",Arial,"Noto Sans","Liberation Sans",sans-serif,"Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol","Noto Color Emoji";font-size:1rem;font-weight:400;line-height:1.5;color:#212529;background-color:#fff;-webkit-text-size-adjust:100%;-webkit-tap-highlight-color:transparent}hr{margin:1rem 0;color:inherit;background-color:currentColor;border:0;opacity:.25}hr:not([size]){height:1px}h1,h2,h3,h4,h5,h6{margin-top:0;margin-bottom:.5rem;font-weight:500;line-height:1.2}h1{font-size:calc(1.375rem + 1.5vw)}@media (min-width:1200px){h1{font-size:2.5rem}}h2{font-size:calc(1.325rem + .9vw)}@media (min-width:1200px){h2{font-size:2rem}}h3{font-size:calc(1.3rem + .6vw)}@media (min-width:1200px){h3{font-size:1.75rem}}h4{font-size:calc(1.275rem + .3vw)}@media (min-width:1200px){h4{font-size:1.5rem}}h5{font-size:1.25rem}h6{font-size:1rem}p{margin-top:0;margin-bottom:1rem}abbr[data-bs-original-title],abbr[title]{-webkit-text-decoration:underline dotted;text-decoration:underline dotted;cursor:help;-webkit-text-decoration-skip-ink:none;text-decoration-skip-ink:none}address{margin-bottom:1rem;font-style:normal;line-height:inherit}ol,ul{padding-left:2rem}dl,ol,ul{margin-top:0;margin-bottom:1rem}ol ol,ol ul,ul ol,ul ul{margin-bottom:0}dt{font-weight:700}dd{margin-bottom:.5rem;margin-left:0}blockquote{margin:0 0 1rem}b,strong{font-weight:bolder}small{font-size:.875em}mark{padding:.2em;background-color:#fcf8e3}sub,sup{position:relative;font-size:.75em;line-height:0;vertical-align:baseline}sub{bottom:-.25em}sup{top:-.5em}a{color:#0d6efd;text-decoration:underline}a:hover{color:#0a58ca}a:not([href]):not([class]),a:not([href]):not([class]):hover{color:inherit;text-decoration:none}code,kbd,pre,samp{font-family:SFMono-Regular,Menlo,Monaco,Consolas,"Liberation Mono","Courier New",monospace;font-size:1em;direction:ltr;unicode-bidi:bidi-override}pre{display:block;margin-top:0;margin-bottom:1rem;overflow:auto;font-size:.875em}pre code{font-size:inherit;color:inherit;word-break:normal}code{font-size:.875em;color:#d63384;word-wrap:break-word}a>code{color:inherit}kbd{padding:.2rem .4rem;font-size:.875em;color:#fff;background-color:#212529;border-radius:.2rem}kbd kbd{padding:0;font-size:1em;font-weight:700}figure{margin:0 0 1rem}img,svg{vertical-align:middle}table{caption-side:bottom;border-collapse:collapse}caption{padding-top:.5rem;padding-bottom:.5rem;color:#6c757d;text-align:left}th{text-align:inherit;text-align:-webkit-match-parent}tbody,td,tfoot,th,thead,tr{border-color:inherit;border-style:solid;border-width:0}label{display:inline-block}button{border-radius:0}button:focus:not(:focus-visible){outline:0}button,input,optgroup,select,textarea{margin:0;font-family:inherit;font-size:inherit;line-height:inherit}button,select{text-transform:none}[role=button]{cursor:pointer}select{word-wrap:normal}select:disabled{opacity:1}[list]::-webkit-calendar-picker-indicator{display:none}[type=button],[type=reset],[type=submit],button{-webkit-appearance:button}[type=button]:not(:disabled),[type=reset]:not(:disabled),[type=submit]:not(:disabled),button:not(:disabled){cursor:pointer}::-moz-focus-inner{padding:0;border-style:none}textarea{resize:vertical}fieldset{min-width:0;padding:0;margin:0;border:0}legend{float:left;width:100%;padding:0;margin-bottom:.5rem;font-size:calc(1.275rem + .3vw);line-height:inherit}@media (min-width:1200px){legend{font-size:1.5rem}}legend+*{clear:left}::-webkit-datetime-edit-day-field,::-webkit-datetime-edit-fields-wrapper,::-webkit-datetime-edit-hour-field,::-webkit-datetime-edit-minute,::-webkit-datetime-edit-month-field,::-webkit-datetime-edit-text,::-webkit-datetime-edit-year-field{padding:0}::-webkit-inner-spin-button{height:auto}[type=search]{outline-offset:-2px;-webkit-appearance:textfield}::-webkit-search-decoration{-webkit-appearance:none}::-webkit-color-swatch-wrapper{padding:0}::file-selector-button{font:inherit}::-webkit-file-upload-button{font:inherit;-webkit-appearance:button}output{display:inline-block}iframe{border:0}summary{display:list-item;cursor:pointer}progress{vertical-align:baseline}[hidden]{display:none!important}</style>
<style>/*! pygments syntax highlighting */pre{line-height:125%;}td.linenos pre{color:#000000; background-color:#f0f0f0; padding-left:5px; padding-right:5px;}span.linenos{color:#000000; background-color:#f0f0f0; padding-left:5px; padding-right:5px;}td.linenos pre.special{color:#000000; background-color:#ffffc0; padding-left:5px; padding-right:5px;}span.linenos.special{color:#000000; background-color:#ffffc0; padding-left:5px; padding-right:5px;}.pdoc .hll{background-color:#ffffcc}.pdoc{background:#f8f8f8;}.pdoc .c{color:#408080; font-style:italic}.pdoc .err{border:1px solid #FF0000}.pdoc .k{color:#008000; font-weight:bold}.pdoc .o{color:#666666}.pdoc .ch{color:#408080; font-style:italic}.pdoc .cm{color:#408080; font-style:italic}.pdoc .cp{color:#BC7A00}.pdoc .cpf{color:#408080; font-style:italic}.pdoc .c1{color:#408080; font-style:italic}.pdoc .cs{color:#408080; font-style:italic}.pdoc .gd{color:#A00000}.pdoc .ge{font-style:italic}.pdoc .gr{color:#FF0000}.pdoc .gh{color:#000080; font-weight:bold}.pdoc .gi{color:#00A000}.pdoc .go{color:#888888}.pdoc .gp{color:#000080; font-weight:bold}.pdoc .gs{font-weight:bold}.pdoc .gu{color:#800080; font-weight:bold}.pdoc .gt{color:#0044DD}.pdoc .kc{color:#008000; font-weight:bold}.pdoc .kd{color:#008000; font-weight:bold}.pdoc .kn{color:#008000; font-weight:bold}.pdoc .kp{color:#008000}.pdoc .kr{color:#008000; font-weight:bold}.pdoc .kt{color:#B00040}.pdoc .m{color:#666666}.pdoc .s{color:#BA2121}.pdoc .na{color:#7D9029}.pdoc .nb{color:#008000}.pdoc .nc{color:#0000FF; font-weight:bold}.pdoc .no{color:#880000}.pdoc .nd{color:#AA22FF}.pdoc .ni{color:#999999; font-weight:bold}.pdoc .ne{color:#D2413A; font-weight:bold}.pdoc .nf{color:#0000FF}.pdoc .nl{color:#A0A000}.pdoc .nn{color:#0000FF; font-weight:bold}.pdoc .nt{color:#008000; font-weight:bold}.pdoc .nv{color:#19177C}.pdoc .ow{color:#AA22FF; font-weight:bold}.pdoc .w{color:#bbbbbb}.pdoc .mb{color:#666666}.pdoc .mf{color:#666666}.pdoc .mh{color:#666666}.pdoc .mi{color:#666666}.pdoc .mo{color:#666666}.pdoc .sa{color:#BA2121}.pdoc .sb{color:#BA2121}.pdoc .sc{color:#BA2121}.pdoc .dl{color:#BA2121}.pdoc .sd{color:#BA2121; font-style:italic}.pdoc .s2{color:#BA2121}.pdoc .se{color:#BB6622; font-weight:bold}.pdoc .sh{color:#BA2121}.pdoc .si{color:#BB6688; font-weight:bold}.pdoc .sx{color:#008000}.pdoc .sr{color:#BB6688}.pdoc .s1{color:#BA2121}.pdoc .ss{color:#19177C}.pdoc .bp{color:#008000}.pdoc .fm{color:#0000FF}.pdoc .vc{color:#19177C}.pdoc .vg{color:#19177C}.pdoc .vi{color:#19177C}.pdoc .vm{color:#19177C}.pdoc .il{color:#666666}</style>
<style>/*! pdoc */:root{--pdoc-background:#fff;}.pdoc{--text:#212529;--muted:#6c757d;--link:#3660a5;--link-hover:#1659c5;--code:#f7f7f7;--active:#fff598;--accent:#eee;--accent2:#c1c1c1;--nav-hover:rgba(255, 255, 255, 0.5);--name:#0066BB;--def:#008800;--annotation:#007020;}body{background-color:var(--pdoc-background);}html, body{width:100%;height:100%;}@media (max-width:769px){#navtoggle{cursor:pointer;position:absolute;width:50px;height:40px;top:1rem;right:1rem;border-color:var(--text);color:var(--text);display:flex;opacity:0.8;}#navtoggle:hover{opacity:1;}#togglestate + div{display:none;}#togglestate:checked + div{display:inherit;}main, header{padding:2rem 3vw;}.git-button{display:none !important;}nav input[type="search"]:valid ~ *{display:none !important;}}@media (min-width:770px){:root{--sidebar-width:clamp(12.5rem, 28vw, 22rem);}nav{position:fixed;overflow:auto;height:100vh;width:var(--sidebar-width);}main, header{padding:3rem 2rem 3rem calc(var(--sidebar-width) + 3rem);width:calc(54rem + var(--sidebar-width));max-width:100%;}#navtoggle{display:none;}}#togglestate{display:none;}nav.pdoc{--pad:1.75rem;--indent:1.5rem;background-color:var(--accent);border-right:1px solid var(--accent2);box-shadow:0 0 20px rgba(50, 50, 50, .2) inset;padding:0 0 0 var(--pad);overflow-wrap:anywhere;scrollbar-width:thin; scrollbar-color:var(--accent2) transparent }nav.pdoc::-webkit-scrollbar{width:.4rem; }nav.pdoc::-webkit-scrollbar-thumb{background-color:var(--accent2); }nav.pdoc > div{padding:var(--pad) 0;}nav.pdoc .module-list-button{display:inline-flex;align-items:center;color:var(--text);border-color:var(--muted);margin-bottom:1rem;}nav.pdoc .module-list-button:hover{border-color:var(--text);}nav.pdoc input[type=search]{display:block;outline-offset:0;width:calc(100% - var(--pad));}nav.pdoc ul{list-style:none;padding-left:0;}nav.pdoc li{display:block;margin:0;padding:.2rem 0 .2rem var(--indent);transition:all 100ms;}nav.pdoc > div > ul > li{padding-left:0;}nav.pdoc li:hover{background-color:var(--nav-hover);}nav.pdoc a, nav.pdoc a:hover{color:var(--text);}nav.pdoc a{display:block;}nav.pdoc > h2:first-of-type{margin-top:1.5rem;}nav.pdoc .class:before{content:"class ";color:var(--muted);}nav.pdoc .function:after{content:"()";color:var(--muted);}html, main{scroll-behavior:smooth;}.pdoc{color:var(--text);box-sizing:border-box;line-height:1.5;background:none;}.pdoc .pdoc-button{display:inline-block;border:solid black 1px;border-radius:2px;font-size:.75rem;padding:calc(0.5em - 1px) 1em;transition:100ms all;}.pdoc .visually-hidden{position:absolute !important;width:1px !important;height:1px !important;padding:0 !important;margin:-1px !important;overflow:hidden !important;clip:rect(0, 0, 0, 0) !important;white-space:nowrap !important;border:0 !important;}.pdoc h1, .pdoc h2, .pdoc h3{font-weight:300;margin:.3em 0;padding:.2em 0;}.pdoc a{text-decoration:none;color:var(--link);}.pdoc a:hover{color:var(--link-hover);}.pdoc blockquote{margin-left:2rem;}.pdoc pre{background-color:var(--code);border-top:1px solid var(--accent2);border-bottom:1px solid var(--accent2);margin-bottom:1em;padding:.5rem 0 .5rem .5rem;overflow-x:auto;}.pdoc code{color:var(--text);padding:.2em .4em;margin:0;font-size:85%;background-color:var(--code);border-radius:6px;}.pdoc a > code{color:inherit;}.pdoc pre > code{display:inline-block;font-size:inherit;background:none;border:none;padding:0;}.pdoc .modulename{margin-top:0;font-weight:bold;}.pdoc .modulename a{color:var(--link);transition:100ms all;}.pdoc .git-button{float:right;border:solid var(--link) 1px;}.pdoc .git-button:hover{background-color:var(--link);color:var(--pdoc-background);}.pdoc details{--shift:-40px;text-align:right;margin-top:var(--shift);margin-bottom:calc(0px - var(--shift));clear:both;filter:opacity(1);}.pdoc details:not([open]){height:0;overflow:visible;}.pdoc details > summary{font-size:.75rem;cursor:pointer;color:var(--muted);border-width:0;padding:0 .7em;display:inline-block;display:inline list-item;user-select:none;}.pdoc details > summary:focus{outline:0;}.pdoc details > div{margin-top:calc(0px - var(--shift) / 2);text-align:left;}.pdoc .docstring{margin-bottom:1.5rem;}.pdoc > section:first-of-type > .docstring{margin-bottom:3rem;}.pdoc .docstring pre{margin-left:1em;margin-right:1em;}.pdoc h1:target,.pdoc h2:target,.pdoc h3:target,.pdoc h4:target,.pdoc h5:target,.pdoc h6:target{background-color:var(--active);box-shadow:-1rem 0 0 0 var(--active);}.pdoc div:target > .attr,.pdoc section:target > .attr,.pdoc dd:target > a{background-color:var(--active);}.pdoc .attr:hover{filter:contrast(0.95);}.pdoc .headerlink{position:absolute;width:0;margin-left:-1.5rem;line-height:1.4rem;font-size:1.5rem;font-weight:normal;transition:all 100ms ease-in-out;opacity:0;}.pdoc .attr > .headerlink{margin-left:-2.5rem;}.pdoc *:hover > .headerlink,.pdoc *:target > .attr > .headerlink{opacity:1;}.pdoc .attr{display:block;color:var(--text);margin:1rem 0 .5rem;padding:.4rem 5rem .4rem 1rem;background-color:var(--accent);}.pdoc .classattr{margin-left:2rem;}.pdoc .name{color:var(--name);font-weight:bold;}.pdoc .def{color:var(--def);font-weight:bold;}.pdoc .signature{white-space:pre-wrap;}.pdoc .annotation{color:var(--annotation);}.pdoc .inherited{margin-left:2rem;}.pdoc .inherited dt{font-weight:700;}.pdoc .inherited dt, .pdoc .inherited dd{display:inline;margin-left:0;margin-bottom:.5rem;}.pdoc .inherited dd:not(:last-child):after{content:", ";}.pdoc .inherited .class:before{content:"class ";}.pdoc .inherited .function a:after{content:"()";}.pdoc .search-result .docstring{overflow:auto;max-height:25vh;}.pdoc .search-result.focused > .attr{background-color:var(--active);}.pdoc .attribution{margin-top:2rem;display:block;opacity:0.5;transition:all 200ms;filter:grayscale(100%);}.pdoc .attribution:hover{opacity:1;filter:grayscale(0%);}.pdoc .attribution img{margin-left:5px;height:35px;vertical-align:middle;width:70px;transition:all 200ms;}</style>
</head>
<body>        <nav class="pdoc">
            <label id="navtoggle" for="togglestate" class="pdoc-button"><svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 30 30'><path stroke-linecap='round' stroke="currentColor" stroke-miterlimit='10' stroke-width='2' d='M4 7h22M4 15h22M4 23h22'/></svg></label>
            <input id="togglestate" type="checkbox">
            <div>



                    <h2>Contents</h2>
                    <ul>
  <li><a href="#version-157">Version 1.5.7</a></li>
</ul></li>
<li><a href="#introduction">Introduction</a>
<ul>
  <li><a href="#quick-install">Quick Install</a></li>
  <li><a href="#developer-install">Developer Install</a></li>
</ul></li>
<li><a href="#tutorial">Tutorial</a>
<ul>
  <li><a href="#creatingopeningclosing-a-netcdf-file">Creating/Opening/Closing a netCDF file</a></li>
  <li><a href="#groups-in-a-netcdf-file">Groups in a netCDF file</a></li>
  <li><a href="#dimensions-in-a-netcdf-file">Dimensions in a netCDF file</a></li>
  <li><a href="#variables-in-a-netcdf-file">Variables in a netCDF file</a></li>
  <li><a href="#attributes-in-a-netcdf-file">Attributes in a netCDF file</a></li>
  <li><a href="#writing-data-to-and-retrieving-data-from-a-netcdf-variable">Writing data to and retrieving data from a netCDF variable</a></li>
  <li><a href="#dealing-with-time-coordinates">Dealing with time coordinates</a></li>
  <li><a href="#reading-data-from-a-multi-file-netcdf-dataset">Reading data from a multi-file netCDF dataset</a></li>
  <li><a href="#efficient-compression-of-netcdf-variables">Efficient compression of netCDF variables</a></li>
  <li><a href="#beyond-homogeneous-arrays-of-a-fixed-type-compound-data-types">Beyond homogeneous arrays of a fixed type - compound data types</a></li>
  <li><a href="#variable-length-vlen-data-types">Variable-length (vlen) data types</a></li>
  <li><a href="#enum-data-type">Enum data type</a></li>
  <li><a href="#parallel-io">Parallel IO</a></li>
  <li><a href="#dealing-with-strings">Dealing with strings</a></li>
  <li><a href="#in-memory-diskless-datasets">In-memory (diskless) Datasets</a></li>
</ul>



                    <h2>API Documentation</h2>
                        <ul class="memberlist">
            <li>
                    <a class="class" href="#Dataset">Dataset</a>
                            <ul class="memberlist">
                        <li>
                                <a class="function" href="#Dataset.__init__">Dataset</a>
                        </li>
                        <li>
                                <a class="function" href="#Dataset.filepath">filepath</a>
                        </li>
                        <li>
                                <a class="function" href="#Dataset.close">close</a>
                        </li>
                        <li>
                                <a class="function" href="#Dataset.isopen">isopen</a>
                        </li>
                        <li>
                                <a class="function" href="#Dataset.sync">sync</a>
                        </li>
                        <li>
                                <a class="function" href="#Dataset.set_fill_on">set_fill_on</a>
                        </li>
                        <li>
                                <a class="function" href="#Dataset.set_fill_off">set_fill_off</a>
                        </li>
                        <li>
                                <a class="function" href="#Dataset.createDimension">createDimension</a>
                        </li>
                        <li>
                                <a class="function" href="#Dataset.renameDimension">renameDimension</a>
                        </li>
                        <li>
                                <a class="function" href="#Dataset.createCompoundType">createCompoundType</a>
                        </li>
                        <li>
                                <a class="function" href="#Dataset.createVLType">createVLType</a>
                        </li>
                        <li>
                                <a class="function" href="#Dataset.createEnumType">createEnumType</a>
                        </li>
                        <li>
                                <a class="function" href="#Dataset.createVariable">createVariable</a>
                        </li>
                        <li>
                                <a class="function" href="#Dataset.renameVariable">renameVariable</a>
                        </li>
                        <li>
                                <a class="function" href="#Dataset.createGroup">createGroup</a>
                        </li>
                        <li>
                                <a class="function" href="#Dataset.ncattrs">ncattrs</a>
                        </li>
                        <li>
                                <a class="function" href="#Dataset.setncattr">setncattr</a>
                        </li>
                        <li>
                                <a class="function" href="#Dataset.setncattr_string">setncattr_string</a>
                        </li>
                        <li>
                                <a class="function" href="#Dataset.setncatts">setncatts</a>
                        </li>
                        <li>
                                <a class="function" href="#Dataset.getncattr">getncattr</a>
                        </li>
                        <li>
                                <a class="function" href="#Dataset.delncattr">delncattr</a>
                        </li>
                        <li>
                                <a class="function" href="#Dataset.renameAttribute">renameAttribute</a>
                        </li>
                        <li>
                                <a class="function" href="#Dataset.renameGroup">renameGroup</a>
                        </li>
                        <li>
                                <a class="function" href="#Dataset.set_auto_chartostring">set_auto_chartostring</a>
                        </li>
                        <li>
                                <a class="function" href="#Dataset.set_auto_maskandscale">set_auto_maskandscale</a>
                        </li>
                        <li>
                                <a class="function" href="#Dataset.set_auto_mask">set_auto_mask</a>
                        </li>
                        <li>
                                <a class="function" href="#Dataset.set_auto_scale">set_auto_scale</a>
                        </li>
                        <li>
                                <a class="function" href="#Dataset.set_always_mask">set_always_mask</a>
                        </li>
                        <li>
                                <a class="function" href="#Dataset.set_ncstring_attrs">set_ncstring_attrs</a>
                        </li>
                        <li>
                                <a class="function" href="#Dataset.get_variables_by_attributes">get_variables_by_attributes</a>
                        </li>
                        <li>
                                <a class="function" href="#Dataset.fromcdl">fromcdl</a>
                        </li>
                        <li>
                                <a class="function" href="#Dataset.tocdl">tocdl</a>
                        </li>
                        <li>
                                <a class="variable" href="#Dataset.name">name</a>
                        </li>
                        <li>
                                <a class="variable" href="#Dataset.groups">groups</a>
                        </li>
                        <li>
                                <a class="variable" href="#Dataset.dimensions">dimensions</a>
                        </li>
                        <li>
                                <a class="variable" href="#Dataset.variables">variables</a>
                        </li>
                        <li>
                                <a class="variable" href="#Dataset.disk_format">disk_format</a>
                        </li>
                        <li>
                                <a class="variable" href="#Dataset.path">path</a>
                        </li>
                        <li>
                                <a class="variable" href="#Dataset.parent">parent</a>
                        </li>
                        <li>
                                <a class="variable" href="#Dataset.file_format">file_format</a>
                        </li>
                        <li>
                                <a class="variable" href="#Dataset.data_model">data_model</a>
                        </li>
                        <li>
                                <a class="variable" href="#Dataset.cmptypes">cmptypes</a>
                        </li>
                        <li>
                                <a class="variable" href="#Dataset.vltypes">vltypes</a>
                        </li>
                        <li>
                                <a class="variable" href="#Dataset.enumtypes">enumtypes</a>
                        </li>
                        <li>
                                <a class="variable" href="#Dataset.keepweakref">keepweakref</a>
                        </li>
                </ul>

            </li>
            <li>
                    <a class="class" href="#Variable">Variable</a>
                            <ul class="memberlist">
                        <li>
                                <a class="function" href="#Variable.__init__">Variable</a>
                        </li>
                        <li>
                                <a class="function" href="#Variable.group">group</a>
                        </li>
                        <li>
                                <a class="function" href="#Variable.ncattrs">ncattrs</a>
                        </li>
                        <li>
                                <a class="function" href="#Variable.setncattr">setncattr</a>
                        </li>
                        <li>
                                <a class="function" href="#Variable.setncattr_string">setncattr_string</a>
                        </li>
                        <li>
                                <a class="function" href="#Variable.setncatts">setncatts</a>
                        </li>
                        <li>
                                <a class="function" href="#Variable.getncattr">getncattr</a>
                        </li>
                        <li>
                                <a class="function" href="#Variable.delncattr">delncattr</a>
                        </li>
                        <li>
                                <a class="function" href="#Variable.filters">filters</a>
                        </li>
                        <li>
                                <a class="function" href="#Variable.endian">endian</a>
                        </li>
                        <li>
                                <a class="function" href="#Variable.chunking">chunking</a>
                        </li>
                        <li>
                                <a class="function" href="#Variable.get_var_chunk_cache">get_var_chunk_cache</a>
                        </li>
                        <li>
                                <a class="function" href="#Variable.set_var_chunk_cache">set_var_chunk_cache</a>
                        </li>
                        <li>
                                <a class="function" href="#Variable.renameAttribute">renameAttribute</a>
                        </li>
                        <li>
                                <a class="function" href="#Variable.assignValue">assignValue</a>
                        </li>
                        <li>
                                <a class="function" href="#Variable.getValue">getValue</a>
                        </li>
                        <li>
                                <a class="function" href="#Variable.set_auto_chartostring">set_auto_chartostring</a>
                        </li>
                        <li>
                                <a class="function" href="#Variable.use_nc_get_vars">use_nc_get_vars</a>
                        </li>
                        <li>
                                <a class="function" href="#Variable.set_auto_maskandscale">set_auto_maskandscale</a>
                        </li>
                        <li>
                                <a class="function" href="#Variable.set_auto_scale">set_auto_scale</a>
                        </li>
                        <li>
                                <a class="function" href="#Variable.set_auto_mask">set_auto_mask</a>
                        </li>
                        <li>
                                <a class="function" href="#Variable.set_always_mask">set_always_mask</a>
                        </li>
                        <li>
                                <a class="function" href="#Variable.set_ncstring_attrs">set_ncstring_attrs</a>
                        </li>
                        <li>
                                <a class="function" href="#Variable.set_collective">set_collective</a>
                        </li>
                        <li>
                                <a class="function" href="#Variable.get_dims">get_dims</a>
                        </li>
                        <li>
                                <a class="variable" href="#Variable.name">name</a>
                        </li>
                        <li>
                                <a class="variable" href="#Variable.datatype">datatype</a>
                        </li>
                        <li>
                                <a class="variable" href="#Variable.shape">shape</a>
                        </li>
                        <li>
                                <a class="variable" href="#Variable.size">size</a>
                        </li>
                        <li>
                                <a class="variable" href="#Variable.dimensions">dimensions</a>
                        </li>
                        <li>
                                <a class="variable" href="#Variable.ndim">ndim</a>
                        </li>
                        <li>
                                <a class="variable" href="#Variable.dtype">dtype</a>
                        </li>
                        <li>
                                <a class="variable" href="#Variable.mask">mask</a>
                        </li>
                        <li>
                                <a class="variable" href="#Variable.scale">scale</a>
                        </li>
                        <li>
                                <a class="variable" href="#Variable.always_mask">always_mask</a>
                        </li>
                        <li>
                                <a class="variable" href="#Variable.chartostring">chartostring</a>
                        </li>
                </ul>

            </li>
            <li>
                    <a class="class" href="#Dimension">Dimension</a>
                            <ul class="memberlist">
                        <li>
                                <a class="function" href="#Dimension.__init__">Dimension</a>
                        </li>
                        <li>
                                <a class="function" href="#Dimension.group">group</a>
                        </li>
                        <li>
                                <a class="function" href="#Dimension.isunlimited">isunlimited</a>
                        </li>
                        <li>
                                <a class="variable" href="#Dimension.name">name</a>
                        </li>
                        <li>
                                <a class="variable" href="#Dimension.size">size</a>
                        </li>
                </ul>

            </li>
            <li>
                    <a class="class" href="#Group">Group</a>
                            <ul class="memberlist">
                        <li>
                                <a class="function" href="#Group.__init__">Group</a>
                        </li>
                        <li>
                                <a class="function" href="#Group.close">close</a>
                        </li>
                </ul>

            </li>
            <li>
                    <a class="class" href="#MFDataset">MFDataset</a>
                            <ul class="memberlist">
                        <li>
                                <a class="function" href="#MFDataset.__init__">MFDataset</a>
                        </li>
                        <li>
                                <a class="function" href="#MFDataset.ncattrs">ncattrs</a>
                        </li>
                        <li>
                                <a class="function" href="#MFDataset.close">close</a>
                        </li>
                </ul>

            </li>
            <li>
                    <a class="class" href="#MFTime">MFTime</a>
                            <ul class="memberlist">
                        <li>
                                <a class="function" href="#MFTime.__init__">MFTime</a>
                        </li>
                </ul>

            </li>
            <li>
                    <a class="class" href="#CompoundType">CompoundType</a>
                            <ul class="memberlist">
                        <li>
                                <a class="function" href="#CompoundType.__init__">CompoundType</a>
                        </li>
                        <li>
                                <a class="variable" href="#CompoundType.dtype">dtype</a>
                        </li>
                        <li>
                                <a class="variable" href="#CompoundType.dtype_view">dtype_view</a>
                        </li>
                        <li>
                                <a class="variable" href="#CompoundType.name">name</a>
                        </li>
                </ul>

            </li>
            <li>
                    <a class="class" href="#VLType">VLType</a>
                            <ul class="memberlist">
                        <li>
                                <a class="function" href="#VLType.__init__">VLType</a>
                        </li>
                        <li>
                                <a class="variable" href="#VLType.dtype">dtype</a>
                        </li>
                        <li>
                                <a class="variable" href="#VLType.name">name</a>
                        </li>
                </ul>

            </li>
            <li>
                    <a class="function" href="#date2num">date2num</a>
            </li>
            <li>
                    <a class="function" href="#num2date">num2date</a>
            </li>
            <li>
                    <a class="function" href="#date2index">date2index</a>
            </li>
            <li>
                    <a class="function" href="#stringtochar">stringtochar</a>
            </li>
            <li>
                    <a class="function" href="#chartostring">chartostring</a>
            </li>
            <li>
                    <a class="function" href="#stringtoarr">stringtoarr</a>
            </li>
            <li>
                    <a class="function" href="#getlibversion">getlibversion</a>
            </li>
            <li>
                    <a class="class" href="#EnumType">EnumType</a>
                            <ul class="memberlist">
                        <li>
                                <a class="function" href="#EnumType.__init__">EnumType</a>
                        </li>
                        <li>
                                <a class="variable" href="#EnumType.dtype">dtype</a>
                        </li>
                        <li>
                                <a class="variable" href="#EnumType.name">name</a>
                        </li>
                        <li>
                                <a class="variable" href="#EnumType.enum_dict">enum_dict</a>
                        </li>
                </ul>

            </li>
            <li>
                    <a class="function" href="#get_chunk_cache">get_chunk_cache</a>
            </li>
            <li>
                    <a class="function" href="#set_chunk_cache">set_chunk_cache</a>
            </li>
    </ul>


                    <a class="attribution" title="pdoc: Python API documentation generator" href="https://pdoc.dev">
                        built with <span class="visually-hidden">pdoc</span><img
                            alt="pdoc logo"
                            src="data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%20role%3D%22img%22%20aria-label%3D%22pdoc%20logo%22%20width%3D%22300%22%20height%3D%22150%22%20viewBox%3D%22-1%200%2060%2030%22%3E%3Ctitle%3Epdoc%3C/title%3E%3Cpath%20d%3D%22M29.621%2021.293c-.011-.273-.214-.475-.511-.481a.5.5%200%200%200-.489.503l-.044%201.393c-.097.551-.695%201.215-1.566%201.704-.577.428-1.306.486-2.193.182-1.426-.617-2.467-1.654-3.304-2.487l-.173-.172a3.43%203.43%200%200%200-.365-.306.49.49%200%200%200-.286-.196c-1.718-1.06-4.931-1.47-7.353.191l-.219.15c-1.707%201.187-3.413%202.131-4.328%201.03-.02-.027-.49-.685-.141-1.763.233-.721.546-2.408.772-4.076.042-.09.067-.187.046-.288.166-1.347.277-2.625.241-3.351%201.378-1.008%202.271-2.586%202.271-4.362%200-.976-.272-1.935-.788-2.774-.057-.094-.122-.18-.184-.268.033-.167.052-.339.052-.516%200-1.477-1.202-2.679-2.679-2.679-.791%200-1.496.352-1.987.9a6.3%206.3%200%200%200-1.001.029c-.492-.564-1.207-.929-2.012-.929-1.477%200-2.679%201.202-2.679%202.679A2.65%202.65%200%200%200%20.97%206.554c-.383.747-.595%201.572-.595%202.41%200%202.311%201.507%204.29%203.635%205.107-.037.699-.147%202.27-.423%203.294l-.137.461c-.622%202.042-2.515%208.257%201.727%2010.643%201.614.908%203.06%201.248%204.317%201.248%202.665%200%204.492-1.524%205.322-2.401%201.476-1.559%202.886-1.854%206.491.82%201.877%201.393%203.514%201.753%204.861%201.068%202.223-1.713%202.811-3.867%203.399-6.374.077-.846.056-1.469.054-1.537zm-4.835%204.313c-.054.305-.156.586-.242.629-.034-.007-.131-.022-.307-.157-.145-.111-.314-.478-.456-.908.221.121.432.25.675.355.115.039.219.051.33.081zm-2.251-1.238c-.05.33-.158.648-.252.694-.022.001-.125-.018-.307-.157-.217-.166-.488-.906-.639-1.573.358.344.754.693%201.198%201.036zm-3.887-2.337c-.006-.116-.018-.231-.041-.342.635.145%201.189.368%201.599.625.097.231.166.481.174.642-.03.049-.055.101-.067.158-.046.013-.128.026-.298.004-.278-.037-.901-.57-1.367-1.087zm-1.127-.497c.116.306.176.625.12.71-.019.014-.117.045-.345.016-.206-.027-.604-.332-.986-.695.41-.051.816-.056%201.211-.031zm-4.535%201.535c.209.22.379.47.358.598-.006.041-.088.138-.351.234-.144.055-.539-.063-.979-.259a11.66%2011.66%200%200%200%20.972-.573zm.983-.664c.359-.237.738-.418%201.126-.554.25.237.479.548.457.694-.006.042-.087.138-.351.235-.174.064-.694-.105-1.232-.375zm-3.381%201.794c-.022.145-.061.29-.149.401-.133.166-.358.248-.69.251h-.002c-.133%200-.306-.26-.45-.621.417.091.854.07%201.291-.031zm-2.066-8.077a4.78%204.78%200%200%201-.775-.584c.172-.115.505-.254.88-.378l-.105.962zm-.331%202.302a10.32%2010.32%200%200%201-.828-.502c.202-.143.576-.328.984-.49l-.156.992zm-.45%202.157l-.701-.403c.214-.115.536-.249.891-.376a11.57%2011.57%200%200%201-.19.779zm-.181%201.716c.064.398.194.702.298.893-.194-.051-.435-.162-.736-.398.061-.119.224-.3.438-.495zM8.87%204.141c0%20.152-.123.276-.276.276s-.275-.124-.275-.276.123-.276.276-.276.275.124.275.276zm-.735-.389a1.15%201.15%200%200%200-.314.783%201.16%201.16%200%200%200%201.162%201.162c.457%200%20.842-.27%201.032-.653.026.117.042.238.042.362a1.68%201.68%200%200%201-1.679%201.679%201.68%201.68%200%200%201-1.679-1.679c0-.843.626-1.535%201.436-1.654zM5.059%205.406A1.68%201.68%200%200%201%203.38%207.085a1.68%201.68%200%200%201-1.679-1.679c0-.037.009-.072.011-.109.21.3.541.508.935.508a1.16%201.16%200%200%200%201.162-1.162%201.14%201.14%200%200%200-.474-.912c.015%200%20.03-.005.045-.005.926.001%201.679.754%201.679%201.68zM3.198%204.141c0%20.152-.123.276-.276.276s-.275-.124-.275-.276.123-.276.276-.276.275.124.275.276zM1.375%208.964c0-.52.103-1.035.288-1.52.466.394%201.06.64%201.717.64%201.144%200%202.116-.725%202.499-1.738.383%201.012%201.355%201.738%202.499%201.738.867%200%201.631-.421%202.121-1.062.307.605.478%201.267.478%201.942%200%202.486-2.153%204.51-4.801%204.51s-4.801-2.023-4.801-4.51zm24.342%2019.349c-.985.498-2.267.168-3.813-.979-3.073-2.281-5.453-3.199-7.813-.705-1.315%201.391-4.163%203.365-8.423.97-3.174-1.786-2.239-6.266-1.261-9.479l.146-.492c.276-1.02.395-2.457.444-3.268a6.11%206.11%200%200%200%201.18.115%206.01%206.01%200%200%200%202.536-.562l-.006.175c-.802.215-1.848.612-2.021%201.25-.079.295.021.601.274.837.219.203.415.364.598.501-.667.304-1.243.698-1.311%201.179-.02.144-.022.507.393.787.213.144.395.26.564.365-1.285.521-1.361.96-1.381%201.126-.018.142-.011.496.427.746l.854.489c-.473.389-.971.914-.999%201.429-.018.278.095.532.316.713.675.556%201.231.721%201.653.721.059%200%20.104-.014.158-.02.207.707.641%201.64%201.513%201.64h.013c.8-.008%201.236-.345%201.462-.626.173-.216.268-.457.325-.692.424.195.93.374%201.372.374.151%200%20.294-.021.423-.068.732-.27.944-.704.993-1.021.009-.061.003-.119.002-.179.266.086.538.147.789.147.15%200%20.294-.021.423-.069.542-.2.797-.489.914-.754.237.147.478.258.704.288.106.014.205.021.296.021.356%200%20.595-.101.767-.229.438.435%201.094.992%201.656%201.067.106.014.205.021.296.021a1.56%201.56%200%200%200%20.323-.035c.17.575.453%201.289.866%201.605.358.273.665.362.914.362a.99.99%200%200%200%20.421-.093%201.03%201.03%200%200%200%20.245-.164c.168.428.39.846.68%201.068.358.273.665.362.913.362a.99.99%200%200%200%20.421-.093c.317-.148.512-.448.639-.762.251.157.495.257.726.257.127%200%20.25-.024.37-.071.427-.17.706-.617.841-1.314.022-.015.047-.022.068-.038.067-.051.133-.104.196-.159-.443%201.486-1.107%202.761-2.086%203.257zM8.66%209.925a.5.5%200%201%200-1%200c0%20.653-.818%201.205-1.787%201.205s-1.787-.552-1.787-1.205a.5.5%200%201%200-1%200c0%201.216%201.25%202.205%202.787%202.205s2.787-.989%202.787-2.205zm4.4%2015.965l-.208.097c-2.661%201.258-4.708%201.436-6.086.527-1.542-1.017-1.88-3.19-1.844-4.198a.4.4%200%200%200-.385-.414c-.242-.029-.406.164-.414.385-.046%201.249.367%203.686%202.202%204.896.708.467%201.547.7%202.51.7%201.248%200%202.706-.392%204.362-1.174l.185-.086a.4.4%200%200%200%20.205-.527c-.089-.204-.326-.291-.527-.206zM9.547%202.292c.093.077.205.114.317.114a.5.5%200%200%200%20.318-.886L8.817.397a.5.5%200%200%200-.703.068.5.5%200%200%200%20.069.703l1.364%201.124zm-7.661-.065c.086%200%20.173-.022.253-.068l1.523-.893a.5.5%200%200%200-.506-.863l-1.523.892a.5.5%200%200%200-.179.685c.094.158.261.247.432.247z%22%20transform%3D%22matrix%28-1%200%200%201%2058%200%29%22%20fill%3D%22%233bb300%22/%3E%3Cpath%20d%3D%22M.3%2021.86V10.18q0-.46.02-.68.04-.22.18-.5.28-.54%201.34-.54%201.06%200%201.42.28.38.26.44.78.76-1.04%202.38-1.04%201.64%200%203.1%201.54%201.46%201.54%201.46%203.58%200%202.04-1.46%203.58-1.44%201.54-3.08%201.54-1.64%200-2.38-.92v4.04q0%20.46-.04.68-.02.22-.18.5-.14.3-.5.42-.36.12-.98.12-.62%200-1-.12-.36-.12-.52-.4-.14-.28-.18-.5-.02-.22-.02-.68zm3.96-9.42q-.46.54-.46%201.18%200%20.64.46%201.18.48.52%201.2.52.74%200%201.24-.52.52-.52.52-1.18%200-.66-.48-1.18-.48-.54-1.26-.54-.76%200-1.22.54zm14.741-8.36q.16-.3.54-.42.38-.12%201-.12.64%200%201.02.12.38.12.52.42.16.3.18.54.04.22.04.68v11.94q0%20.46-.04.7-.02.22-.18.5-.3.54-1.7.54-1.38%200-1.54-.98-.84.96-2.34.96-1.8%200-3.28-1.56-1.48-1.58-1.48-3.66%200-2.1%201.48-3.68%201.5-1.58%203.28-1.58%201.48%200%202.3%201v-4.2q0-.46.02-.68.04-.24.18-.52zm-3.24%2010.86q.52.54%201.26.54.74%200%201.22-.54.5-.54.5-1.18%200-.66-.48-1.22-.46-.56-1.26-.56-.8%200-1.28.56-.48.54-.48%201.2%200%20.66.52%201.2zm7.833-1.2q0-2.4%201.68-3.96%201.68-1.56%203.84-1.56%202.16%200%203.82%201.56%201.66%201.54%201.66%203.94%200%201.66-.86%202.96-.86%201.28-2.1%201.9-1.22.6-2.54.6-1.32%200-2.56-.64-1.24-.66-2.1-1.92-.84-1.28-.84-2.88zm4.18%201.44q.64.48%201.3.48.66%200%201.32-.5.66-.5.66-1.48%200-.98-.62-1.46-.62-.48-1.34-.48-.72%200-1.34.5-.62.5-.62%201.48%200%20.96.64%201.46zm11.412-1.44q0%20.84.56%201.32.56.46%201.18.46.64%200%201.18-.36.56-.38.9-.38.6%200%201.46%201.06.46.58.46%201.04%200%20.76-1.1%201.42-1.14.8-2.8.8-1.86%200-3.58-1.34-.82-.64-1.34-1.7-.52-1.08-.52-2.36%200-1.3.52-2.34.52-1.06%201.34-1.7%201.66-1.32%203.54-1.32.76%200%201.48.22.72.2%201.06.4l.32.2q.36.24.56.38.52.4.52.92%200%20.5-.42%201.14-.72%201.1-1.38%201.1-.38%200-1.08-.44-.36-.34-1.04-.34-.66%200-1.24.48-.58.48-.58%201.34z%22%20fill%3D%22green%22/%3E%3C/svg%3E"/>
                    </a>
            </div>
        </nav>
    <main class="pdoc">
            <section>
                    <h1 class="modulename">
netCDF4    </h1>

                        <div class="docstring"><h2 id="version-157">Version 1.5.7</h2>

<h1 id="introduction">Introduction</h1>

<p>netcdf4-python is a Python interface to the netCDF C library.</p>

<p><a href="http://www.unidata.ucar.edu/software/netcdf/">netCDF</a> version 4 has many features
not found in earlier versions of the library and is implemented on top of
<a href="http://www.hdfgroup.org/HDF5">HDF5</a>. This module can read and write
files in both the new netCDF 4 and the old netCDF 3 format, and can create
files that are readable by HDF5 clients. The API modelled after
<a href="http://dirac.cnrs-orleans.fr/ScientificPython/">Scientific.IO.NetCDF</a>,
and should be familiar to users of that module.</p>

<p>Most new features of netCDF 4 are implemented, such as multiple
unlimited dimensions, groups and zlib data compression.  All the new
numeric data types (such as 64 bit and unsigned integer types) are
implemented. Compound (struct), variable length (vlen) and
enumerated (enum) data types are supported, but not the opaque data type.
Mixtures of compound, vlen and enum data types (such as
compound types containing enums, or vlens containing compound
types) are not supported.</p>

<h2 id="quick-install">Quick Install</h2>

<ul>
<li>the easiest way to get going is to install via <code>pip install netCDF4</code>.
(or if you use the <a href="http://conda.io">conda</a> package manager <code>conda install -c conda-forge netCDF4</code>).</li>
</ul>

<h2 id="developer-install">Developer Install</h2>

<ul>
<li>Clone the
<a href="http://github.com/Unidata/netcdf4-python">github repository</a>.</li>
<li>Make sure the dependencies are satisfied (Python 3.6 or later,
<a href="http://numpy.scipy.org">numpy</a>, 
<a href="http://cython.org">Cython</a>,
<a href="https://github.com/Unidata/cftime">cftime</a>,
<a href="https://pypi.python.org/pypi/setuptools">setuptools</a>,
the <a href="https://www.hdfgroup.org/solutions/hdf5/">HDF5 C library</a>,
and the <a href="https://www.unidata.ucar.edu/software/netcdf/">netCDF C library</a>).
For MPI parallel IO support, an MPI-enabled versions of the netcdf library
is required, as is <a href="http://mpi4py.scipy.org">mpi4py</a>.
Parallel IO further depends on the existence of MPI-enabled HDF5 or the
<a href="https://parallel-netcdf.github.io/">PnetCDF</a> library.</li>
<li>By default, the utility <code>nc-config</code> (installed with netcdf-c)
will be run used to determine where all the dependencies live.</li>
<li>If <code>nc-config</code> is not in your default <code>PATH</code>, you can set the <code>NETCDF4_DIR</code>
environment variable and <code>setup.py</code> will look in <code>$NETCDF4_DIR/bin</code>.
You can also use the file <code>setup.cfg</code> to set the path to <code>nc-config</code>, or
enter the paths to the libraries and include files manually. Just  edit the <code>setup.cfg</code> file
in a text editor and follow the instructions in the comments.
To disable the use of <code>nc-config</code>, set the env var <code>USE_NCCONFIG</code> to 0.
To disable the use of <code>setup.cfg</code>, set <code>USE_SETUPCFG</code> to 0.
As a last resort, the library and include paths can be set via environment variables.
If you go this route, set <code>USE_NCCONFIG</code> and <code>USE_SETUPCFG</code> to 0, and specify
<code>NETCDF4_LIBDIR</code>, <code>NETCDF4_INCDIR</code>, <code>HDF5_LIBDIR</code> and <code>HDF5_INCDIR</code>.
If the dependencies are not found
in any of the paths specified by environment variables, then standard locations
(such as <code>/usr</code> and <code>/usr/local</code>) are searched.</li>
<li>run <code>python setup.py build</code>, then <code>python setup.py install</code> (as root if
necessary).</li>
<li>run the tests in the 'test' directory by running <code>python run_all.py</code>.</li>
</ul>

<h1 id="tutorial">Tutorial</h1>

<ul>
<li><a href="#creatingopeningclosing-a-netcdf-file">Creating/Opening/Closing a netCDF file</a></li>
<li><a href="#groups-in-a-netcdf-file">Groups in a netCDF file</a></li>
<li><a href="#dimensions-in-a-netcdf-file">Dimensions in a netCDF file</a></li>
<li><a href="#variables-in-a-netcdf-file">Variables in a netCDF file</a></li>
<li><a href="#attributes-in-a-netcdf-file">Attributes in a netCDF file</a></li>
<li><a href="#dealing-with-time-coordinates">Dealing with time coordinates</a></li>
<li><a href="#writing-data-to-and-retrieving-data-from-a-netcdf-variable">Writing data to and retrieving data from a netCDF variable</a></li>
<li><a href="#reading-data-from-a-multi-file-netcdf-dataset">Reading data from a multi-file netCDF dataset</a></li>
<li><a href="#efficient-compression-of-netcdf-variables">Efficient compression of netCDF variables</a></li>
<li><a href="#beyond-homogeneous-arrays-of-a-fixed-type-compound-data-types">Beyond homogeneous arrays of a fixed type - compound data types</a></li>
<li><a href="#variable-length-vlen-data-types">Variable-length (vlen) data types</a></li>
<li><a href="#enum-data-type">Enum data type</a></li>
<li><a href="#parallel-io">Parallel IO</a></li>
<li><a href="#dealing-with-strings">Dealing with strings</a></li>
<li><a href="#in-memory-diskless-datasets">In-memory (diskless) Datasets</a></li>
</ul>

<h2 id="creatingopeningclosing-a-netcdf-file">Creating/Opening/Closing a netCDF file</h2>

<p>To create a netCDF file from python, you simply call the <code><a href="#Dataset">Dataset</a></code>
constructor. This is also the method used to open an existing netCDF
file.  If the file is open for write access (<code>mode='w', 'r+'</code> or <code>'a'</code>), you may
write any type of data including new dimensions, groups, variables and
attributes.  netCDF files come in five flavors (<code>NETCDF3_CLASSIC,
NETCDF3_64BIT_OFFSET, NETCDF3_64BIT_DATA, NETCDF4_CLASSIC</code>, and <code>NETCDF4</code>).
<code>NETCDF3_CLASSIC</code> was the original netcdf binary format, and was limited
to file sizes less than 2 Gb. <code>NETCDF3_64BIT_OFFSET</code> was introduced
in version 3.6.0 of the library, and extended the original binary format
to allow for file sizes greater than 2 Gb.
<code>NETCDF3_64BIT_DATA</code> is a new format that requires version 4.4.0 of
the C library - it extends the <code>NETCDF3_64BIT_OFFSET</code> binary format to
allow for unsigned/64 bit integer data types and 64-bit dimension sizes.
<code>NETCDF3_64BIT</code> is an alias for <code>NETCDF3_64BIT_OFFSET</code>.
<code>NETCDF4_CLASSIC</code> files use the version 4 disk format (HDF5), but omits features
not found in the version 3 API. They can be read by netCDF 3 clients
only if they have been relinked against the netCDF 4 library. They can
also be read by HDF5 clients. <code>NETCDF4</code> files use the version 4 disk
format (HDF5) and use the new features of the version 4 API.  The
netCDF4 module can read and write files in any of these formats. When
creating a new file, the format may be specified using the <code>format</code>
keyword in the <code><a href="#Dataset">Dataset</a></code> constructor.  The default format is
<code>NETCDF4</code>. To see how a given file is formatted, you can examine the
<code>data_model</code> attribute.  Closing the netCDF file is
accomplished via the <code><a href="#Dataset.close">Dataset.close</a></code> method of the <code><a href="#Dataset">Dataset</a></code>
instance.</p>

<p>Here's an example:</p>

<div class="codehilite"><pre><span></span><code><span class="o">&gt;&gt;&gt;</span> <span class="kn">from</span> <span class="nn">netCDF4</span> <span class="kn">import</span> <span class="n">Dataset</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">rootgrp</span> <span class="o">=</span> <span class="n">Dataset</span><span class="p">(</span><span class="s2">&quot;test.nc&quot;</span><span class="p">,</span> <span class="s2">&quot;w&quot;</span><span class="p">,</span> <span class="nb">format</span><span class="o">=</span><span class="s2">&quot;NETCDF4&quot;</span><span class="p">)</span>
<span class="o">&gt;&gt;&gt;</span> <span class="nb">print</span><span class="p">(</span><span class="n">rootgrp</span><span class="o">.</span><span class="n">data_model</span><span class="p">)</span>
<span class="n">NETCDF4</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">rootgrp</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
</code></pre></div>

<p>Remote <a href="http://opendap.org">OPeNDAP</a>-hosted datasets can be accessed for
reading over http if a URL is provided to the <code><a href="#Dataset">Dataset</a></code> constructor instead of a
filename.  However, this requires that the netCDF library be built with
OPenDAP support, via the <code>--enable-dap</code> configure option (added in
version 4.0.1).</p>

<h2 id="groups-in-a-netcdf-file">Groups in a netCDF file</h2>

<p>netCDF version 4 added support for organizing data in hierarchical
groups, which are analogous to directories in a filesystem. Groups serve
as containers for variables, dimensions and attributes, as well as other
groups.  A <code><a href="#Dataset">Dataset</a></code> creates a special group, called
the 'root group', which is similar to the root directory in a unix
filesystem.  To create <code><a href="#Group">Group</a></code> instances, use the
<code><a href="#Dataset.createGroup">Dataset.createGroup</a></code> method of a <code><a href="#Dataset">Dataset</a></code> or <code><a href="#Group">Group</a></code>
instance. <code><a href="#Dataset.createGroup">Dataset.createGroup</a></code> takes a single argument, a
python string containing the name of the new group. The new <code><a href="#Group">Group</a></code>
instances contained within the root group can be accessed by name using
the <code>groups</code> dictionary attribute of the <code><a href="#Dataset">Dataset</a></code> instance.  Only
<code>NETCDF4</code> formatted files support Groups, if you try to create a Group
in a netCDF 3 file you will get an error message.</p>

<div class="codehilite"><pre><span></span><code><span class="o">&gt;&gt;&gt;</span> <span class="n">rootgrp</span> <span class="o">=</span> <span class="n">Dataset</span><span class="p">(</span><span class="s2">&quot;test.nc&quot;</span><span class="p">,</span> <span class="s2">&quot;a&quot;</span><span class="p">)</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">fcstgrp</span> <span class="o">=</span> <span class="n">rootgrp</span><span class="o">.</span><span class="n">createGroup</span><span class="p">(</span><span class="s2">&quot;forecasts&quot;</span><span class="p">)</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">analgrp</span> <span class="o">=</span> <span class="n">rootgrp</span><span class="o">.</span><span class="n">createGroup</span><span class="p">(</span><span class="s2">&quot;analyses&quot;</span><span class="p">)</span>
<span class="o">&gt;&gt;&gt;</span> <span class="nb">print</span><span class="p">(</span><span class="n">rootgrp</span><span class="o">.</span><span class="n">groups</span><span class="p">)</span>
<span class="p">{</span><span class="s1">&#39;forecasts&#39;</span><span class="p">:</span> <span class="o">&lt;</span><span class="k">class</span> <span class="err">&#39;</span><span class="nc">netCDF4</span><span class="o">.</span><span class="n">_netCDF4</span><span class="o">.</span><span class="n">Group</span><span class="s1">&#39;&gt;</span>
<span class="n">group</span> <span class="o">/</span><span class="n">forecasts</span><span class="p">:</span>
    <span class="n">dimensions</span><span class="p">(</span><span class="n">sizes</span><span class="p">):</span> 
    <span class="n">variables</span><span class="p">(</span><span class="n">dimensions</span><span class="p">):</span> 
    <span class="n">groups</span><span class="p">:</span> <span class="p">,</span> <span class="s1">&#39;analyses&#39;</span><span class="p">:</span> <span class="o">&lt;</span><span class="k">class</span> <span class="err">&#39;</span><span class="nc">netCDF4</span><span class="o">.</span><span class="n">_netCDF4</span><span class="o">.</span><span class="n">Group</span><span class="s1">&#39;&gt;</span>
<span class="n">group</span> <span class="o">/</span><span class="n">analyses</span><span class="p">:</span>
    <span class="n">dimensions</span><span class="p">(</span><span class="n">sizes</span><span class="p">):</span> 
    <span class="n">variables</span><span class="p">(</span><span class="n">dimensions</span><span class="p">):</span> 
    <span class="n">groups</span><span class="p">:</span> <span class="p">}</span>
<span class="o">&gt;&gt;&gt;</span>
</code></pre></div>

<p>Groups can exist within groups in a <code><a href="#Dataset">Dataset</a></code>, just as directories
exist within directories in a unix filesystem. Each <code><a href="#Group">Group</a></code> instance
has a <code>groups</code> attribute dictionary containing all of the group
instances contained within that group. Each <code><a href="#Group">Group</a></code> instance also has a
<code>path</code> attribute that contains a simulated unix directory path to
that group.  To simplify the creation of nested groups, you can
use a unix-like path as an argument to <code><a href="#Dataset.createGroup">Dataset.createGroup</a></code>.</p>

<div class="codehilite"><pre><span></span><code><span class="o">&gt;&gt;&gt;</span> <span class="n">fcstgrp1</span> <span class="o">=</span> <span class="n">rootgrp</span><span class="o">.</span><span class="n">createGroup</span><span class="p">(</span><span class="s2">&quot;/forecasts/model1&quot;</span><span class="p">)</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">fcstgrp2</span> <span class="o">=</span> <span class="n">rootgrp</span><span class="o">.</span><span class="n">createGroup</span><span class="p">(</span><span class="s2">&quot;/forecasts/model2&quot;</span><span class="p">)</span>
</code></pre></div>

<p>If any of the intermediate elements of the path do not exist, they are created,
just as with the unix command <code>'mkdir -p'</code>. If you try to create a group
that already exists, no error will be raised, and the existing group will be
returned.</p>

<p>Here's an example that shows how to navigate all the groups in a
<code><a href="#Dataset">Dataset</a></code>. The function <code>walktree</code> is a Python generator that is used
to walk the directory tree. Note that printing the <code><a href="#Dataset">Dataset</a></code> or <code><a href="#Group">Group</a></code>
object yields summary information about it's contents.</p>

<div class="codehilite"><pre><span></span><code><span class="o">&gt;&gt;&gt;</span> <span class="k">def</span> <span class="nf">walktree</span><span class="p">(</span><span class="n">top</span><span class="p">):</span>
<span class="o">...</span>     <span class="k">yield</span> <span class="n">top</span><span class="o">.</span><span class="n">groups</span><span class="o">.</span><span class="n">values</span><span class="p">()</span>
<span class="o">...</span>     <span class="k">for</span> <span class="n">value</span> <span class="ow">in</span> <span class="n">top</span><span class="o">.</span><span class="n">groups</span><span class="o">.</span><span class="n">values</span><span class="p">():</span>
<span class="o">...</span>         <span class="k">yield from</span> <span class="n">walktree</span><span class="p">(</span><span class="n">value</span><span class="p">)</span>
<span class="o">&gt;&gt;&gt;</span> <span class="nb">print</span><span class="p">(</span><span class="n">rootgrp</span><span class="p">)</span>
<span class="o">&lt;</span><span class="k">class</span> <span class="err">&#39;</span><span class="nc">netCDF4</span><span class="o">.</span><span class="n">_netCDF4</span><span class="o">.</span><span class="n">Dataset</span><span class="s1">&#39;&gt;</span>
<span class="n">root</span> <span class="n">group</span> <span class="p">(</span><span class="n">NETCDF4</span> <span class="n">data</span> <span class="n">model</span><span class="p">,</span> <span class="n">file</span> <span class="nb">format</span> <span class="n">HDF5</span><span class="p">):</span>
    <span class="n">dimensions</span><span class="p">(</span><span class="n">sizes</span><span class="p">):</span> 
    <span class="n">variables</span><span class="p">(</span><span class="n">dimensions</span><span class="p">):</span> 
    <span class="n">groups</span><span class="p">:</span> <span class="n">forecasts</span><span class="p">,</span> <span class="n">analyses</span>
<span class="o">&gt;&gt;&gt;</span> <span class="k">for</span> <span class="n">children</span> <span class="ow">in</span> <span class="n">walktree</span><span class="p">(</span><span class="n">rootgrp</span><span class="p">):</span>
<span class="o">...</span>     <span class="k">for</span> <span class="n">child</span> <span class="ow">in</span> <span class="n">children</span><span class="p">:</span>
<span class="o">...</span>         <span class="nb">print</span><span class="p">(</span><span class="n">child</span><span class="p">)</span>
<span class="o">&lt;</span><span class="k">class</span> <span class="err">&#39;</span><span class="nc">netCDF4</span><span class="o">.</span><span class="n">_netCDF4</span><span class="o">.</span><span class="n">Group</span><span class="s1">&#39;&gt;</span>
<span class="n">group</span> <span class="o">/</span><span class="n">forecasts</span><span class="p">:</span>
    <span class="n">dimensions</span><span class="p">(</span><span class="n">sizes</span><span class="p">):</span> 
    <span class="n">variables</span><span class="p">(</span><span class="n">dimensions</span><span class="p">):</span> 
    <span class="n">groups</span><span class="p">:</span> <span class="n">model1</span><span class="p">,</span> <span class="n">model2</span>
<span class="o">&lt;</span><span class="k">class</span> <span class="err">&#39;</span><span class="nc">netCDF4</span><span class="o">.</span><span class="n">_netCDF4</span><span class="o">.</span><span class="n">Group</span><span class="s1">&#39;&gt;</span>
<span class="n">group</span> <span class="o">/</span><span class="n">analyses</span><span class="p">:</span>
    <span class="n">dimensions</span><span class="p">(</span><span class="n">sizes</span><span class="p">):</span> 
    <span class="n">variables</span><span class="p">(</span><span class="n">dimensions</span><span class="p">):</span> 
    <span class="n">groups</span><span class="p">:</span> 
<span class="o">&lt;</span><span class="k">class</span> <span class="err">&#39;</span><span class="nc">netCDF4</span><span class="o">.</span><span class="n">_netCDF4</span><span class="o">.</span><span class="n">Group</span><span class="s1">&#39;&gt;</span>
<span class="n">group</span> <span class="o">/</span><span class="n">forecasts</span><span class="o">/</span><span class="n">model1</span><span class="p">:</span>
    <span class="n">dimensions</span><span class="p">(</span><span class="n">sizes</span><span class="p">):</span> 
    <span class="n">variables</span><span class="p">(</span><span class="n">dimensions</span><span class="p">):</span> 
    <span class="n">groups</span><span class="p">:</span> 
<span class="o">&lt;</span><span class="k">class</span> <span class="err">&#39;</span><span class="nc">netCDF4</span><span class="o">.</span><span class="n">_netCDF4</span><span class="o">.</span><span class="n">Group</span><span class="s1">&#39;&gt;</span>
<span class="n">group</span> <span class="o">/</span><span class="n">forecasts</span><span class="o">/</span><span class="n">model2</span><span class="p">:</span>
    <span class="n">dimensions</span><span class="p">(</span><span class="n">sizes</span><span class="p">):</span> 
    <span class="n">variables</span><span class="p">(</span><span class="n">dimensions</span><span class="p">):</span> 
    <span class="n">groups</span><span class="p">:</span> 
</code></pre></div>

<h2 id="dimensions-in-a-netcdf-file">Dimensions in a netCDF file</h2>

<p>netCDF defines the sizes of all variables in terms of dimensions, so
before any variables can be created the dimensions they use must be
created first. A special case, not often used in practice, is that of a
scalar variable, which has no dimensions. A dimension is created using
the <code><a href="#Dataset.createDimension">Dataset.createDimension</a></code> method of a <code><a href="#Dataset">Dataset</a></code>
or <code><a href="#Group">Group</a></code> instance. A Python string is used to set the name of the
dimension, and an integer value is used to set the size. To create an
unlimited dimension (a dimension that can be appended to), the size
value is set to <code>None</code> or 0. In this example, there both the <code>time</code> and
<code>level</code> dimensions are unlimited.  Having more than one unlimited
dimension is a new netCDF 4 feature, in netCDF 3 files there may be only
one, and it must be the first (leftmost) dimension of the variable.</p>

<div class="codehilite"><pre><span></span><code><span class="o">&gt;&gt;&gt;</span> <span class="n">level</span> <span class="o">=</span> <span class="n">rootgrp</span><span class="o">.</span><span class="n">createDimension</span><span class="p">(</span><span class="s2">&quot;level&quot;</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">time</span> <span class="o">=</span> <span class="n">rootgrp</span><span class="o">.</span><span class="n">createDimension</span><span class="p">(</span><span class="s2">&quot;time&quot;</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">lat</span> <span class="o">=</span> <span class="n">rootgrp</span><span class="o">.</span><span class="n">createDimension</span><span class="p">(</span><span class="s2">&quot;lat&quot;</span><span class="p">,</span> <span class="mi">73</span><span class="p">)</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">lon</span> <span class="o">=</span> <span class="n">rootgrp</span><span class="o">.</span><span class="n">createDimension</span><span class="p">(</span><span class="s2">&quot;lon&quot;</span><span class="p">,</span> <span class="mi">144</span><span class="p">)</span>
</code></pre></div>

<p>All of the <code><a href="#Dimension">Dimension</a></code> instances are stored in a python dictionary.</p>

<div class="codehilite"><pre><span></span><code><span class="o">&gt;&gt;&gt;</span> <span class="nb">print</span><span class="p">(</span><span class="n">rootgrp</span><span class="o">.</span><span class="n">dimensions</span><span class="p">)</span>
<span class="p">{</span><span class="s1">&#39;level&#39;</span><span class="p">:</span> <span class="o">&lt;</span><span class="k">class</span> <span class="err">&#39;</span><span class="nc">netCDF4</span><span class="o">.</span><span class="n">_netCDF4</span><span class="o">.</span><span class="n">Dimension</span><span class="s1">&#39;&gt; (unlimited): name = &#39;</span><span class="n">level</span><span class="s1">&#39;, size = 0, &#39;</span><span class="n">time</span><span class="s1">&#39;: &lt;class &#39;</span><span class="n">netCDF4</span><span class="o">.</span><span class="n">_netCDF4</span><span class="o">.</span><span class="n">Dimension</span><span class="s1">&#39;&gt; (unlimited): name = &#39;</span><span class="n">time</span><span class="s1">&#39;, size = 0, &#39;</span><span class="n">lat</span><span class="s1">&#39;: &lt;class &#39;</span><span class="n">netCDF4</span><span class="o">.</span><span class="n">_netCDF4</span><span class="o">.</span><span class="n">Dimension</span><span class="s1">&#39;&gt;: name = &#39;</span><span class="n">lat</span><span class="s1">&#39;, size = 73, &#39;</span><span class="n">lon</span><span class="s1">&#39;: &lt;class &#39;</span><span class="n">netCDF4</span><span class="o">.</span><span class="n">_netCDF4</span><span class="o">.</span><span class="n">Dimension</span><span class="s1">&#39;&gt;: name = &#39;</span><span class="n">lon</span><span class="s1">&#39;, size = 144}</span>
</code></pre></div>

<p>Using the python <code>len</code> function with a <code><a href="#Dimension">Dimension</a></code> instance returns
current size of that dimension.
<code><a href="#Dimension.isunlimited">Dimension.isunlimited</a></code> method of a <code><a href="#Dimension">Dimension</a></code> instance
be used to determine if the dimensions is unlimited, or appendable.</p>

<div class="codehilite"><pre><span></span><code><span class="o">&gt;&gt;&gt;</span> <span class="nb">print</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">lon</span><span class="p">))</span>
<span class="mi">144</span>
<span class="o">&gt;&gt;&gt;</span> <span class="nb">print</span><span class="p">(</span><span class="n">lon</span><span class="o">.</span><span class="n">isunlimited</span><span class="p">())</span>
<span class="kc">False</span>
<span class="o">&gt;&gt;&gt;</span> <span class="nb">print</span><span class="p">(</span><span class="n">time</span><span class="o">.</span><span class="n">isunlimited</span><span class="p">())</span>
<span class="kc">True</span>
</code></pre></div>

<p>Printing the <code><a href="#Dimension">Dimension</a></code> object
provides useful summary info, including the name and length of the dimension,
and whether it is unlimited.</p>

<div class="codehilite"><pre><span></span><code><span class="o">&gt;&gt;&gt;</span> <span class="k">for</span> <span class="n">dimobj</span> <span class="ow">in</span> <span class="n">rootgrp</span><span class="o">.</span><span class="n">dimensions</span><span class="o">.</span><span class="n">values</span><span class="p">():</span>
<span class="o">...</span>     <span class="nb">print</span><span class="p">(</span><span class="n">dimobj</span><span class="p">)</span>
<span class="o">&lt;</span><span class="k">class</span> <span class="err">&#39;</span><span class="nc">netCDF4</span><span class="o">.</span><span class="n">_netCDF4</span><span class="o">.</span><span class="n">Dimension</span><span class="s1">&#39;&gt; (unlimited): name = &#39;</span><span class="n">level</span><span class="s1">&#39;, size = 0</span>
<span class="o">&lt;</span><span class="k">class</span> <span class="err">&#39;</span><span class="nc">netCDF4</span><span class="o">.</span><span class="n">_netCDF4</span><span class="o">.</span><span class="n">Dimension</span><span class="s1">&#39;&gt; (unlimited): name = &#39;</span><span class="n">time</span><span class="s1">&#39;, size = 0</span>
<span class="o">&lt;</span><span class="k">class</span> <span class="err">&#39;</span><span class="nc">netCDF4</span><span class="o">.</span><span class="n">_netCDF4</span><span class="o">.</span><span class="n">Dimension</span><span class="s1">&#39;&gt;: name = &#39;</span><span class="n">lat</span><span class="s1">&#39;, size = 73</span>
<span class="o">&lt;</span><span class="k">class</span> <span class="err">&#39;</span><span class="nc">netCDF4</span><span class="o">.</span><span class="n">_netCDF4</span><span class="o">.</span><span class="n">Dimension</span><span class="s1">&#39;&gt;: name = &#39;</span><span class="n">lon</span><span class="s1">&#39;, size = 144</span>
</code></pre></div>

<p><code><a href="#Dimension">Dimension</a></code> names can be changed using the
<code>Datatset.renameDimension</code> method of a <code><a href="#Dataset">Dataset</a></code> or
<code><a href="#Group">Group</a></code> instance.</p>

<h2 id="variables-in-a-netcdf-file">Variables in a netCDF file</h2>

<p>netCDF variables behave much like python multidimensional array objects
supplied by the <a href="http://numpy.scipy.org">numpy module</a>. However,
unlike numpy arrays, netCDF4 variables can be appended to along one or
more 'unlimited' dimensions. To create a netCDF variable, use the
<code><a href="#Dataset.createVariable">Dataset.createVariable</a></code> method of a <code><a href="#Dataset">Dataset</a></code> or
<code><a href="#Group">Group</a></code> instance. The <code><a href="#Dataset.createVariable">Dataset.createVariable</a></code>j method
has two mandatory arguments, the variable name (a Python string), and
the variable datatype. The variable's dimensions are given by a tuple
containing the dimension names (defined previously with
<code><a href="#Dataset.createDimension">Dataset.createDimension</a></code>). To create a scalar
variable, simply leave out the dimensions keyword. The variable
primitive datatypes correspond to the dtype attribute of a numpy array.
You can specify the datatype as a numpy dtype object, or anything that
can be converted to a numpy dtype object.  Valid datatype specifiers
include: <code>'f4'</code> (32-bit floating point), <code>'f8'</code> (64-bit floating
point), <code>'i4'</code> (32-bit signed integer), <code>'i2'</code> (16-bit signed
integer), <code>'i8'</code> (64-bit signed integer), <code>'i1'</code> (8-bit signed
integer), <code>'u1'</code> (8-bit unsigned integer), <code>'u2'</code> (16-bit unsigned
integer), <code>'u4'</code> (32-bit unsigned integer), <code>'u8'</code> (64-bit unsigned
integer), or <code>'S1'</code> (single-character string).  The old Numeric
single-character typecodes (<code>'f'</code>,<code>'d'</code>,<code>'h'</code>,
<code>'s'</code>,<code>'b'</code>,<code>'B'</code>,<code>'c'</code>,<code>'i'</code>,<code>'l'</code>), corresponding to
(<code>'f4'</code>,<code>'f8'</code>,<code>'i2'</code>,<code>'i2'</code>,<code>'i1'</code>,<code>'i1'</code>,<code>'S1'</code>,<code>'i4'</code>,<code>'i4'</code>),
will also work. The unsigned integer types and the 64-bit integer type
can only be used if the file format is <code>NETCDF4</code>.</p>

<p>The dimensions themselves are usually also defined as variables, called
coordinate variables. The <code><a href="#Dataset.createVariable">Dataset.createVariable</a></code>
method returns an instance of the <code><a href="#Variable">Variable</a></code> class whose methods can be
used later to access and set variable data and attributes.</p>

<div class="codehilite"><pre><span></span><code><span class="o">&gt;&gt;&gt;</span> <span class="n">times</span> <span class="o">=</span> <span class="n">rootgrp</span><span class="o">.</span><span class="n">createVariable</span><span class="p">(</span><span class="s2">&quot;time&quot;</span><span class="p">,</span><span class="s2">&quot;f8&quot;</span><span class="p">,(</span><span class="s2">&quot;time&quot;</span><span class="p">,))</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">levels</span> <span class="o">=</span> <span class="n">rootgrp</span><span class="o">.</span><span class="n">createVariable</span><span class="p">(</span><span class="s2">&quot;level&quot;</span><span class="p">,</span><span class="s2">&quot;i4&quot;</span><span class="p">,(</span><span class="s2">&quot;level&quot;</span><span class="p">,))</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">latitudes</span> <span class="o">=</span> <span class="n">rootgrp</span><span class="o">.</span><span class="n">createVariable</span><span class="p">(</span><span class="s2">&quot;lat&quot;</span><span class="p">,</span><span class="s2">&quot;f4&quot;</span><span class="p">,(</span><span class="s2">&quot;lat&quot;</span><span class="p">,))</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">longitudes</span> <span class="o">=</span> <span class="n">rootgrp</span><span class="o">.</span><span class="n">createVariable</span><span class="p">(</span><span class="s2">&quot;lon&quot;</span><span class="p">,</span><span class="s2">&quot;f4&quot;</span><span class="p">,(</span><span class="s2">&quot;lon&quot;</span><span class="p">,))</span>
<span class="o">&gt;&gt;&gt;</span> <span class="c1"># two dimensions unlimited</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">temp</span> <span class="o">=</span> <span class="n">rootgrp</span><span class="o">.</span><span class="n">createVariable</span><span class="p">(</span><span class="s2">&quot;temp&quot;</span><span class="p">,</span><span class="s2">&quot;f4&quot;</span><span class="p">,(</span><span class="s2">&quot;time&quot;</span><span class="p">,</span><span class="s2">&quot;level&quot;</span><span class="p">,</span><span class="s2">&quot;lat&quot;</span><span class="p">,</span><span class="s2">&quot;lon&quot;</span><span class="p">,))</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">temp</span><span class="o">.</span><span class="n">units</span> <span class="o">=</span> <span class="s2">&quot;K&quot;</span>
</code></pre></div>

<p>To get summary info on a <code><a href="#Variable">Variable</a></code> instance in an interactive session,
just print it.</p>

<div class="codehilite"><pre><span></span><code><span class="o">&gt;&gt;&gt;</span> <span class="nb">print</span><span class="p">(</span><span class="n">temp</span><span class="p">)</span>
<span class="o">&lt;</span><span class="k">class</span> <span class="err">&#39;</span><span class="nc">netCDF4</span><span class="o">.</span><span class="n">_netCDF4</span><span class="o">.</span><span class="n">Variable</span><span class="s1">&#39;&gt;</span>
<span class="n">float32</span> <span class="n">temp</span><span class="p">(</span><span class="n">time</span><span class="p">,</span> <span class="n">level</span><span class="p">,</span> <span class="n">lat</span><span class="p">,</span> <span class="n">lon</span><span class="p">)</span>
    <span class="n">units</span><span class="p">:</span> <span class="n">K</span>
<span class="n">unlimited</span> <span class="n">dimensions</span><span class="p">:</span> <span class="n">time</span><span class="p">,</span> <span class="n">level</span>
<span class="n">current</span> <span class="n">shape</span> <span class="o">=</span> <span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">73</span><span class="p">,</span> <span class="mi">144</span><span class="p">)</span>
<span class="n">filling</span> <span class="n">on</span><span class="p">,</span> <span class="n">default</span> <span class="n">_FillValue</span> <span class="n">of</span> <span class="mf">9.969209968386869e+36</span> <span class="n">used</span>
</code></pre></div>

<p>You can use a path to create a Variable inside a hierarchy of groups.</p>

<div class="codehilite"><pre><span></span><code><span class="o">&gt;&gt;&gt;</span> <span class="n">ftemp</span> <span class="o">=</span> <span class="n">rootgrp</span><span class="o">.</span><span class="n">createVariable</span><span class="p">(</span><span class="s2">&quot;/forecasts/model1/temp&quot;</span><span class="p">,</span><span class="s2">&quot;f4&quot;</span><span class="p">,(</span><span class="s2">&quot;time&quot;</span><span class="p">,</span><span class="s2">&quot;level&quot;</span><span class="p">,</span><span class="s2">&quot;lat&quot;</span><span class="p">,</span><span class="s2">&quot;lon&quot;</span><span class="p">,))</span>
</code></pre></div>

<p>If the intermediate groups do not yet exist, they will be created.</p>

<p>You can also query a <code><a href="#Dataset">Dataset</a></code> or <code><a href="#Group">Group</a></code> instance directly to obtain <code><a href="#Group">Group</a></code> or
<code><a href="#Variable">Variable</a></code> instances using paths.</p>

<div class="codehilite"><pre><span></span><code><span class="o">&gt;&gt;&gt;</span> <span class="nb">print</span><span class="p">(</span><span class="n">rootgrp</span><span class="p">[</span><span class="s2">&quot;/forecasts/model1&quot;</span><span class="p">])</span>  <span class="c1"># a Group instance</span>
<span class="o">&lt;</span><span class="k">class</span> <span class="err">&#39;</span><span class="nc">netCDF4</span><span class="o">.</span><span class="n">_netCDF4</span><span class="o">.</span><span class="n">Group</span><span class="s1">&#39;&gt;</span>
<span class="n">group</span> <span class="o">/</span><span class="n">forecasts</span><span class="o">/</span><span class="n">model1</span><span class="p">:</span>
    <span class="n">dimensions</span><span class="p">(</span><span class="n">sizes</span><span class="p">):</span> 
    <span class="n">variables</span><span class="p">(</span><span class="n">dimensions</span><span class="p">):</span> <span class="n">float32</span> <span class="n">temp</span><span class="p">(</span><span class="n">time</span><span class="p">,</span><span class="n">level</span><span class="p">,</span><span class="n">lat</span><span class="p">,</span><span class="n">lon</span><span class="p">)</span>
    <span class="n">groups</span><span class="p">:</span> 
<span class="o">&gt;&gt;&gt;</span> <span class="nb">print</span><span class="p">(</span><span class="n">rootgrp</span><span class="p">[</span><span class="s2">&quot;/forecasts/model1/temp&quot;</span><span class="p">])</span>  <span class="c1"># a Variable instance</span>
<span class="o">&lt;</span><span class="k">class</span> <span class="err">&#39;</span><span class="nc">netCDF4</span><span class="o">.</span><span class="n">_netCDF4</span><span class="o">.</span><span class="n">Variable</span><span class="s1">&#39;&gt;</span>
<span class="n">float32</span> <span class="n">temp</span><span class="p">(</span><span class="n">time</span><span class="p">,</span> <span class="n">level</span><span class="p">,</span> <span class="n">lat</span><span class="p">,</span> <span class="n">lon</span><span class="p">)</span>
<span class="n">path</span> <span class="o">=</span> <span class="o">/</span><span class="n">forecasts</span><span class="o">/</span><span class="n">model1</span>
<span class="n">unlimited</span> <span class="n">dimensions</span><span class="p">:</span> <span class="n">time</span><span class="p">,</span> <span class="n">level</span>
<span class="n">current</span> <span class="n">shape</span> <span class="o">=</span> <span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">73</span><span class="p">,</span> <span class="mi">144</span><span class="p">)</span>
<span class="n">filling</span> <span class="n">on</span><span class="p">,</span> <span class="n">default</span> <span class="n">_FillValue</span> <span class="n">of</span> <span class="mf">9.969209968386869e+36</span> <span class="n">used</span>
</code></pre></div>

<p>All of the variables in the <code><a href="#Dataset">Dataset</a></code> or <code><a href="#Group">Group</a></code> are stored in a
Python dictionary, in the same way as the dimensions:</p>

<div class="codehilite"><pre><span></span><code><span class="o">&gt;&gt;&gt;</span> <span class="nb">print</span><span class="p">(</span><span class="n">rootgrp</span><span class="o">.</span><span class="n">variables</span><span class="p">)</span>
<span class="p">{</span><span class="s1">&#39;time&#39;</span><span class="p">:</span> <span class="o">&lt;</span><span class="k">class</span> <span class="err">&#39;</span><span class="nc">netCDF4</span><span class="o">.</span><span class="n">_netCDF4</span><span class="o">.</span><span class="n">Variable</span><span class="s1">&#39;&gt;</span>
<span class="n">float64</span> <span class="n">time</span><span class="p">(</span><span class="n">time</span><span class="p">)</span>
<span class="n">unlimited</span> <span class="n">dimensions</span><span class="p">:</span> <span class="n">time</span>
<span class="n">current</span> <span class="n">shape</span> <span class="o">=</span> <span class="p">(</span><span class="mi">0</span><span class="p">,)</span>
<span class="n">filling</span> <span class="n">on</span><span class="p">,</span> <span class="n">default</span> <span class="n">_FillValue</span> <span class="n">of</span> <span class="mf">9.969209968386869e+36</span> <span class="n">used</span><span class="p">,</span> <span class="s1">&#39;level&#39;</span><span class="p">:</span> <span class="o">&lt;</span><span class="k">class</span> <span class="err">&#39;</span><span class="nc">netCDF4</span><span class="o">.</span><span class="n">_netCDF4</span><span class="o">.</span><span class="n">Variable</span><span class="s1">&#39;&gt;</span>
<span class="n">int32</span> <span class="n">level</span><span class="p">(</span><span class="n">level</span><span class="p">)</span>
<span class="n">unlimited</span> <span class="n">dimensions</span><span class="p">:</span> <span class="n">level</span>
<span class="n">current</span> <span class="n">shape</span> <span class="o">=</span> <span class="p">(</span><span class="mi">0</span><span class="p">,)</span>
<span class="n">filling</span> <span class="n">on</span><span class="p">,</span> <span class="n">default</span> <span class="n">_FillValue</span> <span class="n">of</span> <span class="o">-</span><span class="mi">2147483647</span> <span class="n">used</span><span class="p">,</span> <span class="s1">&#39;lat&#39;</span><span class="p">:</span> <span class="o">&lt;</span><span class="k">class</span> <span class="err">&#39;</span><span class="nc">netCDF4</span><span class="o">.</span><span class="n">_netCDF4</span><span class="o">.</span><span class="n">Variable</span><span class="s1">&#39;&gt;</span>
<span class="n">float32</span> <span class="n">lat</span><span class="p">(</span><span class="n">lat</span><span class="p">)</span>
<span class="n">unlimited</span> <span class="n">dimensions</span><span class="p">:</span> 
<span class="n">current</span> <span class="n">shape</span> <span class="o">=</span> <span class="p">(</span><span class="mi">73</span><span class="p">,)</span>
<span class="n">filling</span> <span class="n">on</span><span class="p">,</span> <span class="n">default</span> <span class="n">_FillValue</span> <span class="n">of</span> <span class="mf">9.969209968386869e+36</span> <span class="n">used</span><span class="p">,</span> <span class="s1">&#39;lon&#39;</span><span class="p">:</span> <span class="o">&lt;</span><span class="k">class</span> <span class="err">&#39;</span><span class="nc">netCDF4</span><span class="o">.</span><span class="n">_netCDF4</span><span class="o">.</span><span class="n">Variable</span><span class="s1">&#39;&gt;</span>
<span class="n">float32</span> <span class="n">lon</span><span class="p">(</span><span class="n">lon</span><span class="p">)</span>
<span class="n">unlimited</span> <span class="n">dimensions</span><span class="p">:</span> 
<span class="n">current</span> <span class="n">shape</span> <span class="o">=</span> <span class="p">(</span><span class="mi">144</span><span class="p">,)</span>
<span class="n">filling</span> <span class="n">on</span><span class="p">,</span> <span class="n">default</span> <span class="n">_FillValue</span> <span class="n">of</span> <span class="mf">9.969209968386869e+36</span> <span class="n">used</span><span class="p">,</span> <span class="s1">&#39;temp&#39;</span><span class="p">:</span> <span class="o">&lt;</span><span class="k">class</span> <span class="err">&#39;</span><span class="nc">netCDF4</span><span class="o">.</span><span class="n">_netCDF4</span><span class="o">.</span><span class="n">Variable</span><span class="s1">&#39;&gt;</span>
<span class="n">float32</span> <span class="n">temp</span><span class="p">(</span><span class="n">time</span><span class="p">,</span> <span class="n">level</span><span class="p">,</span> <span class="n">lat</span><span class="p">,</span> <span class="n">lon</span><span class="p">)</span>
    <span class="n">units</span><span class="p">:</span> <span class="n">K</span>
<span class="n">unlimited</span> <span class="n">dimensions</span><span class="p">:</span> <span class="n">time</span><span class="p">,</span> <span class="n">level</span>
<span class="n">current</span> <span class="n">shape</span> <span class="o">=</span> <span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">73</span><span class="p">,</span> <span class="mi">144</span><span class="p">)</span>
<span class="n">filling</span> <span class="n">on</span><span class="p">,</span> <span class="n">default</span> <span class="n">_FillValue</span> <span class="n">of</span> <span class="mf">9.969209968386869e+36</span> <span class="n">used</span><span class="p">}</span>
</code></pre></div>

<p><code><a href="#Variable">Variable</a></code> names can be changed using the
<code><a href="#Dataset.renameVariable">Dataset.renameVariable</a></code> method of a <code><a href="#Dataset">Dataset</a></code>
instance.</p>

<p>Variables can be sliced similar to numpy arrays, but there are some differences.  See
<a href="#writing-data-to-and-retrieving-data-from-a-netcdf-variable">Writing data to and retrieving data from a netCDF variable</a> for more details.</p>

<h2 id="attributes-in-a-netcdf-file">Attributes in a netCDF file</h2>

<p>There are two types of attributes in a netCDF file, global and variable.
Global attributes provide information about a group, or the entire
dataset, as a whole. <code><a href="#Variable">Variable</a></code> attributes provide information about
one of the variables in a group. Global attributes are set by assigning
values to <code><a href="#Dataset">Dataset</a></code> or <code><a href="#Group">Group</a></code> instance variables. <code><a href="#Variable">Variable</a></code>
attributes are set by assigning values to <code><a href="#Variable">Variable</a></code> instances
variables. Attributes can be strings, numbers or sequences. Returning to
our example,</p>

<div class="codehilite"><pre><span></span><code><span class="o">&gt;&gt;&gt;</span> <span class="kn">import</span> <span class="nn">time</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">rootgrp</span><span class="o">.</span><span class="n">description</span> <span class="o">=</span> <span class="s2">&quot;bogus example script&quot;</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">rootgrp</span><span class="o">.</span><span class="n">history</span> <span class="o">=</span> <span class="s2">&quot;Created &quot;</span> <span class="o">+</span> <span class="n">time</span><span class="o">.</span><span class="n">ctime</span><span class="p">(</span><span class="n">time</span><span class="o">.</span><span class="n">time</span><span class="p">())</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">rootgrp</span><span class="o">.</span><span class="n">source</span> <span class="o">=</span> <span class="s2">&quot;netCDF4 python module tutorial&quot;</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">latitudes</span><span class="o">.</span><span class="n">units</span> <span class="o">=</span> <span class="s2">&quot;degrees north&quot;</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">longitudes</span><span class="o">.</span><span class="n">units</span> <span class="o">=</span> <span class="s2">&quot;degrees east&quot;</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">levels</span><span class="o">.</span><span class="n">units</span> <span class="o">=</span> <span class="s2">&quot;hPa&quot;</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">temp</span><span class="o">.</span><span class="n">units</span> <span class="o">=</span> <span class="s2">&quot;K&quot;</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">times</span><span class="o">.</span><span class="n">units</span> <span class="o">=</span> <span class="s2">&quot;hours since 0001-01-01 00:00:00.0&quot;</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">times</span><span class="o">.</span><span class="n">calendar</span> <span class="o">=</span> <span class="s2">&quot;gregorian&quot;</span>
</code></pre></div>

<p>The <code><a href="#Dataset.ncattrs">Dataset.ncattrs</a></code> method of a <code><a href="#Dataset">Dataset</a></code>, <code><a href="#Group">Group</a></code> or
<code><a href="#Variable">Variable</a></code> instance can be used to retrieve the names of all the netCDF
attributes. This method is provided as a convenience, since using the
built-in <code>dir</code> Python function will return a bunch of private methods
and attributes that cannot (or should not) be modified by the user.</p>

<div class="codehilite"><pre><span></span><code><span class="o">&gt;&gt;&gt;</span> <span class="k">for</span> <span class="n">name</span> <span class="ow">in</span> <span class="n">rootgrp</span><span class="o">.</span><span class="n">ncattrs</span><span class="p">():</span>
<span class="o">...</span>     <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Global attr </span><span class="si">{}</span><span class="s2"> = </span><span class="si">{}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">name</span><span class="p">,</span> <span class="nb">getattr</span><span class="p">(</span><span class="n">rootgrp</span><span class="p">,</span> <span class="n">name</span><span class="p">)))</span>
<span class="n">Global</span> <span class="n">attr</span> <span class="n">description</span> <span class="o">=</span> <span class="n">bogus</span> <span class="n">example</span> <span class="n">script</span>
<span class="n">Global</span> <span class="n">attr</span> <span class="n">history</span> <span class="o">=</span> <span class="n">Created</span> <span class="n">Mon</span> <span class="n">Jul</span>  <span class="mi">8</span> <span class="mi">14</span><span class="p">:</span><span class="mi">19</span><span class="p">:</span><span class="mi">41</span> <span class="mi">2019</span>
<span class="n">Global</span> <span class="n">attr</span> <span class="n">source</span> <span class="o">=</span> <span class="n">netCDF4</span> <span class="n">python</span> <span class="n">module</span> <span class="n">tutorial</span>
</code></pre></div>

<p>The <code>__dict__</code> attribute of a <code><a href="#Dataset">Dataset</a></code>, <code><a href="#Group">Group</a></code> or <code><a href="#Variable">Variable</a></code>
instance provides all the netCDF attribute name/value pairs in a python
dictionary:</p>

<div class="codehilite"><pre><span></span><code><span class="o">&gt;&gt;&gt;</span> <span class="nb">print</span><span class="p">(</span><span class="n">rootgrp</span><span class="o">.</span><span class="vm">__dict__</span><span class="p">)</span>
<span class="p">{</span><span class="s1">&#39;description&#39;</span><span class="p">:</span> <span class="s1">&#39;bogus example script&#39;</span><span class="p">,</span> <span class="s1">&#39;history&#39;</span><span class="p">:</span> <span class="s1">&#39;Created Mon Jul  8 14:19:41 2019&#39;</span><span class="p">,</span> <span class="s1">&#39;source&#39;</span><span class="p">:</span> <span class="s1">&#39;netCDF4 python module tutorial&#39;</span><span class="p">}</span>
</code></pre></div>

<p>Attributes can be deleted from a netCDF <code><a href="#Dataset">Dataset</a></code>, <code><a href="#Group">Group</a></code> or
<code><a href="#Variable">Variable</a></code> using the python <code>del</code> statement (i.e. <code>del grp.foo</code>
removes the attribute <code>foo</code> the the group <code>grp</code>).</p>

<h2 id="writing-data-to-and-retrieving-data-from-a-netcdf-variable">Writing data to and retrieving data from a netCDF variable</h2>

<p>Now that you have a netCDF <code><a href="#Variable">Variable</a></code> instance, how do you put data
into it? You can just treat it like an array and assign data to a slice.</p>

<div class="codehilite"><pre><span></span><code><span class="o">&gt;&gt;&gt;</span> <span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">lats</span> <span class="o">=</span>  <span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="o">-</span><span class="mi">90</span><span class="p">,</span><span class="mi">91</span><span class="p">,</span><span class="mf">2.5</span><span class="p">)</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">lons</span> <span class="o">=</span>  <span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="o">-</span><span class="mi">180</span><span class="p">,</span><span class="mi">180</span><span class="p">,</span><span class="mf">2.5</span><span class="p">)</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">latitudes</span><span class="p">[:]</span> <span class="o">=</span> <span class="n">lats</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">longitudes</span><span class="p">[:]</span> <span class="o">=</span> <span class="n">lons</span>
<span class="o">&gt;&gt;&gt;</span> <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;latitudes =</span><span class="se">\n</span><span class="si">{}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">latitudes</span><span class="p">[:]))</span>
<span class="n">latitudes</span> <span class="o">=</span>
<span class="p">[</span><span class="o">-</span><span class="mf">90.</span>  <span class="o">-</span><span class="mf">87.5</span> <span class="o">-</span><span class="mf">85.</span>  <span class="o">-</span><span class="mf">82.5</span> <span class="o">-</span><span class="mf">80.</span>  <span class="o">-</span><span class="mf">77.5</span> <span class="o">-</span><span class="mf">75.</span>  <span class="o">-</span><span class="mf">72.5</span> <span class="o">-</span><span class="mf">70.</span>  <span class="o">-</span><span class="mf">67.5</span> <span class="o">-</span><span class="mf">65.</span>  <span class="o">-</span><span class="mf">62.5</span>
 <span class="o">-</span><span class="mf">60.</span>  <span class="o">-</span><span class="mf">57.5</span> <span class="o">-</span><span class="mf">55.</span>  <span class="o">-</span><span class="mf">52.5</span> <span class="o">-</span><span class="mf">50.</span>  <span class="o">-</span><span class="mf">47.5</span> <span class="o">-</span><span class="mf">45.</span>  <span class="o">-</span><span class="mf">42.5</span> <span class="o">-</span><span class="mf">40.</span>  <span class="o">-</span><span class="mf">37.5</span> <span class="o">-</span><span class="mf">35.</span>  <span class="o">-</span><span class="mf">32.5</span>
 <span class="o">-</span><span class="mf">30.</span>  <span class="o">-</span><span class="mf">27.5</span> <span class="o">-</span><span class="mf">25.</span>  <span class="o">-</span><span class="mf">22.5</span> <span class="o">-</span><span class="mf">20.</span>  <span class="o">-</span><span class="mf">17.5</span> <span class="o">-</span><span class="mf">15.</span>  <span class="o">-</span><span class="mf">12.5</span> <span class="o">-</span><span class="mf">10.</span>   <span class="o">-</span><span class="mf">7.5</span>  <span class="o">-</span><span class="mf">5.</span>   <span class="o">-</span><span class="mf">2.5</span>
   <span class="mf">0.</span>    <span class="mf">2.5</span>   <span class="mf">5.</span>    <span class="mf">7.5</span>  <span class="mf">10.</span>   <span class="mf">12.5</span>  <span class="mf">15.</span>   <span class="mf">17.5</span>  <span class="mf">20.</span>   <span class="mf">22.5</span>  <span class="mf">25.</span>   <span class="mf">27.5</span>
  <span class="mf">30.</span>   <span class="mf">32.5</span>  <span class="mf">35.</span>   <span class="mf">37.5</span>  <span class="mf">40.</span>   <span class="mf">42.5</span>  <span class="mf">45.</span>   <span class="mf">47.5</span>  <span class="mf">50.</span>   <span class="mf">52.5</span>  <span class="mf">55.</span>   <span class="mf">57.5</span>
  <span class="mf">60.</span>   <span class="mf">62.5</span>  <span class="mf">65.</span>   <span class="mf">67.5</span>  <span class="mf">70.</span>   <span class="mf">72.5</span>  <span class="mf">75.</span>   <span class="mf">77.5</span>  <span class="mf">80.</span>   <span class="mf">82.5</span>  <span class="mf">85.</span>   <span class="mf">87.5</span>
  <span class="mf">90.</span> <span class="p">]</span>
</code></pre></div>

<p>Unlike NumPy's array objects, netCDF <code><a href="#Variable">Variable</a></code>
objects with unlimited dimensions will grow along those dimensions if you
assign data outside the currently defined range of indices.</p>

<div class="codehilite"><pre><span></span><code><span class="o">&gt;&gt;&gt;</span> <span class="c1"># append along two unlimited dimensions by assigning to slice.</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">nlats</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">rootgrp</span><span class="o">.</span><span class="n">dimensions</span><span class="p">[</span><span class="s2">&quot;lat&quot;</span><span class="p">])</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">nlons</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">rootgrp</span><span class="o">.</span><span class="n">dimensions</span><span class="p">[</span><span class="s2">&quot;lon&quot;</span><span class="p">])</span>
<span class="o">&gt;&gt;&gt;</span> <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;temp shape before adding data = </span><span class="si">{}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">temp</span><span class="o">.</span><span class="n">shape</span><span class="p">))</span>
<span class="n">temp</span> <span class="n">shape</span> <span class="n">before</span> <span class="n">adding</span> <span class="n">data</span> <span class="o">=</span> <span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">73</span><span class="p">,</span> <span class="mi">144</span><span class="p">)</span>
<span class="o">&gt;&gt;&gt;</span>
<span class="o">&gt;&gt;&gt;</span> <span class="kn">from</span> <span class="nn">numpy.random</span> <span class="kn">import</span> <span class="n">uniform</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">temp</span><span class="p">[</span><span class="mi">0</span><span class="p">:</span><span class="mi">5</span><span class="p">,</span> <span class="mi">0</span><span class="p">:</span><span class="mi">10</span><span class="p">,</span> <span class="p">:,</span> <span class="p">:]</span> <span class="o">=</span> <span class="n">uniform</span><span class="p">(</span><span class="n">size</span><span class="o">=</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="n">nlats</span><span class="p">,</span> <span class="n">nlons</span><span class="p">))</span>
<span class="o">&gt;&gt;&gt;</span> <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;temp shape after adding data = </span><span class="si">{}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">temp</span><span class="o">.</span><span class="n">shape</span><span class="p">))</span>
<span class="n">temp</span> <span class="n">shape</span> <span class="n">after</span> <span class="n">adding</span> <span class="n">data</span> <span class="o">=</span> <span class="p">(</span><span class="mi">5</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">73</span><span class="p">,</span> <span class="mi">144</span><span class="p">)</span>
<span class="o">&gt;&gt;&gt;</span>
<span class="o">&gt;&gt;&gt;</span> <span class="c1"># levels have grown, but no values yet assigned.</span>
<span class="o">&gt;&gt;&gt;</span> <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;levels shape after adding pressure data = </span><span class="si">{}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">levels</span><span class="o">.</span><span class="n">shape</span><span class="p">))</span>
<span class="n">levels</span> <span class="n">shape</span> <span class="n">after</span> <span class="n">adding</span> <span class="n">pressure</span> <span class="n">data</span> <span class="o">=</span> <span class="p">(</span><span class="mi">10</span><span class="p">,)</span>
</code></pre></div>

<p>Note that the size of the levels variable grows when data is appended
along the <code>level</code> dimension of the variable <code>temp</code>, even though no
data has yet been assigned to levels.</p>

<div class="codehilite"><pre><span></span><code><span class="o">&gt;&gt;&gt;</span> <span class="c1"># now, assign data to levels dimension variable.</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">levels</span><span class="p">[:]</span> <span class="o">=</span>  <span class="p">[</span><span class="mf">1000.</span><span class="p">,</span><span class="mf">850.</span><span class="p">,</span><span class="mf">700.</span><span class="p">,</span><span class="mf">500.</span><span class="p">,</span><span class="mf">300.</span><span class="p">,</span><span class="mf">250.</span><span class="p">,</span><span class="mf">200.</span><span class="p">,</span><span class="mf">150.</span><span class="p">,</span><span class="mf">100.</span><span class="p">,</span><span class="mf">50.</span><span class="p">]</span>
</code></pre></div>

<p>However, that there are some differences between NumPy and netCDF
variable slicing rules. Slices behave as usual, being specified as a
<code>start:stop:step</code> triplet. Using a scalar integer index <code>i</code> takes the ith
element and reduces the rank of the output array by one. Boolean array and
integer sequence indexing behaves differently for netCDF variables
than for numpy arrays.  Only 1-d boolean arrays and integer sequences are
allowed, and these indices work independently along each dimension (similar
to the way vector subscripts work in fortran).  This means that</p>

<div class="codehilite"><pre><span></span><code><span class="o">&gt;&gt;&gt;</span> <span class="n">temp</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">],</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">]]</span><span class="o">.</span><span class="n">shape</span>
<span class="p">(</span><span class="mi">4</span><span class="p">,</span> <span class="mi">4</span><span class="p">)</span>
</code></pre></div>

<p>returns an array of shape (4,4) when slicing a netCDF variable, but for a
numpy array it returns an array of shape (4,).
Similarly, a netCDF variable of shape <code>(2,3,4,5)</code> indexed
with <code>[0, array([True, False, True]), array([False, True, True, True]), :]</code>
would return a <code>(2, 3, 5)</code> array. In NumPy, this would raise an error since
it would be equivalent to <code>[0, [0,1], [1,2,3], :]</code>. When slicing with integer
sequences, the indices <strong><em>need not be sorted</em></strong> and <strong><em>may contain
duplicates</em></strong> (both of these are new features in version 1.2.1).
While this behaviour may cause some confusion for those used to NumPy's 'fancy indexing' rules,
it provides a very powerful way to extract data from multidimensional netCDF
variables by using logical operations on the dimension arrays to create slices.</p>

<p>For example,</p>

<div class="codehilite"><pre><span></span><code><span class="o">&gt;&gt;&gt;</span> <span class="n">tempdat</span> <span class="o">=</span> <span class="n">temp</span><span class="p">[::</span><span class="mi">2</span><span class="p">,</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">6</span><span class="p">],</span> <span class="n">lats</span><span class="o">&gt;</span><span class="mi">0</span><span class="p">,</span> <span class="n">lons</span><span class="o">&gt;</span><span class="mi">0</span><span class="p">]</span>
</code></pre></div>

<p>will extract time indices 0,2 and 4, pressure levels
850, 500 and 200 hPa, all Northern Hemisphere latitudes and Eastern
Hemisphere longitudes, resulting in a numpy array of shape  (3, 3, 36, 71).</p>

<div class="codehilite"><pre><span></span><code><span class="o">&gt;&gt;&gt;</span> <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;shape of fancy temp slice = </span><span class="si">{}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">tempdat</span><span class="o">.</span><span class="n">shape</span><span class="p">))</span>
<span class="n">shape</span> <span class="n">of</span> <span class="n">fancy</span> <span class="n">temp</span> <span class="nb">slice</span> <span class="o">=</span> <span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">36</span><span class="p">,</span> <span class="mi">71</span><span class="p">)</span>
</code></pre></div>

<p><strong><em>Special note for scalar variables</em></strong>: To extract data from a scalar variable
<code>v</code> with no associated dimensions, use <code>numpy.asarray(v)</code> or <code>v[...]</code>.
The result will be a numpy scalar array.</p>

<p>By default, netcdf4-python returns numpy masked arrays with values equal to the
<code>missing_value</code> or <code>_FillValue</code> variable attributes masked for primitive and
enum data types.
The <code><a href="#Dataset.set_auto_mask">Dataset.set_auto_mask</a></code> <code><a href="#Dataset">Dataset</a></code> and <code><a href="#Variable">Variable</a></code> methods
can be used to disable this feature so that
numpy arrays are always returned, with the missing values included. Prior to
version 1.4.0 the default behavior was to only return masked arrays when the
requested slice contained missing values.  This behavior can be recovered
using the <code><a href="#Dataset.set_always_mask">Dataset.set_always_mask</a></code> method. If a masked array is
written to a netCDF variable, the masked elements are filled with the
value specified by the <code>missing_value</code> attribute.  If the variable has
no <code>missing_value</code>, the <code>_FillValue</code> is used instead.</p>

<h2 id="dealing-with-time-coordinates">Dealing with time coordinates</h2>

<p>Time coordinate values pose a special challenge to netCDF users.  Most
metadata standards (such as CF) specify that time should be
measure relative to a fixed date using a certain calendar, with units
specified like <code>hours since YY-MM-DD hh:mm:ss</code>.  These units can be
awkward to deal with, without a utility to convert the values to and
from calendar dates.  The functions <a href="https://unidata.github.io/cftime/api.html">num2date</a>
and <a href="https://unidata.github.io/cftime/api.html">date2num</a> are
provided by <a href="https://unidata.github.io/cftime">cftime</a> to do just that.
Here's an example of how they can be used:</p>

<div class="codehilite"><pre><span></span><code><span class="o">&gt;&gt;&gt;</span> <span class="c1"># fill in times.</span>
<span class="o">&gt;&gt;&gt;</span> <span class="kn">from</span> <span class="nn">datetime</span> <span class="kn">import</span> <span class="n">datetime</span><span class="p">,</span> <span class="n">timedelta</span>
<span class="o">&gt;&gt;&gt;</span> <span class="kn">from</span> <span class="nn">cftime</span> <span class="kn">import</span> <span class="n">num2date</span><span class="p">,</span> <span class="n">date2num</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">dates</span> <span class="o">=</span> <span class="p">[</span><span class="n">datetime</span><span class="p">(</span><span class="mi">2001</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">1</span><span class="p">)</span><span class="o">+</span><span class="n">n</span><span class="o">*</span><span class="n">timedelta</span><span class="p">(</span><span class="n">hours</span><span class="o">=</span><span class="mi">12</span><span class="p">)</span> <span class="k">for</span> <span class="n">n</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">temp</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">0</span><span class="p">])]</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">times</span><span class="p">[:]</span> <span class="o">=</span> <span class="n">date2num</span><span class="p">(</span><span class="n">dates</span><span class="p">,</span><span class="n">units</span><span class="o">=</span><span class="n">times</span><span class="o">.</span><span class="n">units</span><span class="p">,</span><span class="n">calendar</span><span class="o">=</span><span class="n">times</span><span class="o">.</span><span class="n">calendar</span><span class="p">)</span>
<span class="o">&gt;&gt;&gt;</span> <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;time values (in units </span><span class="si">{}</span><span class="s2">):</span><span class="se">\n</span><span class="si">{}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">times</span><span class="o">.</span><span class="n">units</span><span class="p">,</span> <span class="n">times</span><span class="p">[:]))</span>
<span class="n">time</span> <span class="n">values</span> <span class="p">(</span><span class="ow">in</span> <span class="n">units</span> <span class="n">hours</span> <span class="n">since</span> <span class="mi">0001</span><span class="o">-</span><span class="mi">01</span><span class="o">-</span><span class="mi">01</span> <span class="mi">00</span><span class="p">:</span><span class="mi">00</span><span class="p">:</span><span class="mf">00.0</span><span class="p">):</span>
<span class="p">[</span><span class="mf">17533104.</span> <span class="mf">17533116.</span> <span class="mf">17533128.</span> <span class="mf">17533140.</span> <span class="mf">17533152.</span><span class="p">]</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">dates</span> <span class="o">=</span> <span class="n">num2date</span><span class="p">(</span><span class="n">times</span><span class="p">[:],</span><span class="n">units</span><span class="o">=</span><span class="n">times</span><span class="o">.</span><span class="n">units</span><span class="p">,</span><span class="n">calendar</span><span class="o">=</span><span class="n">times</span><span class="o">.</span><span class="n">calendar</span><span class="p">)</span>
<span class="o">&gt;&gt;&gt;</span> <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;dates corresponding to time values:</span><span class="se">\n</span><span class="si">{}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">dates</span><span class="p">))</span>
 <span class="p">[</span><span class="n">cftime</span><span class="o">.</span><span class="n">DatetimeGregorian</span><span class="p">(</span><span class="mi">2001</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="n">has_year_zero</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
  <span class="n">cftime</span><span class="o">.</span><span class="n">DatetimeGregorian</span><span class="p">(</span><span class="mi">2001</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">12</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="n">has_year_zero</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
  <span class="n">cftime</span><span class="o">.</span><span class="n">DatetimeGregorian</span><span class="p">(</span><span class="mi">2001</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="n">has_year_zero</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
  <span class="n">cftime</span><span class="o">.</span><span class="n">DatetimeGregorian</span><span class="p">(</span><span class="mi">2001</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">12</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="n">has_year_zero</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
  <span class="n">cftime</span><span class="o">.</span><span class="n">DatetimeGregorian</span><span class="p">(</span><span class="mi">2001</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="n">has_year_zero</span><span class="o">=</span><span class="kc">False</span><span class="p">)]</span>
</code></pre></div>

<p><code><a href="#num2date">num2date</a></code> converts numeric values of time in the specified <code>units</code>
and <code>calendar</code> to datetime objects, and <code><a href="#date2num">date2num</a></code> does the reverse.
All the calendars currently defined in the
<a href="http://cfconventions.org">CF metadata convention</a> are supported.
A function called <code><a href="#date2index">date2index</a></code> is also provided which returns the indices
of a netCDF time variable corresponding to a sequence of datetime instances.</p>

<h2 id="reading-data-from-a-multi-file-netcdf-dataset">Reading data from a multi-file netCDF dataset</h2>

<p>If you want to read data from a variable that spans multiple netCDF files,
you can use the <code><a href="#MFDataset">MFDataset</a></code> class to read the data as if it were
contained in a single file. Instead of using a single filename to create
a <code><a href="#Dataset">Dataset</a></code> instance, create a <code><a href="#MFDataset">MFDataset</a></code> instance with either a list
of filenames, or a string with a wildcard (which is then converted to
a sorted list of files using the python glob module).
Variables in the list of files that share the same unlimited
dimension are aggregated together, and can be sliced across multiple
files.  To illustrate this, let's first create a bunch of netCDF files with
the same variable (with the same unlimited dimension).  The files
must in be in <code>NETCDF3_64BIT_OFFSET</code>, <code>NETCDF3_64BIT_DATA</code>, <code>NETCDF3_CLASSIC</code> or
<code>NETCDF4_CLASSIC</code> format (<code>NETCDF4</code> formatted multi-file
datasets are not supported).</p>

<div class="codehilite"><pre><span></span><code><span class="o">&gt;&gt;&gt;</span> <span class="k">for</span> <span class="n">nf</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">10</span><span class="p">):</span>
<span class="o">...</span>     <span class="k">with</span> <span class="n">Dataset</span><span class="p">(</span><span class="s2">&quot;mftest</span><span class="si">%s</span><span class="s2">.nc&quot;</span> <span class="o">%</span> <span class="n">nf</span><span class="p">,</span> <span class="s2">&quot;w&quot;</span><span class="p">,</span> <span class="nb">format</span><span class="o">=</span><span class="s2">&quot;NETCDF4_CLASSIC&quot;</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
<span class="o">...</span>         <span class="n">_</span> <span class="o">=</span> <span class="n">f</span><span class="o">.</span><span class="n">createDimension</span><span class="p">(</span><span class="s2">&quot;x&quot;</span><span class="p">,</span><span class="kc">None</span><span class="p">)</span>
<span class="o">...</span>         <span class="n">x</span> <span class="o">=</span> <span class="n">f</span><span class="o">.</span><span class="n">createVariable</span><span class="p">(</span><span class="s2">&quot;x&quot;</span><span class="p">,</span><span class="s2">&quot;i&quot;</span><span class="p">,(</span><span class="s2">&quot;x&quot;</span><span class="p">,))</span>
<span class="o">...</span>         <span class="n">x</span><span class="p">[</span><span class="mi">0</span><span class="p">:</span><span class="mi">10</span><span class="p">]</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="n">nf</span><span class="o">*</span><span class="mi">10</span><span class="p">,</span><span class="mi">10</span><span class="o">*</span><span class="p">(</span><span class="n">nf</span><span class="o">+</span><span class="mi">1</span><span class="p">))</span>
</code></pre></div>

<p>Now read all the files back in at once with <code><a href="#MFDataset">MFDataset</a></code></p>

<div class="codehilite"><pre><span></span><code><span class="o">&gt;&gt;&gt;</span> <span class="kn">from</span> <span class="nn">netCDF4</span> <span class="kn">import</span> <span class="n">MFDataset</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">f</span> <span class="o">=</span> <span class="n">MFDataset</span><span class="p">(</span><span class="s2">&quot;mftest*nc&quot;</span><span class="p">)</span>
<span class="o">&gt;&gt;&gt;</span> <span class="nb">print</span><span class="p">(</span><span class="n">f</span><span class="o">.</span><span class="n">variables</span><span class="p">[</span><span class="s2">&quot;x&quot;</span><span class="p">][:])</span>
<span class="p">[</span> <span class="mi">0</span>  <span class="mi">1</span>  <span class="mi">2</span>  <span class="mi">3</span>  <span class="mi">4</span>  <span class="mi">5</span>  <span class="mi">6</span>  <span class="mi">7</span>  <span class="mi">8</span>  <span class="mi">9</span> <span class="mi">10</span> <span class="mi">11</span> <span class="mi">12</span> <span class="mi">13</span> <span class="mi">14</span> <span class="mi">15</span> <span class="mi">16</span> <span class="mi">17</span> <span class="mi">18</span> <span class="mi">19</span> <span class="mi">20</span> <span class="mi">21</span> <span class="mi">22</span> <span class="mi">23</span>
 <span class="mi">24</span> <span class="mi">25</span> <span class="mi">26</span> <span class="mi">27</span> <span class="mi">28</span> <span class="mi">29</span> <span class="mi">30</span> <span class="mi">31</span> <span class="mi">32</span> <span class="mi">33</span> <span class="mi">34</span> <span class="mi">35</span> <span class="mi">36</span> <span class="mi">37</span> <span class="mi">38</span> <span class="mi">39</span> <span class="mi">40</span> <span class="mi">41</span> <span class="mi">42</span> <span class="mi">43</span> <span class="mi">44</span> <span class="mi">45</span> <span class="mi">46</span> <span class="mi">47</span>
 <span class="mi">48</span> <span class="mi">49</span> <span class="mi">50</span> <span class="mi">51</span> <span class="mi">52</span> <span class="mi">53</span> <span class="mi">54</span> <span class="mi">55</span> <span class="mi">56</span> <span class="mi">57</span> <span class="mi">58</span> <span class="mi">59</span> <span class="mi">60</span> <span class="mi">61</span> <span class="mi">62</span> <span class="mi">63</span> <span class="mi">64</span> <span class="mi">65</span> <span class="mi">66</span> <span class="mi">67</span> <span class="mi">68</span> <span class="mi">69</span> <span class="mi">70</span> <span class="mi">71</span>
 <span class="mi">72</span> <span class="mi">73</span> <span class="mi">74</span> <span class="mi">75</span> <span class="mi">76</span> <span class="mi">77</span> <span class="mi">78</span> <span class="mi">79</span> <span class="mi">80</span> <span class="mi">81</span> <span class="mi">82</span> <span class="mi">83</span> <span class="mi">84</span> <span class="mi">85</span> <span class="mi">86</span> <span class="mi">87</span> <span class="mi">88</span> <span class="mi">89</span> <span class="mi">90</span> <span class="mi">91</span> <span class="mi">92</span> <span class="mi">93</span> <span class="mi">94</span> <span class="mi">95</span>
 <span class="mi">96</span> <span class="mi">97</span> <span class="mi">98</span> <span class="mi">99</span><span class="p">]</span>
</code></pre></div>

<p>Note that <code><a href="#MFDataset">MFDataset</a></code> can only be used to read, not write, multi-file
datasets.</p>

<h2 id="efficient-compression-of-netcdf-variables">Efficient compression of netCDF variables</h2>

<p>Data stored in netCDF 4 <code><a href="#Variable">Variable</a></code> objects can be compressed and
decompressed on the fly. The parameters for the compression are
determined by the <code>zlib</code>, <code>complevel</code> and <code>shuffle</code> keyword arguments
to the <code><a href="#Dataset.createVariable">Dataset.createVariable</a></code> method. To turn on
compression, set <code>zlib=True</code>.  The <code>complevel</code> keyword regulates the
speed and efficiency of the compression (1 being fastest, but lowest
compression ratio, 9 being slowest but best compression ratio). The
default value of <code>complevel</code> is 4. Setting <code>shuffle=False</code> will turn
off the HDF5 shuffle filter, which de-interlaces a block of data before
compression by reordering the bytes.  The shuffle filter can
significantly improve compression ratios, and is on by default.  Setting
<code>fletcher32</code> keyword argument to
<code><a href="#Dataset.createVariable">Dataset.createVariable</a></code> to <code>True</code> (it's <code>False</code> by
default) enables the Fletcher32 checksum algorithm for error detection.
It's also possible to set the HDF5 chunking parameters and endian-ness
of the binary data stored in the HDF5 file with the <code>chunksizes</code>
and <code>endian</code> keyword arguments to
<code><a href="#Dataset.createVariable">Dataset.createVariable</a></code>.  These keyword arguments only
are relevant for <code>NETCDF4</code> and <code>NETCDF4_CLASSIC</code> files (where the
underlying file format is HDF5) and are silently ignored if the file
format is <code>NETCDF3_CLASSIC</code>, <code>NETCDF3_64BIT_OFFSET</code> or <code>NETCDF3_64BIT_DATA</code>.</p>

<p>If your data only has a certain number of digits of precision (say for
example, it is temperature data that was measured with a precision of
0.1 degrees), you can dramatically improve zlib compression by
quantizing (or truncating) the data using the <code>least_significant_digit</code>
keyword argument to <code><a href="#Dataset.createVariable">Dataset.createVariable</a></code>. The least
significant digit is the power of ten of the smallest decimal place in
the data that is a reliable value. For example if the data has a
precision of 0.1, then setting <code>least_significant_digit=1</code> will cause
data the data to be quantized using <code>numpy.around(scale*data)/scale</code>, where
scale = 2**bits, and bits is determined so that a precision of 0.1 is
retained (in this case bits=4).  Effectively, this makes the compression
'lossy' instead of 'lossless', that is some precision in the data is
sacrificed for the sake of disk space.</p>

<p>In our example, try replacing the line</p>

<div class="codehilite"><pre><span></span><code><span class="o">&gt;&gt;&gt;</span> <span class="n">temp</span> <span class="o">=</span> <span class="n">rootgrp</span><span class="o">.</span><span class="n">createVariable</span><span class="p">(</span><span class="s2">&quot;temp&quot;</span><span class="p">,</span><span class="s2">&quot;f4&quot;</span><span class="p">,(</span><span class="s2">&quot;time&quot;</span><span class="p">,</span><span class="s2">&quot;level&quot;</span><span class="p">,</span><span class="s2">&quot;lat&quot;</span><span class="p">,</span><span class="s2">&quot;lon&quot;</span><span class="p">,))</span>
</code></pre></div>

<p>with</p>

<div class="codehilite"><pre><span></span><code><span class="o">&gt;&gt;&gt;</span> <span class="n">temp</span> <span class="o">=</span> <span class="n">rootgrp</span><span class="o">.</span><span class="n">createVariable</span><span class="p">(</span><span class="s2">&quot;temp&quot;</span><span class="p">,</span><span class="s2">&quot;f4&quot;</span><span class="p">,(</span><span class="s2">&quot;time&quot;</span><span class="p">,</span><span class="s2">&quot;level&quot;</span><span class="p">,</span><span class="s2">&quot;lat&quot;</span><span class="p">,</span><span class="s2">&quot;lon&quot;</span><span class="p">,),</span><span class="n">zlib</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</code></pre></div>

<p>and then</p>

<div class="codehilite"><pre><span></span><code><span class="o">&gt;&gt;&gt;</span> <span class="n">temp</span> <span class="o">=</span> <span class="n">rootgrp</span><span class="o">.</span><span class="n">createVariable</span><span class="p">(</span><span class="s2">&quot;temp&quot;</span><span class="p">,</span><span class="s2">&quot;f4&quot;</span><span class="p">,(</span><span class="s2">&quot;time&quot;</span><span class="p">,</span><span class="s2">&quot;level&quot;</span><span class="p">,</span><span class="s2">&quot;lat&quot;</span><span class="p">,</span><span class="s2">&quot;lon&quot;</span><span class="p">,),</span><span class="n">zlib</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span><span class="n">least_significant_digit</span><span class="o">=</span><span class="mi">3</span><span class="p">)</span>
</code></pre></div>

<p>and see how much smaller the resulting files are.</p>

<h2 id="beyond-homogeneous-arrays-of-a-fixed-type-compound-data-types">Beyond homogeneous arrays of a fixed type - compound data types</h2>

<p>Compound data types map directly to numpy structured (a.k.a 'record')
arrays.  Structured arrays are akin to C structs, or derived types
in Fortran. They allow for the construction of table-like structures
composed of combinations of other data types, including other
compound types. Compound types might be useful for representing multiple
parameter values at each point on a grid, or at each time and space
location for scattered (point) data. You can then access all the
information for a point by reading one variable, instead of reading
different parameters from different variables.  Compound data types
are created from the corresponding numpy data type using the
<code><a href="#Dataset.createCompoundType">Dataset.createCompoundType</a></code> method of a <code><a href="#Dataset">Dataset</a></code> or <code><a href="#Group">Group</a></code> instance.
Since there is no native complex data type in netcdf, compound types are handy
for storing numpy complex arrays.  Here's an example:</p>

<div class="codehilite"><pre><span></span><code><span class="o">&gt;&gt;&gt;</span> <span class="n">f</span> <span class="o">=</span> <span class="n">Dataset</span><span class="p">(</span><span class="s2">&quot;complex.nc&quot;</span><span class="p">,</span><span class="s2">&quot;w&quot;</span><span class="p">)</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">size</span> <span class="o">=</span> <span class="mi">3</span> <span class="c1"># length of 1-d complex array</span>
<span class="o">&gt;&gt;&gt;</span> <span class="c1"># create sample complex data.</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">datac</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">exp</span><span class="p">(</span><span class="mi">1</span><span class="n">j</span><span class="o">*</span><span class="p">(</span><span class="mf">1.</span><span class="o">+</span><span class="n">np</span><span class="o">.</span><span class="n">linspace</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">np</span><span class="o">.</span><span class="n">pi</span><span class="p">,</span> <span class="n">size</span><span class="p">)))</span>
<span class="o">&gt;&gt;&gt;</span> <span class="c1"># create complex128 compound data type.</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">complex128</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">dtype</span><span class="p">([(</span><span class="s2">&quot;real&quot;</span><span class="p">,</span><span class="n">np</span><span class="o">.</span><span class="n">float64</span><span class="p">),(</span><span class="s2">&quot;imag&quot;</span><span class="p">,</span><span class="n">np</span><span class="o">.</span><span class="n">float64</span><span class="p">)])</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">complex128_t</span> <span class="o">=</span> <span class="n">f</span><span class="o">.</span><span class="n">createCompoundType</span><span class="p">(</span><span class="n">complex128</span><span class="p">,</span><span class="s2">&quot;complex128&quot;</span><span class="p">)</span>
<span class="o">&gt;&gt;&gt;</span> <span class="c1"># create a variable with this data type, write some data to it.</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">x_dim</span> <span class="o">=</span> <span class="n">f</span><span class="o">.</span><span class="n">createDimension</span><span class="p">(</span><span class="s2">&quot;x_dim&quot;</span><span class="p">,</span><span class="kc">None</span><span class="p">)</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">v</span> <span class="o">=</span> <span class="n">f</span><span class="o">.</span><span class="n">createVariable</span><span class="p">(</span><span class="s2">&quot;cmplx_var&quot;</span><span class="p">,</span><span class="n">complex128_t</span><span class="p">,</span><span class="s2">&quot;x_dim&quot;</span><span class="p">)</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">data</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">empty</span><span class="p">(</span><span class="n">size</span><span class="p">,</span><span class="n">complex128</span><span class="p">)</span> <span class="c1"># numpy structured array</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">data</span><span class="p">[</span><span class="s2">&quot;real&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">datac</span><span class="o">.</span><span class="n">real</span><span class="p">;</span> <span class="n">data</span><span class="p">[</span><span class="s2">&quot;imag&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">datac</span><span class="o">.</span><span class="n">imag</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">v</span><span class="p">[:]</span> <span class="o">=</span> <span class="n">data</span> <span class="c1"># write numpy structured array to netcdf compound var</span>
<span class="o">&gt;&gt;&gt;</span> <span class="c1"># close and reopen the file, check the contents.</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">f</span><span class="o">.</span><span class="n">close</span><span class="p">();</span> <span class="n">f</span> <span class="o">=</span> <span class="n">Dataset</span><span class="p">(</span><span class="s2">&quot;complex.nc&quot;</span><span class="p">)</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">v</span> <span class="o">=</span> <span class="n">f</span><span class="o">.</span><span class="n">variables</span><span class="p">[</span><span class="s2">&quot;cmplx_var&quot;</span><span class="p">]</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">datain</span> <span class="o">=</span> <span class="n">v</span><span class="p">[:]</span> <span class="c1"># read in all the data into a numpy structured array</span>
<span class="o">&gt;&gt;&gt;</span> <span class="c1"># create an empty numpy complex array</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">datac2</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">empty</span><span class="p">(</span><span class="n">datain</span><span class="o">.</span><span class="n">shape</span><span class="p">,</span><span class="n">np</span><span class="o">.</span><span class="n">complex128</span><span class="p">)</span>
<span class="o">&gt;&gt;&gt;</span> <span class="c1"># .. fill it with contents of structured array.</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">datac2</span><span class="o">.</span><span class="n">real</span> <span class="o">=</span> <span class="n">datain</span><span class="p">[</span><span class="s2">&quot;real&quot;</span><span class="p">];</span> <span class="n">datac2</span><span class="o">.</span><span class="n">imag</span> <span class="o">=</span> <span class="n">datain</span><span class="p">[</span><span class="s2">&quot;imag&quot;</span><span class="p">]</span>
<span class="o">&gt;&gt;&gt;</span> <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;</span><span class="si">{}</span><span class="s1">: </span><span class="si">{}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">datac</span><span class="o">.</span><span class="n">dtype</span><span class="p">,</span> <span class="n">datac</span><span class="p">))</span> <span class="c1"># original data</span>
<span class="n">complex128</span><span class="p">:</span> <span class="p">[</span> <span class="mf">0.54030231</span><span class="o">+</span><span class="mf">0.84147098</span><span class="n">j</span> <span class="o">-</span><span class="mf">0.84147098</span><span class="o">+</span><span class="mf">0.54030231</span><span class="n">j</span> <span class="o">-</span><span class="mf">0.54030231</span><span class="o">-</span><span class="mf">0.84147098</span><span class="n">j</span><span class="p">]</span>
<span class="o">&gt;&gt;&gt;</span>
<span class="o">&gt;&gt;&gt;</span> <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;</span><span class="si">{}</span><span class="s1">: </span><span class="si">{}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">datac2</span><span class="o">.</span><span class="n">dtype</span><span class="p">,</span> <span class="n">datac2</span><span class="p">))</span> <span class="c1"># data from file</span>
<span class="n">complex128</span><span class="p">:</span> <span class="p">[</span> <span class="mf">0.54030231</span><span class="o">+</span><span class="mf">0.84147098</span><span class="n">j</span> <span class="o">-</span><span class="mf">0.84147098</span><span class="o">+</span><span class="mf">0.54030231</span><span class="n">j</span> <span class="o">-</span><span class="mf">0.54030231</span><span class="o">-</span><span class="mf">0.84147098</span><span class="n">j</span><span class="p">]</span>
</code></pre></div>

<p>Compound types can be nested, but you must create the 'inner'
ones first. All possible numpy structured arrays cannot be
represented as Compound variables - an error message will be
raise if you try to create one that is not supported.
All of the compound types defined for a <code><a href="#Dataset">Dataset</a></code> or <code><a href="#Group">Group</a></code> are stored
in a Python dictionary, just like variables and dimensions. As always, printing
objects gives useful summary information in an interactive session:</p>

<div class="codehilite"><pre><span></span><code><span class="o">&gt;&gt;&gt;</span> <span class="nb">print</span><span class="p">(</span><span class="n">f</span><span class="p">)</span>
<span class="o">&lt;</span><span class="k">class</span> <span class="err">&#39;</span><span class="nc">netCDF4</span><span class="o">.</span><span class="n">_netCDF4</span><span class="o">.</span><span class="n">Dataset</span><span class="s1">&#39;&gt;</span>
<span class="n">root</span> <span class="n">group</span> <span class="p">(</span><span class="n">NETCDF4</span> <span class="n">data</span> <span class="n">model</span><span class="p">,</span> <span class="n">file</span> <span class="nb">format</span> <span class="n">HDF5</span><span class="p">):</span>
    <span class="n">dimensions</span><span class="p">(</span><span class="n">sizes</span><span class="p">):</span> <span class="n">x_dim</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span>
    <span class="n">variables</span><span class="p">(</span><span class="n">dimensions</span><span class="p">):</span> <span class="p">{</span><span class="s1">&#39;names&#39;</span><span class="p">:[</span><span class="s1">&#39;real&#39;</span><span class="p">,</span><span class="s1">&#39;imag&#39;</span><span class="p">],</span> <span class="s1">&#39;formats&#39;</span><span class="p">:[</span><span class="s1">&#39;&lt;f8&#39;</span><span class="p">,</span><span class="s1">&#39;&lt;f8&#39;</span><span class="p">],</span> <span class="s1">&#39;offsets&#39;</span><span class="p">:[</span><span class="mi">0</span><span class="p">,</span><span class="mi">8</span><span class="p">],</span> <span class="s1">&#39;itemsize&#39;</span><span class="p">:</span><span class="mi">16</span><span class="p">,</span> <span class="s1">&#39;aligned&#39;</span><span class="p">:</span><span class="kc">True</span><span class="p">}</span> <span class="n">cmplx_var</span><span class="p">(</span><span class="n">x_dim</span><span class="p">)</span>
    <span class="n">groups</span><span class="p">:</span> 
<span class="o">&gt;&gt;&gt;</span> <span class="nb">print</span><span class="p">(</span><span class="n">f</span><span class="o">.</span><span class="n">variables</span><span class="p">[</span><span class="s2">&quot;cmplx_var&quot;</span><span class="p">])</span>
<span class="o">&lt;</span><span class="k">class</span> <span class="err">&#39;</span><span class="nc">netCDF4</span><span class="o">.</span><span class="n">_netCDF4</span><span class="o">.</span><span class="n">Variable</span><span class="s1">&#39;&gt;</span>
<span class="n">compound</span> <span class="n">cmplx_var</span><span class="p">(</span><span class="n">x_dim</span><span class="p">)</span>
<span class="n">compound</span> <span class="n">data</span> <span class="nb">type</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;names&#39;</span><span class="p">:[</span><span class="s1">&#39;real&#39;</span><span class="p">,</span><span class="s1">&#39;imag&#39;</span><span class="p">],</span> <span class="s1">&#39;formats&#39;</span><span class="p">:[</span><span class="s1">&#39;&lt;f8&#39;</span><span class="p">,</span><span class="s1">&#39;&lt;f8&#39;</span><span class="p">],</span> <span class="s1">&#39;offsets&#39;</span><span class="p">:[</span><span class="mi">0</span><span class="p">,</span><span class="mi">8</span><span class="p">],</span> <span class="s1">&#39;itemsize&#39;</span><span class="p">:</span><span class="mi">16</span><span class="p">,</span> <span class="s1">&#39;aligned&#39;</span><span class="p">:</span><span class="kc">True</span><span class="p">}</span>
<span class="n">unlimited</span> <span class="n">dimensions</span><span class="p">:</span> <span class="n">x_dim</span>
<span class="n">current</span> <span class="n">shape</span> <span class="o">=</span> <span class="p">(</span><span class="mi">3</span><span class="p">,)</span>
<span class="o">&gt;&gt;&gt;</span> <span class="nb">print</span><span class="p">(</span><span class="n">f</span><span class="o">.</span><span class="n">cmptypes</span><span class="p">)</span>
<span class="p">{</span><span class="s1">&#39;complex128&#39;</span><span class="p">:</span> <span class="o">&lt;</span><span class="k">class</span> <span class="err">&#39;</span><span class="nc">netCDF4</span><span class="o">.</span><span class="n">_netCDF4</span><span class="o">.</span><span class="n">CompoundType</span><span class="s1">&#39;&gt;: name = &#39;</span><span class="n">complex128</span><span class="s1">&#39;, numpy dtype = {&#39;</span><span class="n">names</span><span class="s1">&#39;:[&#39;</span><span class="n">real</span><span class="s1">&#39;,&#39;</span><span class="n">imag</span><span class="s1">&#39;], &#39;</span><span class="n">formats</span><span class="s1">&#39;:[&#39;</span><span class="o">&lt;</span><span class="n">f8</span><span class="s1">&#39;,&#39;</span><span class="o">&lt;</span><span class="n">f8</span><span class="s1">&#39;], &#39;</span><span class="n">offsets</span><span class="s1">&#39;:[0,8], &#39;</span><span class="n">itemsize</span><span class="s1">&#39;:16, &#39;</span><span class="n">aligned</span><span class="s1">&#39;:True}}</span>
<span class="o">&gt;&gt;&gt;</span> <span class="nb">print</span><span class="p">(</span><span class="n">f</span><span class="o">.</span><span class="n">cmptypes</span><span class="p">[</span><span class="s2">&quot;complex128&quot;</span><span class="p">])</span>
<span class="o">&lt;</span><span class="k">class</span> <span class="err">&#39;</span><span class="nc">netCDF4</span><span class="o">.</span><span class="n">_netCDF4</span><span class="o">.</span><span class="n">CompoundType</span><span class="s1">&#39;&gt;: name = &#39;</span><span class="n">complex128</span><span class="s1">&#39;, numpy dtype = {&#39;</span><span class="n">names</span><span class="s1">&#39;:[&#39;</span><span class="n">real</span><span class="s1">&#39;,&#39;</span><span class="n">imag</span><span class="s1">&#39;], &#39;</span><span class="n">formats</span><span class="s1">&#39;:[&#39;</span><span class="o">&lt;</span><span class="n">f8</span><span class="s1">&#39;,&#39;</span><span class="o">&lt;</span><span class="n">f8</span><span class="s1">&#39;], &#39;</span><span class="n">offsets</span><span class="s1">&#39;:[0,8], &#39;</span><span class="n">itemsize</span><span class="s1">&#39;:16, &#39;</span><span class="n">aligned</span><span class="s1">&#39;:True}</span>
</code></pre></div>

<h2 id="variable-length-vlen-data-types">Variable-length (vlen) data types</h2>

<p>NetCDF 4 has support for variable-length or "ragged" arrays.  These are arrays
of variable length sequences having the same type. To create a variable-length
data type, use the <code><a href="#Dataset.createVLType">Dataset.createVLType</a></code> method
method of a <code><a href="#Dataset">Dataset</a></code> or <code><a href="#Group">Group</a></code> instance.</p>

<div class="codehilite"><pre><span></span><code><span class="o">&gt;&gt;&gt;</span> <span class="n">f</span> <span class="o">=</span> <span class="n">Dataset</span><span class="p">(</span><span class="s2">&quot;tst_vlen.nc&quot;</span><span class="p">,</span><span class="s2">&quot;w&quot;</span><span class="p">)</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">vlen_t</span> <span class="o">=</span> <span class="n">f</span><span class="o">.</span><span class="n">createVLType</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">int32</span><span class="p">,</span> <span class="s2">&quot;phony_vlen&quot;</span><span class="p">)</span>
</code></pre></div>

<p>The numpy datatype of the variable-length sequences and the name of the
new datatype must be specified. Any of the primitive datatypes can be
used (signed and unsigned integers, 32 and 64 bit floats, and characters),
but compound data types cannot.
A new variable can then be created using this datatype.</p>

<div class="codehilite"><pre><span></span><code><span class="o">&gt;&gt;&gt;</span> <span class="n">x</span> <span class="o">=</span> <span class="n">f</span><span class="o">.</span><span class="n">createDimension</span><span class="p">(</span><span class="s2">&quot;x&quot;</span><span class="p">,</span><span class="mi">3</span><span class="p">)</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">y</span> <span class="o">=</span> <span class="n">f</span><span class="o">.</span><span class="n">createDimension</span><span class="p">(</span><span class="s2">&quot;y&quot;</span><span class="p">,</span><span class="mi">4</span><span class="p">)</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">vlvar</span> <span class="o">=</span> <span class="n">f</span><span class="o">.</span><span class="n">createVariable</span><span class="p">(</span><span class="s2">&quot;phony_vlen_var&quot;</span><span class="p">,</span> <span class="n">vlen_t</span><span class="p">,</span> <span class="p">(</span><span class="s2">&quot;y&quot;</span><span class="p">,</span><span class="s2">&quot;x&quot;</span><span class="p">))</span>
</code></pre></div>

<p>Since there is no native vlen datatype in numpy, vlen arrays are represented
in python as object arrays (arrays of dtype <code>object</code>). These are arrays whose
elements are Python object pointers, and can contain any type of python object.
For this application, they must contain 1-D numpy arrays all of the same type
but of varying length.
In this case, they contain 1-D numpy <code>int32</code> arrays of random length between
1 and 10.</p>

<div class="codehilite"><pre><span></span><code><span class="o">&gt;&gt;&gt;</span> <span class="kn">import</span> <span class="nn">random</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">random</span><span class="o">.</span><span class="n">seed</span><span class="p">(</span><span class="mi">54321</span><span class="p">)</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">data</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">empty</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">y</span><span class="p">)</span><span class="o">*</span><span class="nb">len</span><span class="p">(</span><span class="n">x</span><span class="p">),</span><span class="nb">object</span><span class="p">)</span>
<span class="o">&gt;&gt;&gt;</span> <span class="k">for</span> <span class="n">n</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">y</span><span class="p">)</span><span class="o">*</span><span class="nb">len</span><span class="p">(</span><span class="n">x</span><span class="p">)):</span>
<span class="o">...</span>     <span class="n">data</span><span class="p">[</span><span class="n">n</span><span class="p">]</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="n">random</span><span class="o">.</span><span class="n">randint</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">10</span><span class="p">),</span><span class="n">dtype</span><span class="o">=</span><span class="s2">&quot;int32&quot;</span><span class="p">)</span><span class="o">+</span><span class="mi">1</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">data</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">reshape</span><span class="p">(</span><span class="n">data</span><span class="p">,(</span><span class="nb">len</span><span class="p">(</span><span class="n">y</span><span class="p">),</span><span class="nb">len</span><span class="p">(</span><span class="n">x</span><span class="p">)))</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">vlvar</span><span class="p">[:]</span> <span class="o">=</span> <span class="n">data</span>
<span class="o">&gt;&gt;&gt;</span> <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;vlen variable =</span><span class="se">\n</span><span class="si">{}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">vlvar</span><span class="p">[:]))</span>
<span class="n">vlen</span> <span class="n">variable</span> <span class="o">=</span>
<span class="p">[[</span><span class="n">array</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">7</span><span class="p">,</span> <span class="mi">8</span><span class="p">],</span> <span class="n">dtype</span><span class="o">=</span><span class="n">int32</span><span class="p">)</span> <span class="n">array</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">],</span> <span class="n">dtype</span><span class="o">=</span><span class="n">int32</span><span class="p">)</span>
  <span class="n">array</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">],</span> <span class="n">dtype</span><span class="o">=</span><span class="n">int32</span><span class="p">)]</span>
 <span class="p">[</span><span class="n">array</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">],</span> <span class="n">dtype</span><span class="o">=</span><span class="n">int32</span><span class="p">)</span>
  <span class="n">array</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">7</span><span class="p">,</span> <span class="mi">8</span><span class="p">,</span> <span class="mi">9</span><span class="p">],</span> <span class="n">dtype</span><span class="o">=</span><span class="n">int32</span><span class="p">)</span>
  <span class="n">array</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">7</span><span class="p">,</span> <span class="mi">8</span><span class="p">,</span> <span class="mi">9</span><span class="p">],</span> <span class="n">dtype</span><span class="o">=</span><span class="n">int32</span><span class="p">)]</span>
 <span class="p">[</span><span class="n">array</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">7</span><span class="p">],</span> <span class="n">dtype</span><span class="o">=</span><span class="n">int32</span><span class="p">)</span> <span class="n">array</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">],</span> <span class="n">dtype</span><span class="o">=</span><span class="n">int32</span><span class="p">)</span>
  <span class="n">array</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">6</span><span class="p">],</span> <span class="n">dtype</span><span class="o">=</span><span class="n">int32</span><span class="p">)]</span>
 <span class="p">[</span><span class="n">array</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">7</span><span class="p">,</span> <span class="mi">8</span><span class="p">,</span> <span class="mi">9</span><span class="p">],</span> <span class="n">dtype</span><span class="o">=</span><span class="n">int32</span><span class="p">)</span>
  <span class="n">array</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">],</span> <span class="n">dtype</span><span class="o">=</span><span class="n">int32</span><span class="p">)</span> <span class="n">array</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">],</span> <span class="n">dtype</span><span class="o">=</span><span class="n">int32</span><span class="p">)]]</span>
<span class="o">&gt;&gt;&gt;</span> <span class="nb">print</span><span class="p">(</span><span class="n">f</span><span class="p">)</span>
<span class="o">&lt;</span><span class="k">class</span> <span class="err">&#39;</span><span class="nc">netCDF4</span><span class="o">.</span><span class="n">_netCDF4</span><span class="o">.</span><span class="n">Dataset</span><span class="s1">&#39;&gt;</span>
<span class="n">root</span> <span class="n">group</span> <span class="p">(</span><span class="n">NETCDF4</span> <span class="n">data</span> <span class="n">model</span><span class="p">,</span> <span class="n">file</span> <span class="nb">format</span> <span class="n">HDF5</span><span class="p">):</span>
    <span class="n">dimensions</span><span class="p">(</span><span class="n">sizes</span><span class="p">):</span> <span class="n">x</span><span class="p">(</span><span class="mi">3</span><span class="p">),</span> <span class="n">y</span><span class="p">(</span><span class="mi">4</span><span class="p">)</span>
    <span class="n">variables</span><span class="p">(</span><span class="n">dimensions</span><span class="p">):</span> <span class="n">int32</span> <span class="n">phony_vlen_var</span><span class="p">(</span><span class="n">y</span><span class="p">,</span><span class="n">x</span><span class="p">)</span>
    <span class="n">groups</span><span class="p">:</span> 
<span class="o">&gt;&gt;&gt;</span> <span class="nb">print</span><span class="p">(</span><span class="n">f</span><span class="o">.</span><span class="n">variables</span><span class="p">[</span><span class="s2">&quot;phony_vlen_var&quot;</span><span class="p">])</span>
<span class="o">&lt;</span><span class="k">class</span> <span class="err">&#39;</span><span class="nc">netCDF4</span><span class="o">.</span><span class="n">_netCDF4</span><span class="o">.</span><span class="n">Variable</span><span class="s1">&#39;&gt;</span>
<span class="n">vlen</span> <span class="n">phony_vlen_var</span><span class="p">(</span><span class="n">y</span><span class="p">,</span> <span class="n">x</span><span class="p">)</span>
<span class="n">vlen</span> <span class="n">data</span> <span class="nb">type</span><span class="p">:</span> <span class="n">int32</span>
<span class="n">unlimited</span> <span class="n">dimensions</span><span class="p">:</span> 
<span class="n">current</span> <span class="n">shape</span> <span class="o">=</span> <span class="p">(</span><span class="mi">4</span><span class="p">,</span> <span class="mi">3</span><span class="p">)</span>
<span class="o">&gt;&gt;&gt;</span> <span class="nb">print</span><span class="p">(</span><span class="n">f</span><span class="o">.</span><span class="n">vltypes</span><span class="p">[</span><span class="s2">&quot;phony_vlen&quot;</span><span class="p">])</span>
<span class="o">&lt;</span><span class="k">class</span> <span class="err">&#39;</span><span class="nc">netCDF4</span><span class="o">.</span><span class="n">_netCDF4</span><span class="o">.</span><span class="n">VLType</span><span class="s1">&#39;&gt;: name = &#39;</span><span class="n">phony_vlen</span><span class="s1">&#39;, numpy dtype = int32</span>
</code></pre></div>

<p>Numpy object arrays containing python strings can also be written as vlen
variables,  For vlen strings, you don't need to create a vlen data type.
Instead, simply use the python <code>str</code> builtin (or a numpy string datatype
with fixed length greater than 1) when calling the
<code><a href="#Dataset.createVariable">Dataset.createVariable</a></code> method.</p>

<div class="codehilite"><pre><span></span><code><span class="o">&gt;&gt;&gt;</span> <span class="n">z</span> <span class="o">=</span> <span class="n">f</span><span class="o">.</span><span class="n">createDimension</span><span class="p">(</span><span class="s2">&quot;z&quot;</span><span class="p">,</span><span class="mi">10</span><span class="p">)</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">strvar</span> <span class="o">=</span> <span class="n">f</span><span class="o">.</span><span class="n">createVariable</span><span class="p">(</span><span class="s2">&quot;strvar&quot;</span><span class="p">,</span> <span class="nb">str</span><span class="p">,</span> <span class="s2">&quot;z&quot;</span><span class="p">)</span>
</code></pre></div>

<p>In this example, an object array is filled with random python strings with
random lengths between 2 and 12 characters, and the data in the object
array is assigned to the vlen string variable.</p>

<div class="codehilite"><pre><span></span><code><span class="o">&gt;&gt;&gt;</span> <span class="n">chars</span> <span class="o">=</span> <span class="s2">&quot;1234567890aabcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ&quot;</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">data</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">empty</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span><span class="s2">&quot;O&quot;</span><span class="p">)</span>
<span class="o">&gt;&gt;&gt;</span> <span class="k">for</span> <span class="n">n</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">10</span><span class="p">):</span>
<span class="o">...</span>     <span class="n">stringlen</span> <span class="o">=</span> <span class="n">random</span><span class="o">.</span><span class="n">randint</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span><span class="mi">12</span><span class="p">)</span>
<span class="o">...</span>     <span class="n">data</span><span class="p">[</span><span class="n">n</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span><span class="o">.</span><span class="n">join</span><span class="p">([</span><span class="n">random</span><span class="o">.</span><span class="n">choice</span><span class="p">(</span><span class="n">chars</span><span class="p">)</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">stringlen</span><span class="p">)])</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">strvar</span><span class="p">[:]</span> <span class="o">=</span> <span class="n">data</span>
<span class="o">&gt;&gt;&gt;</span> <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;variable-length string variable:</span><span class="se">\n</span><span class="si">{}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">strvar</span><span class="p">[:]))</span>
<span class="n">variable</span><span class="o">-</span><span class="n">length</span> <span class="n">string</span> <span class="n">variable</span><span class="p">:</span>
<span class="p">[</span><span class="s1">&#39;Lh&#39;</span> <span class="s1">&#39;25F8wBbMI&#39;</span> <span class="s1">&#39;53rmM&#39;</span> <span class="s1">&#39;vvjnb3t63ao&#39;</span> <span class="s1">&#39;qjRBQk6w&#39;</span> <span class="s1">&#39;aJh&#39;</span> <span class="s1">&#39;QF&#39;</span>
 <span class="s1">&#39;jtIJbJACaQk4&#39;</span> <span class="s1">&#39;3Z5&#39;</span> <span class="s1">&#39;bftIIq&#39;</span><span class="p">]</span>
<span class="o">&gt;&gt;&gt;</span> <span class="nb">print</span><span class="p">(</span><span class="n">f</span><span class="p">)</span>
<span class="o">&lt;</span><span class="k">class</span> <span class="err">&#39;</span><span class="nc">netCDF4</span><span class="o">.</span><span class="n">_netCDF4</span><span class="o">.</span><span class="n">Dataset</span><span class="s1">&#39;&gt;</span>
<span class="n">root</span> <span class="n">group</span> <span class="p">(</span><span class="n">NETCDF4</span> <span class="n">data</span> <span class="n">model</span><span class="p">,</span> <span class="n">file</span> <span class="nb">format</span> <span class="n">HDF5</span><span class="p">):</span>
    <span class="n">dimensions</span><span class="p">(</span><span class="n">sizes</span><span class="p">):</span> <span class="n">x</span><span class="p">(</span><span class="mi">3</span><span class="p">),</span> <span class="n">y</span><span class="p">(</span><span class="mi">4</span><span class="p">),</span> <span class="n">z</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span>
    <span class="n">variables</span><span class="p">(</span><span class="n">dimensions</span><span class="p">):</span> <span class="n">int32</span> <span class="n">phony_vlen_var</span><span class="p">(</span><span class="n">y</span><span class="p">,</span><span class="n">x</span><span class="p">),</span> <span class="o">&lt;</span><span class="k">class</span> <span class="err">&#39;</span><span class="nc">str</span><span class="s1">&#39;&gt; strvar(z)</span>
    <span class="n">groups</span><span class="p">:</span> 
<span class="o">&gt;&gt;&gt;</span> <span class="nb">print</span><span class="p">(</span><span class="n">f</span><span class="o">.</span><span class="n">variables</span><span class="p">[</span><span class="s2">&quot;strvar&quot;</span><span class="p">])</span>
<span class="o">&lt;</span><span class="k">class</span> <span class="err">&#39;</span><span class="nc">netCDF4</span><span class="o">.</span><span class="n">_netCDF4</span><span class="o">.</span><span class="n">Variable</span><span class="s1">&#39;&gt;</span>
<span class="n">vlen</span> <span class="n">strvar</span><span class="p">(</span><span class="n">z</span><span class="p">)</span>
<span class="n">vlen</span> <span class="n">data</span> <span class="nb">type</span><span class="p">:</span> <span class="o">&lt;</span><span class="k">class</span> <span class="err">&#39;</span><span class="nc">str</span><span class="s1">&#39;&gt;</span>
<span class="n">unlimited</span> <span class="n">dimensions</span><span class="p">:</span> 
<span class="n">current</span> <span class="n">shape</span> <span class="o">=</span> <span class="p">(</span><span class="mi">10</span><span class="p">,)</span>
</code></pre></div>

<p>It is also possible to set contents of vlen string variables with numpy arrays
of any string or unicode data type. Note, however, that accessing the contents
of such variables will always return numpy arrays with dtype <code>object</code>.</p>

<h2 id="enum-data-type">Enum data type</h2>

<p>netCDF4 has an enumerated data type, which is an integer datatype that is
restricted to certain named values. Since Enums don't map directly to
a numpy data type, they are read and written as integer arrays.</p>

<p>Here's an example of using an Enum type to hold cloud type data.
The base integer data type and a python dictionary describing the allowed
values and their names are used to define an Enum data type using
<code><a href="#Dataset.createEnumType">Dataset.createEnumType</a></code>.</p>

<div class="codehilite"><pre><span></span><code><span class="o">&gt;&gt;&gt;</span> <span class="n">nc</span> <span class="o">=</span> <span class="n">Dataset</span><span class="p">(</span><span class="s1">&#39;clouds.nc&#39;</span><span class="p">,</span><span class="s1">&#39;w&#39;</span><span class="p">)</span>
<span class="o">&gt;&gt;&gt;</span> <span class="c1"># python dict with allowed values and their names.</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">enum_dict</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;Altocumulus&#39;</span><span class="p">:</span> <span class="mi">7</span><span class="p">,</span> <span class="s1">&#39;Missing&#39;</span><span class="p">:</span> <span class="mi">255</span><span class="p">,</span>
<span class="o">...</span> <span class="s1">&#39;Stratus&#39;</span><span class="p">:</span> <span class="mi">2</span><span class="p">,</span> <span class="s1">&#39;Clear&#39;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
<span class="o">...</span> <span class="s1">&#39;Nimbostratus&#39;</span><span class="p">:</span> <span class="mi">6</span><span class="p">,</span> <span class="s1">&#39;Cumulus&#39;</span><span class="p">:</span> <span class="mi">4</span><span class="p">,</span> <span class="s1">&#39;Altostratus&#39;</span><span class="p">:</span> <span class="mi">5</span><span class="p">,</span>
<span class="o">...</span> <span class="s1">&#39;Cumulonimbus&#39;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span> <span class="s1">&#39;Stratocumulus&#39;</span><span class="p">:</span> <span class="mi">3</span><span class="p">}</span>
<span class="o">&gt;&gt;&gt;</span> <span class="c1"># create the Enum type called &#39;cloud_t&#39;.</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">cloud_type</span> <span class="o">=</span> <span class="n">nc</span><span class="o">.</span><span class="n">createEnumType</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">uint8</span><span class="p">,</span><span class="s1">&#39;cloud_t&#39;</span><span class="p">,</span><span class="n">enum_dict</span><span class="p">)</span>
<span class="o">&gt;&gt;&gt;</span> <span class="nb">print</span><span class="p">(</span><span class="n">cloud_type</span><span class="p">)</span>
<span class="o">&lt;</span><span class="k">class</span> <span class="err">&#39;</span><span class="nc">netCDF4</span><span class="o">.</span><span class="n">_netCDF4</span><span class="o">.</span><span class="n">EnumType</span><span class="s1">&#39;&gt;: name = &#39;</span><span class="n">cloud_t</span><span class="s1">&#39;, numpy dtype = uint8, fields/values ={&#39;</span><span class="n">Altocumulus</span><span class="s1">&#39;: 7, &#39;</span><span class="n">Missing</span><span class="s1">&#39;: 255, &#39;</span><span class="n">Stratus</span><span class="s1">&#39;: 2, &#39;</span><span class="n">Clear</span><span class="s1">&#39;: 0, &#39;</span><span class="n">Nimbostratus</span><span class="s1">&#39;: 6, &#39;</span><span class="n">Cumulus</span><span class="s1">&#39;: 4, &#39;</span><span class="n">Altostratus</span><span class="s1">&#39;: 5, &#39;</span><span class="n">Cumulonimbus</span><span class="s1">&#39;: 1, &#39;</span><span class="n">Stratocumulus</span><span class="s1">&#39;: 3}</span>
</code></pre></div>

<p>A new variable can be created in the usual way using this data type.
Integer data is written to the variable that represents the named
cloud types in enum_dict. A <code>ValueError</code> will be raised if an attempt
is made to write an integer value not associated with one of the
specified names.</p>

<div class="codehilite"><pre><span></span><code><span class="o">&gt;&gt;&gt;</span> <span class="n">time</span> <span class="o">=</span> <span class="n">nc</span><span class="o">.</span><span class="n">createDimension</span><span class="p">(</span><span class="s1">&#39;time&#39;</span><span class="p">,</span><span class="kc">None</span><span class="p">)</span>
<span class="o">&gt;&gt;&gt;</span> <span class="c1"># create a 1d variable of type &#39;cloud_type&#39;.</span>
<span class="o">&gt;&gt;&gt;</span> <span class="c1"># The fill_value is set to the &#39;Missing&#39; named value.</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">cloud_var</span> <span class="o">=</span> <span class="n">nc</span><span class="o">.</span><span class="n">createVariable</span><span class="p">(</span><span class="s1">&#39;primary_cloud&#39;</span><span class="p">,</span><span class="n">cloud_type</span><span class="p">,</span><span class="s1">&#39;time&#39;</span><span class="p">,</span>
<span class="o">...</span>                               <span class="n">fill_value</span><span class="o">=</span><span class="n">enum_dict</span><span class="p">[</span><span class="s1">&#39;Missing&#39;</span><span class="p">])</span>
<span class="o">&gt;&gt;&gt;</span> <span class="c1"># write some data to the variable.</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">cloud_var</span><span class="p">[:]</span> <span class="o">=</span> <span class="p">[</span><span class="n">enum_dict</span><span class="p">[</span><span class="n">k</span><span class="p">]</span> <span class="k">for</span> <span class="n">k</span> <span class="ow">in</span> <span class="p">[</span><span class="s1">&#39;Clear&#39;</span><span class="p">,</span> <span class="s1">&#39;Stratus&#39;</span><span class="p">,</span> <span class="s1">&#39;Cumulus&#39;</span><span class="p">,</span>
<span class="o">...</span>                                        <span class="s1">&#39;Missing&#39;</span><span class="p">,</span> <span class="s1">&#39;Cumulonimbus&#39;</span><span class="p">]]</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">nc</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
<span class="o">&gt;&gt;&gt;</span> <span class="c1"># reopen the file, read the data.</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">nc</span> <span class="o">=</span> <span class="n">Dataset</span><span class="p">(</span><span class="s1">&#39;clouds.nc&#39;</span><span class="p">)</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">cloud_var</span> <span class="o">=</span> <span class="n">nc</span><span class="o">.</span><span class="n">variables</span><span class="p">[</span><span class="s1">&#39;primary_cloud&#39;</span><span class="p">]</span>
<span class="o">&gt;&gt;&gt;</span> <span class="nb">print</span><span class="p">(</span><span class="n">cloud_var</span><span class="p">)</span>
<span class="o">&lt;</span><span class="k">class</span> <span class="err">&#39;</span><span class="nc">netCDF4</span><span class="o">.</span><span class="n">_netCDF4</span><span class="o">.</span><span class="n">Variable</span><span class="s1">&#39;&gt;</span>
<span class="n">enum</span> <span class="n">primary_cloud</span><span class="p">(</span><span class="n">time</span><span class="p">)</span>
    <span class="n">_FillValue</span><span class="p">:</span> <span class="mi">255</span>
<span class="n">enum</span> <span class="n">data</span> <span class="nb">type</span><span class="p">:</span> <span class="n">uint8</span>
<span class="n">unlimited</span> <span class="n">dimensions</span><span class="p">:</span> <span class="n">time</span>
<span class="n">current</span> <span class="n">shape</span> <span class="o">=</span> <span class="p">(</span><span class="mi">5</span><span class="p">,)</span>
<span class="o">&gt;&gt;&gt;</span> <span class="nb">print</span><span class="p">(</span><span class="n">cloud_var</span><span class="o">.</span><span class="n">datatype</span><span class="o">.</span><span class="n">enum_dict</span><span class="p">)</span>
<span class="p">{</span><span class="s1">&#39;Altocumulus&#39;</span><span class="p">:</span> <span class="mi">7</span><span class="p">,</span> <span class="s1">&#39;Missing&#39;</span><span class="p">:</span> <span class="mi">255</span><span class="p">,</span> <span class="s1">&#39;Stratus&#39;</span><span class="p">:</span> <span class="mi">2</span><span class="p">,</span> <span class="s1">&#39;Clear&#39;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span> <span class="s1">&#39;Nimbostratus&#39;</span><span class="p">:</span> <span class="mi">6</span><span class="p">,</span> <span class="s1">&#39;Cumulus&#39;</span><span class="p">:</span> <span class="mi">4</span><span class="p">,</span> <span class="s1">&#39;Altostratus&#39;</span><span class="p">:</span> <span class="mi">5</span><span class="p">,</span> <span class="s1">&#39;Cumulonimbus&#39;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span> <span class="s1">&#39;Stratocumulus&#39;</span><span class="p">:</span> <span class="mi">3</span><span class="p">}</span>
<span class="o">&gt;&gt;&gt;</span> <span class="nb">print</span><span class="p">(</span><span class="n">cloud_var</span><span class="p">[:])</span>
<span class="p">[</span><span class="mi">0</span> <span class="mi">2</span> <span class="mi">4</span> <span class="o">--</span> <span class="mi">1</span><span class="p">]</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">nc</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
</code></pre></div>

<h2 id="parallel-io">Parallel IO</h2>

<p>If MPI parallel enabled versions of netcdf and hdf5 or pnetcdf are detected,
and <a href="https://mpi4py.scipy.org">mpi4py</a> is installed, netcdf4-python will
be built with parallel IO capabilities enabled. Parallel IO of NETCDF4 or 
NETCDF4_CLASSIC formatted files is only available if the MPI parallel HDF5
library is available. Parallel IO of classic netcdf-3 file formats is only
available if the <a href="https://parallel-netcdf.github.io/">PnetCDF</a> library is
available. To use parallel IO, your program must be running in an MPI
environment using <a href="https://mpi4py.scipy.org">mpi4py</a>.</p>

<div class="codehilite"><pre><span></span><code><span class="o">&gt;&gt;&gt;</span> <span class="kn">from</span> <span class="nn">mpi4py</span> <span class="kn">import</span> <span class="n">MPI</span>
<span class="o">&gt;&gt;&gt;</span> <span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="o">&gt;&gt;&gt;</span> <span class="kn">from</span> <span class="nn">netCDF4</span> <span class="kn">import</span> <span class="n">Dataset</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">rank</span> <span class="o">=</span> <span class="n">MPI</span><span class="o">.</span><span class="n">COMM_WORLD</span><span class="o">.</span><span class="n">rank</span>  <span class="c1"># The process ID (integer 0-3 for 4-process run)</span>
</code></pre></div>

<p>To run an MPI-based parallel program like this, you must use <code>mpiexec</code> to launch several
parallel instances of Python (for example, using <code>mpiexec -np 4 python mpi_example.py</code>).
The parallel features of netcdf4-python are mostly transparent -
when a new dataset is created or an existing dataset is opened,
use the <code>parallel</code> keyword to enable parallel access.</p>

<div class="codehilite"><pre><span></span><code><span class="o">&gt;&gt;&gt;</span> <span class="n">nc</span> <span class="o">=</span> <span class="n">Dataset</span><span class="p">(</span><span class="s1">&#39;parallel_test.nc&#39;</span><span class="p">,</span><span class="s1">&#39;w&#39;</span><span class="p">,</span><span class="n">parallel</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</code></pre></div>

<p>The optional <code>comm</code> keyword may be used to specify a particular
MPI communicator (<code>MPI_COMM_WORLD</code> is used by default).  Each process (or rank)
can now write to the file indepedently.  In this example the process rank is
written to a different variable index on each task</p>

<div class="codehilite"><pre><span></span><code><span class="o">&gt;&gt;&gt;</span> <span class="n">d</span> <span class="o">=</span> <span class="n">nc</span><span class="o">.</span><span class="n">createDimension</span><span class="p">(</span><span class="s1">&#39;dim&#39;</span><span class="p">,</span><span class="mi">4</span><span class="p">)</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">v</span> <span class="o">=</span> <span class="n">nc</span><span class="o">.</span><span class="n">createVariable</span><span class="p">(</span><span class="s1">&#39;var&#39;</span><span class="p">,</span> <span class="n">np</span><span class="o">.</span><span class="n">int64</span><span class="p">,</span> <span class="s1">&#39;dim&#39;</span><span class="p">)</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">v</span><span class="p">[</span><span class="n">rank</span><span class="p">]</span> <span class="o">=</span> <span class="n">rank</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">nc</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>

<span class="o">%</span> <span class="n">ncdump</span> <span class="n">parallel_test</span><span class="o">.</span><span class="n">nc</span>
<span class="n">netcdf</span> <span class="n">parallel_test</span> <span class="p">{</span>
<span class="n">dimensions</span><span class="p">:</span>
    <span class="n">dim</span> <span class="o">=</span> <span class="mi">4</span> <span class="p">;</span>
<span class="n">variables</span><span class="p">:</span>
    <span class="n">int64</span> <span class="n">var</span><span class="p">(</span><span class="n">dim</span><span class="p">)</span> <span class="p">;</span>
<span class="n">data</span><span class="p">:</span>

    <span class="n">var</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span> <span class="p">;</span>
<span class="p">}</span>
</code></pre></div>

<p>There are two types of parallel IO, independent (the default) and collective.
Independent IO means that each process can do IO independently. It should not
depend on or be affected by other processes. Collective IO is a way of doing
IO defined in the MPI-IO standard; unlike independent IO, all processes must
participate in doing IO. To toggle back and forth between
the two types of IO, use the <code><a href="#Variable.set_collective">Variable.set_collective</a></code>
<code><a href="#Variable">Variable</a></code> method. All metadata
operations (such as creation of groups, types, variables, dimensions, or attributes)
are collective.  There are a couple of important limitations of parallel IO:</p>

<ul>
<li>parallel IO for NETCDF4 or NETCDF4_CLASSIC formatted files is only available
if the netcdf library was compiled with MPI enabled HDF5.</li>
<li>parallel IO for all classic netcdf-3 file formats is only available if the
netcdf library was compiled with <a href="https://parallel-netcdf.github.io">PnetCDF</a>.</li>
<li>If a variable has an unlimited dimension, appending data must be done in collective mode.
If the write is done in independent mode, the operation will fail with a
a generic "HDF Error".</li>
<li>You can write compressed data in parallel only with netcdf-c &gt;= 4.7.4
and hdf5 &gt;= 1.10.3 (although you can read in parallel with earlier versions). To write
compressed data in parallel, the variable must be in 'collective IO mode'.  This is done
automatically on variable creation if compression is turned on, but if you are appending
to a variable in an existing file, you must use <code><a href="#Variable.set_collective">Variable.set_collective</a>(True)</code> before attempting
to write to it.</li>
<li>You cannot use variable-length (VLEN) data types.</li>
</ul>

<h2 id="dealing-with-strings">Dealing with strings</h2>

<p>The most flexible way to store arrays of strings is with the
<a href="#variable-length-vlen-data-type">Variable-length (vlen) string data type</a>. However, this requires
the use of the NETCDF4 data model, and the vlen type does not map very well
numpy arrays (you have to use numpy arrays of dtype=<code>object</code>, which are arrays of
arbitrary python objects). numpy does have a fixed-width string array
data type, but unfortunately the netCDF data model does not.
Instead fixed-width byte strings are typically stored as <a href="https://www.unidata.ucar.edu/software/netcdf/docs/BestPractices.html#bp_Strings-and-Variables-of-type-char">arrays of 8-bit
characters</a>.
To perform the conversion to and from character arrays to fixed-width numpy string arrays, the
following convention is followed by the python interface.
If the <code>_Encoding</code> special attribute is set for a character array
(dtype <code>S1</code>) variable, the <code><a href="#chartostring">chartostring</a></code> utility function is used to convert the array of
characters to an array of strings with one less dimension (the last dimension is
interpreted as the length of each string) when reading the data. The character
set (usually ascii) is specified by the <code>_Encoding</code> attribute. If <code>_Encoding</code>
is 'none' or 'bytes', then the character array is converted to a numpy
fixed-width byte string array (dtype <code>S#</code>), otherwise a numpy unicode (dtype
<code>U#</code>) array is created.  When writing the data,
<code><a href="#stringtochar">stringtochar</a></code> is used to convert the numpy string array to an array of
characters with one more dimension. For example,</p>

<div class="codehilite"><pre><span></span><code><span class="o">&gt;&gt;&gt;</span> <span class="kn">from</span> <span class="nn">netCDF4</span> <span class="kn">import</span> <span class="n">stringtochar</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">nc</span> <span class="o">=</span> <span class="n">Dataset</span><span class="p">(</span><span class="s1">&#39;stringtest.nc&#39;</span><span class="p">,</span><span class="s1">&#39;w&#39;</span><span class="p">,</span><span class="nb">format</span><span class="o">=</span><span class="s1">&#39;NETCDF4_CLASSIC&#39;</span><span class="p">)</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">_</span> <span class="o">=</span> <span class="n">nc</span><span class="o">.</span><span class="n">createDimension</span><span class="p">(</span><span class="s1">&#39;nchars&#39;</span><span class="p">,</span><span class="mi">3</span><span class="p">)</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">_</span> <span class="o">=</span> <span class="n">nc</span><span class="o">.</span><span class="n">createDimension</span><span class="p">(</span><span class="s1">&#39;nstrings&#39;</span><span class="p">,</span><span class="kc">None</span><span class="p">)</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">v</span> <span class="o">=</span> <span class="n">nc</span><span class="o">.</span><span class="n">createVariable</span><span class="p">(</span><span class="s1">&#39;strings&#39;</span><span class="p">,</span><span class="s1">&#39;S1&#39;</span><span class="p">,(</span><span class="s1">&#39;nstrings&#39;</span><span class="p">,</span><span class="s1">&#39;nchars&#39;</span><span class="p">))</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">datain</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="s1">&#39;foo&#39;</span><span class="p">,</span><span class="s1">&#39;bar&#39;</span><span class="p">],</span><span class="n">dtype</span><span class="o">=</span><span class="s1">&#39;S3&#39;</span><span class="p">)</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">v</span><span class="p">[:]</span> <span class="o">=</span> <span class="n">stringtochar</span><span class="p">(</span><span class="n">datain</span><span class="p">)</span> <span class="c1"># manual conversion to char array</span>
<span class="o">&gt;&gt;&gt;</span> <span class="nb">print</span><span class="p">(</span><span class="n">v</span><span class="p">[:])</span> <span class="c1"># data returned as char array</span>
<span class="p">[[</span><span class="sa">b</span><span class="s1">&#39;f&#39;</span> <span class="sa">b</span><span class="s1">&#39;o&#39;</span> <span class="sa">b</span><span class="s1">&#39;o&#39;</span><span class="p">]</span>
 <span class="p">[</span><span class="sa">b</span><span class="s1">&#39;b&#39;</span> <span class="sa">b</span><span class="s1">&#39;a&#39;</span> <span class="sa">b</span><span class="s1">&#39;r&#39;</span><span class="p">]]</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">v</span><span class="o">.</span><span class="n">_Encoding</span> <span class="o">=</span> <span class="s1">&#39;ascii&#39;</span> <span class="c1"># this enables automatic conversion</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">v</span><span class="p">[:]</span> <span class="o">=</span> <span class="n">datain</span> <span class="c1"># conversion to char array done internally</span>
<span class="o">&gt;&gt;&gt;</span> <span class="nb">print</span><span class="p">(</span><span class="n">v</span><span class="p">[:])</span>  <span class="c1"># data returned in numpy string array</span>
<span class="p">[</span><span class="s1">&#39;foo&#39;</span> <span class="s1">&#39;bar&#39;</span><span class="p">]</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">nc</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
</code></pre></div>

<p>Even if the <code>_Encoding</code> attribute is set, the automatic conversion of char
arrays to/from string arrays can be disabled with
<code><a href="#Variable.set_auto_chartostring">Variable.set_auto_chartostring</a></code>.</p>

<p>A similar situation is often encountered with numpy structured arrays with subdtypes
containing fixed-wdith byte strings (dtype=<code>S#</code>). Since there is no native fixed-length string
netCDF datatype, these numpy structure arrays are mapped onto netCDF compound
types with character array elements.  In this case the string &lt;-> char array
conversion is handled automatically (without the need to set the <code>_Encoding</code>
attribute) using <a href="https://docs.scipy.org/doc/numpy/reference/generated/numpy.ndarray.view.html">numpy
views</a>.
The structured array dtype (including the string elements) can even be used to
define the compound data type - the string dtype will be converted to
character array dtype under the hood when creating the netcdf compound type.
Here's an example:</p>

<div class="codehilite"><pre><span></span><code><span class="o">&gt;&gt;&gt;</span> <span class="n">nc</span> <span class="o">=</span> <span class="n">Dataset</span><span class="p">(</span><span class="s1">&#39;compoundstring_example.nc&#39;</span><span class="p">,</span><span class="s1">&#39;w&#39;</span><span class="p">)</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">dtype</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">dtype</span><span class="p">([(</span><span class="s1">&#39;observation&#39;</span><span class="p">,</span> <span class="s1">&#39;f4&#39;</span><span class="p">),</span>
<span class="o">...</span>                      <span class="p">(</span><span class="s1">&#39;station_name&#39;</span><span class="p">,</span><span class="s1">&#39;S10&#39;</span><span class="p">)])</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">station_data_t</span> <span class="o">=</span> <span class="n">nc</span><span class="o">.</span><span class="n">createCompoundType</span><span class="p">(</span><span class="n">dtype</span><span class="p">,</span><span class="s1">&#39;station_data&#39;</span><span class="p">)</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">_</span> <span class="o">=</span> <span class="n">nc</span><span class="o">.</span><span class="n">createDimension</span><span class="p">(</span><span class="s1">&#39;station&#39;</span><span class="p">,</span><span class="kc">None</span><span class="p">)</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">statdat</span> <span class="o">=</span> <span class="n">nc</span><span class="o">.</span><span class="n">createVariable</span><span class="p">(</span><span class="s1">&#39;station_obs&#39;</span><span class="p">,</span> <span class="n">station_data_t</span><span class="p">,</span> <span class="p">(</span><span class="s1">&#39;station&#39;</span><span class="p">,))</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">data</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">empty</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span><span class="n">dtype</span><span class="p">)</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">data</span><span class="p">[</span><span class="s1">&#39;observation&#39;</span><span class="p">][:]</span> <span class="o">=</span> <span class="p">(</span><span class="mf">123.</span><span class="p">,</span><span class="mf">3.14</span><span class="p">)</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">data</span><span class="p">[</span><span class="s1">&#39;station_name&#39;</span><span class="p">][:]</span> <span class="o">=</span> <span class="p">(</span><span class="s1">&#39;Boulder&#39;</span><span class="p">,</span><span class="s1">&#39;New York&#39;</span><span class="p">)</span>
<span class="o">&gt;&gt;&gt;</span> <span class="nb">print</span><span class="p">(</span><span class="n">statdat</span><span class="o">.</span><span class="n">dtype</span><span class="p">)</span> <span class="c1"># strings actually stored as character arrays</span>
<span class="p">{</span><span class="s1">&#39;names&#39;</span><span class="p">:[</span><span class="s1">&#39;observation&#39;</span><span class="p">,</span><span class="s1">&#39;station_name&#39;</span><span class="p">],</span> <span class="s1">&#39;formats&#39;</span><span class="p">:[</span><span class="s1">&#39;&lt;f4&#39;</span><span class="p">,(</span><span class="s1">&#39;S1&#39;</span><span class="p">,</span> <span class="p">(</span><span class="mi">10</span><span class="p">,))],</span> <span class="s1">&#39;offsets&#39;</span><span class="p">:[</span><span class="mi">0</span><span class="p">,</span><span class="mi">4</span><span class="p">],</span> <span class="s1">&#39;itemsize&#39;</span><span class="p">:</span><span class="mi">16</span><span class="p">,</span> <span class="s1">&#39;aligned&#39;</span><span class="p">:</span><span class="kc">True</span><span class="p">}</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">statdat</span><span class="p">[:]</span> <span class="o">=</span> <span class="n">data</span> <span class="c1"># strings converted to character arrays internally</span>
<span class="o">&gt;&gt;&gt;</span> <span class="nb">print</span><span class="p">(</span><span class="n">statdat</span><span class="p">[:])</span>  <span class="c1"># character arrays converted back to strings</span>
<span class="p">[(</span><span class="mf">123.</span>  <span class="p">,</span> <span class="sa">b</span><span class="s1">&#39;Boulder&#39;</span><span class="p">)</span> <span class="p">(</span>  <span class="mf">3.14</span><span class="p">,</span> <span class="sa">b</span><span class="s1">&#39;New York&#39;</span><span class="p">)]</span>
<span class="o">&gt;&gt;&gt;</span> <span class="nb">print</span><span class="p">(</span><span class="n">statdat</span><span class="p">[:]</span><span class="o">.</span><span class="n">dtype</span><span class="p">)</span>
<span class="p">{</span><span class="s1">&#39;names&#39;</span><span class="p">:[</span><span class="s1">&#39;observation&#39;</span><span class="p">,</span><span class="s1">&#39;station_name&#39;</span><span class="p">],</span> <span class="s1">&#39;formats&#39;</span><span class="p">:[</span><span class="s1">&#39;&lt;f4&#39;</span><span class="p">,</span><span class="s1">&#39;S10&#39;</span><span class="p">],</span> <span class="s1">&#39;offsets&#39;</span><span class="p">:[</span><span class="mi">0</span><span class="p">,</span><span class="mi">4</span><span class="p">],</span> <span class="s1">&#39;itemsize&#39;</span><span class="p">:</span><span class="mi">16</span><span class="p">,</span> <span class="s1">&#39;aligned&#39;</span><span class="p">:</span><span class="kc">True</span><span class="p">}</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">statdat</span><span class="o">.</span><span class="n">set_auto_chartostring</span><span class="p">(</span><span class="kc">False</span><span class="p">)</span> <span class="c1"># turn off auto-conversion</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">statdat</span><span class="p">[:]</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">view</span><span class="p">(</span><span class="n">dtype</span><span class="o">=</span><span class="p">[(</span><span class="s1">&#39;observation&#39;</span><span class="p">,</span> <span class="s1">&#39;f4&#39;</span><span class="p">),(</span><span class="s1">&#39;station_name&#39;</span><span class="p">,</span><span class="s1">&#39;S1&#39;</span><span class="p">,</span><span class="mi">10</span><span class="p">)])</span>
<span class="o">&gt;&gt;&gt;</span> <span class="nb">print</span><span class="p">(</span><span class="n">statdat</span><span class="p">[:])</span>  <span class="c1"># now structured array with char array subtype is returned</span>
<span class="p">[(</span><span class="mf">123.</span>  <span class="p">,</span> <span class="p">[</span><span class="sa">b</span><span class="s1">&#39;B&#39;</span><span class="p">,</span> <span class="sa">b</span><span class="s1">&#39;o&#39;</span><span class="p">,</span> <span class="sa">b</span><span class="s1">&#39;u&#39;</span><span class="p">,</span> <span class="sa">b</span><span class="s1">&#39;l&#39;</span><span class="p">,</span> <span class="sa">b</span><span class="s1">&#39;d&#39;</span><span class="p">,</span> <span class="sa">b</span><span class="s1">&#39;e&#39;</span><span class="p">,</span> <span class="sa">b</span><span class="s1">&#39;r&#39;</span><span class="p">,</span> <span class="sa">b</span><span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="sa">b</span><span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="sa">b</span><span class="s1">&#39;&#39;</span><span class="p">])</span>
 <span class="p">(</span>  <span class="mf">3.14</span><span class="p">,</span> <span class="p">[</span><span class="sa">b</span><span class="s1">&#39;N&#39;</span><span class="p">,</span> <span class="sa">b</span><span class="s1">&#39;e&#39;</span><span class="p">,</span> <span class="sa">b</span><span class="s1">&#39;w&#39;</span><span class="p">,</span> <span class="sa">b</span><span class="s1">&#39; &#39;</span><span class="p">,</span> <span class="sa">b</span><span class="s1">&#39;Y&#39;</span><span class="p">,</span> <span class="sa">b</span><span class="s1">&#39;o&#39;</span><span class="p">,</span> <span class="sa">b</span><span class="s1">&#39;r&#39;</span><span class="p">,</span> <span class="sa">b</span><span class="s1">&#39;k&#39;</span><span class="p">,</span> <span class="sa">b</span><span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="sa">b</span><span class="s1">&#39;&#39;</span><span class="p">])]</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">nc</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
</code></pre></div>

<p>Note that there is currently no support for mapping numpy structured arrays with
unicode elements (dtype <code>U#</code>) onto netCDF compound types, nor is there support
for netCDF compound types with vlen string components.</p>

<h2 id="in-memory-diskless-datasets">In-memory (diskless) Datasets</h2>

<p>You can create netCDF Datasets whose content is held in memory
instead of in a disk file.  There are two ways to do this.  If you
don't need access to the memory buffer containing the Dataset from
within python, the best way is to use the <code>diskless=True</code> keyword
argument when creating the Dataset.  If you want to save the Dataset
to disk when you close it, also set <code>persist=True</code>.  If you want to
create a new read-only Dataset from an existing python memory buffer, use the
<code>memory</code> keyword argument to pass the memory buffer when creating the Dataset.
If you want to create a new in-memory Dataset, and then access the memory buffer
directly from Python, use the <code>memory</code> keyword argument to specify the
estimated size of the Dataset in bytes when creating the Dataset with
<code>mode='w'</code>.  Then, the <code><a href="#Dataset.close">Dataset.close</a></code> method will return a python memoryview
object representing the Dataset. Below are examples illustrating both
approaches.</p>

<div class="codehilite"><pre><span></span><code><span class="o">&gt;&gt;&gt;</span> <span class="c1"># create a diskless (in-memory) Dataset,</span>
<span class="o">&gt;&gt;&gt;</span> <span class="c1"># and persist the file to disk when it is closed.</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">nc</span> <span class="o">=</span> <span class="n">Dataset</span><span class="p">(</span><span class="s1">&#39;diskless_example.nc&#39;</span><span class="p">,</span><span class="s1">&#39;w&#39;</span><span class="p">,</span><span class="n">diskless</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span><span class="n">persist</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">d</span> <span class="o">=</span> <span class="n">nc</span><span class="o">.</span><span class="n">createDimension</span><span class="p">(</span><span class="s1">&#39;x&#39;</span><span class="p">,</span><span class="kc">None</span><span class="p">)</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">v</span> <span class="o">=</span> <span class="n">nc</span><span class="o">.</span><span class="n">createVariable</span><span class="p">(</span><span class="s1">&#39;v&#39;</span><span class="p">,</span><span class="n">np</span><span class="o">.</span><span class="n">int32</span><span class="p">,</span><span class="s1">&#39;x&#39;</span><span class="p">)</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">v</span><span class="p">[</span><span class="mi">0</span><span class="p">:</span><span class="mi">5</span><span class="p">]</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span>
<span class="o">&gt;&gt;&gt;</span> <span class="nb">print</span><span class="p">(</span><span class="n">nc</span><span class="p">)</span>
<span class="o">&lt;</span><span class="k">class</span> <span class="err">&#39;</span><span class="nc">netCDF4</span><span class="o">.</span><span class="n">_netCDF4</span><span class="o">.</span><span class="n">Dataset</span><span class="s1">&#39;&gt;</span>
<span class="n">root</span> <span class="n">group</span> <span class="p">(</span><span class="n">NETCDF4</span> <span class="n">data</span> <span class="n">model</span><span class="p">,</span> <span class="n">file</span> <span class="nb">format</span> <span class="n">HDF5</span><span class="p">):</span>
    <span class="n">dimensions</span><span class="p">(</span><span class="n">sizes</span><span class="p">):</span> <span class="n">x</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span>
    <span class="n">variables</span><span class="p">(</span><span class="n">dimensions</span><span class="p">):</span> <span class="n">int32</span> <span class="n">v</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>
    <span class="n">groups</span><span class="p">:</span> 
<span class="o">&gt;&gt;&gt;</span> <span class="nb">print</span><span class="p">(</span><span class="n">nc</span><span class="p">[</span><span class="s1">&#39;v&#39;</span><span class="p">][:])</span>
<span class="p">[</span><span class="mi">0</span> <span class="mi">1</span> <span class="mi">2</span> <span class="mi">3</span> <span class="mi">4</span><span class="p">]</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">nc</span><span class="o">.</span><span class="n">close</span><span class="p">()</span> <span class="c1"># file saved to disk</span>
<span class="o">&gt;&gt;&gt;</span> <span class="c1"># create an in-memory dataset from an existing python</span>
<span class="o">&gt;&gt;&gt;</span> <span class="c1"># python memory buffer.</span>
<span class="o">&gt;&gt;&gt;</span> <span class="c1"># read the newly created netcdf file into a python</span>
<span class="o">&gt;&gt;&gt;</span> <span class="c1"># bytes object.</span>
<span class="o">&gt;&gt;&gt;</span> <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="s1">&#39;diskless_example.nc&#39;</span><span class="p">,</span> <span class="s1">&#39;rb&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
<span class="o">...</span>     <span class="n">nc_bytes</span> <span class="o">=</span> <span class="n">f</span><span class="o">.</span><span class="n">read</span><span class="p">()</span>
<span class="o">&gt;&gt;&gt;</span> <span class="c1"># create a netCDF in-memory dataset from the bytes object.</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">nc</span> <span class="o">=</span> <span class="n">Dataset</span><span class="p">(</span><span class="s1">&#39;inmemory.nc&#39;</span><span class="p">,</span> <span class="n">memory</span><span class="o">=</span><span class="n">nc_bytes</span><span class="p">)</span>
<span class="o">&gt;&gt;&gt;</span> <span class="nb">print</span><span class="p">(</span><span class="n">nc</span><span class="p">)</span>
<span class="o">&lt;</span><span class="k">class</span> <span class="err">&#39;</span><span class="nc">netCDF4</span><span class="o">.</span><span class="n">_netCDF4</span><span class="o">.</span><span class="n">Dataset</span><span class="s1">&#39;&gt;</span>
<span class="n">root</span> <span class="n">group</span> <span class="p">(</span><span class="n">NETCDF4</span> <span class="n">data</span> <span class="n">model</span><span class="p">,</span> <span class="n">file</span> <span class="nb">format</span> <span class="n">HDF5</span><span class="p">):</span>
    <span class="n">dimensions</span><span class="p">(</span><span class="n">sizes</span><span class="p">):</span> <span class="n">x</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span>
    <span class="n">variables</span><span class="p">(</span><span class="n">dimensions</span><span class="p">):</span> <span class="n">int32</span> <span class="n">v</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>
    <span class="n">groups</span><span class="p">:</span> 
<span class="o">&gt;&gt;&gt;</span> <span class="nb">print</span><span class="p">(</span><span class="n">nc</span><span class="p">[</span><span class="s1">&#39;v&#39;</span><span class="p">][:])</span>
<span class="p">[</span><span class="mi">0</span> <span class="mi">1</span> <span class="mi">2</span> <span class="mi">3</span> <span class="mi">4</span><span class="p">]</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">nc</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
<span class="o">&gt;&gt;&gt;</span> <span class="c1"># create an in-memory Dataset and retrieve memory buffer</span>
<span class="o">&gt;&gt;&gt;</span> <span class="c1"># estimated size is 1028 bytes - this is actually only</span>
<span class="o">&gt;&gt;&gt;</span> <span class="c1"># used if format is NETCDF3</span>
<span class="o">&gt;&gt;&gt;</span> <span class="c1"># (ignored for NETCDF4/HDF5 files).</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">nc</span> <span class="o">=</span> <span class="n">Dataset</span><span class="p">(</span><span class="s1">&#39;inmemory.nc&#39;</span><span class="p">,</span> <span class="n">mode</span><span class="o">=</span><span class="s1">&#39;w&#39;</span><span class="p">,</span><span class="n">memory</span><span class="o">=</span><span class="mi">1028</span><span class="p">)</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">d</span> <span class="o">=</span> <span class="n">nc</span><span class="o">.</span><span class="n">createDimension</span><span class="p">(</span><span class="s1">&#39;x&#39;</span><span class="p">,</span><span class="kc">None</span><span class="p">)</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">v</span> <span class="o">=</span> <span class="n">nc</span><span class="o">.</span><span class="n">createVariable</span><span class="p">(</span><span class="s1">&#39;v&#39;</span><span class="p">,</span><span class="n">np</span><span class="o">.</span><span class="n">int32</span><span class="p">,</span><span class="s1">&#39;x&#39;</span><span class="p">)</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">v</span><span class="p">[</span><span class="mi">0</span><span class="p">:</span><span class="mi">5</span><span class="p">]</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">nc_buf</span> <span class="o">=</span> <span class="n">nc</span><span class="o">.</span><span class="n">close</span><span class="p">()</span> <span class="c1"># close returns memoryview</span>
<span class="o">&gt;&gt;&gt;</span> <span class="nb">print</span><span class="p">(</span><span class="nb">type</span><span class="p">(</span><span class="n">nc_buf</span><span class="p">))</span>
<span class="o">&lt;</span><span class="k">class</span> <span class="err">&#39;</span><span class="nc">memoryview</span><span class="s1">&#39;&gt;</span>
<span class="o">&gt;&gt;&gt;</span> <span class="c1"># save nc_buf to disk, read it back in and check.</span>
<span class="o">&gt;&gt;&gt;</span> <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="s1">&#39;inmemory.nc&#39;</span><span class="p">,</span> <span class="s1">&#39;wb&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
<span class="o">...</span>     <span class="n">f</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="n">nc_buf</span><span class="p">)</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">nc</span> <span class="o">=</span> <span class="n">Dataset</span><span class="p">(</span><span class="s1">&#39;inmemory.nc&#39;</span><span class="p">)</span>
<span class="o">&gt;&gt;&gt;</span> <span class="nb">print</span><span class="p">(</span><span class="n">nc</span><span class="p">)</span>
<span class="o">&lt;</span><span class="k">class</span> <span class="err">&#39;</span><span class="nc">netCDF4</span><span class="o">.</span><span class="n">_netCDF4</span><span class="o">.</span><span class="n">Dataset</span><span class="s1">&#39;&gt;</span>
<span class="n">root</span> <span class="n">group</span> <span class="p">(</span><span class="n">NETCDF4</span> <span class="n">data</span> <span class="n">model</span><span class="p">,</span> <span class="n">file</span> <span class="nb">format</span> <span class="n">HDF5</span><span class="p">):</span>
    <span class="n">dimensions</span><span class="p">(</span><span class="n">sizes</span><span class="p">):</span> <span class="n">x</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span>
    <span class="n">variables</span><span class="p">(</span><span class="n">dimensions</span><span class="p">):</span> <span class="n">int32</span> <span class="n">v</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>
    <span class="n">groups</span><span class="p">:</span>
<span class="o">&gt;&gt;&gt;</span> <span class="nb">print</span><span class="p">(</span><span class="n">nc</span><span class="p">[</span><span class="s1">&#39;v&#39;</span><span class="p">][:])</span>
<span class="p">[</span><span class="mi">0</span> <span class="mi">1</span> <span class="mi">2</span> <span class="mi">3</span> <span class="mi">4</span><span class="p">]</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">nc</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
</code></pre></div>

<p>All of the code in this tutorial is available in <code>examples/tutorial.py</code>, except
the parallel IO example, which is in <code>examples/mpi_example.py</code>.
Unit tests are in the <code>test</code> directory.</p>

<p><strong>contact</strong>: Jeffrey Whitaker <a href="&#x6d;&#x61;&#105;&#x6c;&#116;&#111;&#58;&#106;&#101;&#x66;&#x66;&#114;&#x65;&#x79;&#x2e;&#115;&#46;&#x77;&#x68;&#x69;t&#x61;&#107;&#x65;&#x72;&#64;&#110;oa&#97;&#46;&#103;&#x6f;&#x76;">&#106;&#101;&#x66;&#x66;&#114;&#x65;&#x79;&#x2e;&#115;&#46;&#x77;&#x68;&#x69;t&#x61;&#107;&#x65;&#x72;&#64;&#110;oa&#97;&#46;&#103;&#x6f;&#x76;</a></p>

<p><strong>copyright</strong>: 2008 by Jeffrey Whitaker.</p>

<p><strong>license</strong>: Permission is hereby granted, free of charge, to any person obtaining a copy of this software and associated documentation files (the "Software"), to deal in the Software without restriction, including without limitation the rights to use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the Software, and to permit persons to whom the Software is furnished to do so, subject to the following conditions:</p>

<p>The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.</p>

<p>THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.</p>
</div>

                        <details>
            <summary>View Source</summary>
            <div class="codehilite"><pre><span></span><span class="c1"># init for netCDF4. package</span>
<span class="c1"># Docstring comes from extension module _netCDF4.</span>
<span class="kn">from</span> <span class="nn">._netCDF4</span> <span class="kn">import</span> <span class="o">*</span>
<span class="c1"># Need explicit imports for names beginning with underscores</span>
<span class="kn">from</span> <span class="nn">._netCDF4</span> <span class="kn">import</span> <span class="vm">__doc__</span>
<span class="kn">from</span> <span class="nn">._netCDF4</span> <span class="kn">import</span> <span class="p">(</span><span class="n">__version__</span><span class="p">,</span> <span class="n">__netcdf4libversion__</span><span class="p">,</span> <span class="n">__hdf5libversion__</span><span class="p">,</span>
                       <span class="n">__has_rename_grp__</span><span class="p">,</span> <span class="n">__has_nc_inq_path__</span><span class="p">,</span>
                       <span class="n">__has_nc_inq_format_extended__</span><span class="p">,</span> <span class="n">__has_nc_open_mem__</span><span class="p">,</span>
                       <span class="n">__has_nc_create_mem__</span><span class="p">,</span> <span class="n">__has_cdf5_format__</span><span class="p">,</span>
                       <span class="n">__has_parallel4_support__</span><span class="p">,</span> <span class="n">__has_pnetcdf_support__</span><span class="p">)</span>
<span class="n">__all__</span> <span class="o">=</span>\
<span class="p">[</span><span class="s1">&#39;Dataset&#39;</span><span class="p">,</span><span class="s1">&#39;Variable&#39;</span><span class="p">,</span><span class="s1">&#39;Dimension&#39;</span><span class="p">,</span><span class="s1">&#39;Group&#39;</span><span class="p">,</span><span class="s1">&#39;MFDataset&#39;</span><span class="p">,</span><span class="s1">&#39;MFTime&#39;</span><span class="p">,</span><span class="s1">&#39;CompoundType&#39;</span><span class="p">,</span><span class="s1">&#39;VLType&#39;</span><span class="p">,</span><span class="s1">&#39;date2num&#39;</span><span class="p">,</span><span class="s1">&#39;num2date&#39;</span><span class="p">,</span><span class="s1">&#39;date2index&#39;</span><span class="p">,</span><span class="s1">&#39;stringtochar&#39;</span><span class="p">,</span><span class="s1">&#39;chartostring&#39;</span><span class="p">,</span><span class="s1">&#39;stringtoarr&#39;</span><span class="p">,</span><span class="s1">&#39;getlibversion&#39;</span><span class="p">,</span><span class="s1">&#39;EnumType&#39;</span><span class="p">,</span><span class="s1">&#39;get_chunk_cache&#39;</span><span class="p">,</span><span class="s1">&#39;set_chunk_cache&#39;</span><span class="p">]</span>
</pre></div>

        </details>

            </section>
                <section id="Dataset">
                                <div class="attr class">
        <a class="headerlink" href="#Dataset">#&nbsp;&nbsp</a>

        
        <span class="def">class</span>
        <span class="name">Dataset</span>:
    </div>

        
            <div class="docstring"><p>A netCDF <code><a href="#Dataset">Dataset</a></code> is a collection of dimensions, groups, variables and
attributes. Together they describe the meaning of data and relations among
data fields stored in a netCDF file. See <code><a href="#Dataset.__init__">Dataset.__init__</a></code> for more
details.</p>

<p>A list of attribute names corresponding to global netCDF attributes
defined for the <code><a href="#Dataset">Dataset</a></code> can be obtained with the
<code><a href="#Dataset.ncattrs">Dataset.ncattrs</a></code> method.
These attributes can be created by assigning to an attribute of the
<code><a href="#Dataset">Dataset</a></code> instance. A dictionary containing all the netCDF attribute
name/value pairs is provided by the <code>__dict__</code> attribute of a
<code><a href="#Dataset">Dataset</a></code> instance.</p>

<p>The following class variables are read-only and should not be
modified by the user.</p>

<p><strong><code><a href="#Dataset.dimensions">dimensions</a></code></strong>: The <code><a href="#Dataset.dimensions">dimensions</a></code> dictionary maps the names of
dimensions defined for the <code><a href="#Group">Group</a></code> or <code><a href="#Dataset">Dataset</a></code> to instances of the
<code><a href="#Dimension">Dimension</a></code> class.</p>

<p><strong><code><a href="#Dataset.variables">variables</a></code></strong>: The <code><a href="#Dataset.variables">variables</a></code> dictionary maps the names of variables
defined for this <code><a href="#Dataset">Dataset</a></code> or <code><a href="#Group">Group</a></code> to instances of the
<code><a href="#Variable">Variable</a></code> class.</p>

<p><strong><code><a href="#Dataset.groups">groups</a></code></strong>: The groups dictionary maps the names of groups created for
this <code><a href="#Dataset">Dataset</a></code> or <code><a href="#Group">Group</a></code> to instances of the <code><a href="#Group">Group</a></code> class (the
<code><a href="#Dataset">Dataset</a></code> class is simply a special case of the <code><a href="#Group">Group</a></code> class which
describes the root group in the netCDF4 file).</p>

<p><strong><code><a href="#Dataset.cmptypes">cmptypes</a></code></strong>: The <code><a href="#Dataset.cmptypes">cmptypes</a></code> dictionary maps the names of
compound types defined for the <code><a href="#Group">Group</a></code> or <code><a href="#Dataset">Dataset</a></code> to instances of the
<code><a href="#CompoundType">CompoundType</a></code> class.</p>

<p><strong><code><a href="#Dataset.vltypes">vltypes</a></code></strong>: The <code><a href="#Dataset.vltypes">vltypes</a></code> dictionary maps the names of
variable-length types defined for the <code><a href="#Group">Group</a></code> or <code><a href="#Dataset">Dataset</a></code> to instances
of the <code><a href="#VLType">VLType</a></code> class.</p>

<p><strong><code><a href="#Dataset.enumtypes">enumtypes</a></code></strong>: The <code><a href="#Dataset.enumtypes">enumtypes</a></code> dictionary maps the names of
Enum types defined for the <code><a href="#Group">Group</a></code> or <code><a href="#Dataset">Dataset</a></code> to instances
of the <code><a href="#EnumType">EnumType</a></code> class.</p>

<p><strong><code><a href="#Dataset.data_model">data_model</a></code></strong>: <code><a href="#Dataset.data_model">data_model</a></code> describes the netCDF
data model version, one of <code>NETCDF3_CLASSIC</code>, <code>NETCDF4</code>,
<code>NETCDF4_CLASSIC</code>, <code>NETCDF3_64BIT_OFFSET</code> or <code>NETCDF3_64BIT_DATA</code>.</p>

<p><strong><code><a href="#Dataset.file_format">file_format</a></code></strong>: same as <code><a href="#Dataset.data_model">data_model</a></code>, retained for backwards compatibility.</p>

<p><strong><code><a href="#Dataset.disk_format">disk_format</a></code></strong>: <code><a href="#Dataset.disk_format">disk_format</a></code> describes the underlying
file format, one of <code>NETCDF3</code>, <code>HDF5</code>, <code>HDF4</code>,
<code>PNETCDF</code>, <code>DAP2</code>, <code>DAP4</code> or <code>UNDEFINED</code>. Only available if using
netcdf C library version &gt;= 4.3.1, otherwise will always return
<code>UNDEFINED</code>.</p>

<p><strong><code><a href="#Dataset.parent">parent</a></code></strong>: <code><a href="#Dataset.parent">parent</a></code> is a reference to the parent
<code><a href="#Group">Group</a></code> instance. <code>None</code> for the root group or <code><a href="#Dataset">Dataset</a></code>
instance.</p>

<p><strong><code><a href="#Dataset.path">path</a></code></strong>: <code><a href="#Dataset.path">path</a></code> shows the location of the <code><a href="#Group">Group</a></code> in
the <code><a href="#Dataset">Dataset</a></code> in a unix directory format (the names of groups in the
hierarchy separated by backslashes). A <code><a href="#Dataset">Dataset</a></code> instance is the root
group, so the path is simply <code>'/'</code>.</p>

<p><strong><code><a href="#Dataset.keepweakref">keepweakref</a></code></strong>: If <code>True</code>, child Dimension and Variables objects only keep weak
references to the parent Dataset or Group.</p>

<p><strong><code>_ncstring_attrs__</code></strong>: If <code>True</code>, all text attributes will be written as variable-length
strings.</p>
</div>


                            <div id="Dataset.__init__" class="classattr">
                                        <div class="attr function"><a class="headerlink" href="#Dataset.__init__">#&nbsp;&nbsp</a>

        
            <span class="name">Dataset</span><span class="signature">()</span>
    </div>

        
            <div class="docstring"><p><strong><code>__init__(self, filename, mode="r", clobber=True, diskless=False,
persist=False, keepweakref=False, memory=None, encoding=None,
parallel=False, comm=None, info=None, format='NETCDF4')</code></strong></p>

<p><code><a href="#Dataset">Dataset</a></code> constructor.</p>

<p><strong><code>filename</code></strong>: Name of netCDF file to hold dataset. Can also
be a python 3 pathlib instance or the URL of an OpenDAP dataset.  When memory is
set this is just used to set the <code><a href="#Dataset.filepath">filepath()</a></code>.</p>

<p><strong><code>mode</code></strong>: access mode. <code>r</code> means read-only; no data can be
modified. <code>w</code> means write; a new file is created, an existing file with
the same name is deleted. <code>a</code> and <code>r+</code> mean append (in analogy with
serial files); an existing file is opened for reading and writing.
Appending <code>s</code> to modes <code>r</code>, <code>w</code>, <code>r+</code> or <code>a</code> will enable unbuffered shared
access to <code>NETCDF3_CLASSIC</code>, <code>NETCDF3_64BIT_OFFSET</code> or
<code>NETCDF3_64BIT_DATA</code> formatted files.
Unbuffered access may be useful even if you don't need shared
access, since it may be faster for programs that don't access data
sequentially. This option is ignored for <code>NETCDF4</code> and <code>NETCDF4_CLASSIC</code>
formatted files.</p>

<p><strong><code>clobber</code></strong>: if <code>True</code> (default), opening a file with <code>mode='w'</code>
will clobber an existing file with the same name.  if <code>False</code>, an
exception will be raised if a file with the same name already exists.</p>

<p><strong><code>format</code></strong>: underlying file format (one of <code>'NETCDF4',
'NETCDF4_CLASSIC', 'NETCDF3_CLASSIC'</code>, <code>'NETCDF3_64BIT_OFFSET'</code> or
<code>'NETCDF3_64BIT_DATA'</code>.
Only relevant if <code>mode = 'w'</code> (if <code>mode = 'r','a'</code> or <code>'r+'</code> the file format
is automatically detected). Default <code>'NETCDF4'</code>, which means the data is
stored in an HDF5 file, using netCDF 4 API features.  Setting
<code>format='NETCDF4_CLASSIC'</code> will create an HDF5 file, using only netCDF 3
compatible API features. netCDF 3 clients must be recompiled and linked
against the netCDF 4 library to read files in <code>NETCDF4_CLASSIC</code> format.
<code>'NETCDF3_CLASSIC'</code> is the classic netCDF 3 file format that does not
handle 2+ Gb files. <code>'NETCDF3_64BIT_OFFSET'</code> is the 64-bit offset
version of the netCDF 3 file format, which fully supports 2+ GB files, but
is only compatible with clients linked against netCDF version 3.6.0 or
later. <code>'NETCDF3_64BIT_DATA'</code> is the 64-bit data version of the netCDF 3
file format, which supports 64-bit dimension sizes plus unsigned and
64 bit integer data types, but is only compatible with clients linked against
netCDF version 4.4.0 or later.</p>

<p><strong><code>diskless</code></strong>: If <code>True</code>, create diskless (in-core) file.
This is a feature added to the C library after the
netcdf-4.2 release. If you need to access the memory buffer directly,
use the in-memory feature instead (see <code>memory</code> kwarg).</p>

<p><strong><code>persist</code></strong>: if <code>diskless=True</code>, persist file to disk when closed
(default <code>False</code>).</p>

<p><strong><code><a href="#Dataset.keepweakref">keepweakref</a></code></strong>: if <code>True</code>, child Dimension and Variable instances will keep weak
references to the parent Dataset or Group object.  Default is <code>False</code>, which
means strong references will be kept.  Having Dimension and Variable instances
keep a strong reference to the parent Dataset instance, which in turn keeps a
reference to child Dimension and Variable instances, creates circular references.
Circular references complicate garbage collection, which may mean increased
memory usage for programs that create may Dataset instances with lots of
Variables. It also will result in the Dataset object never being deleted, which
means it may keep open files alive as well. Setting <code>keepweakref=True</code> allows
Dataset instances to be garbage collected as soon as they go out of scope, potentially
reducing memory usage and open file handles.  However, in many cases this is not
desirable, since the associated Variable instances may still be needed, but are
rendered unusable when the parent Dataset instance is garbage collected.</p>

<p><strong><code>memory</code></strong>: if not <code>None</code>, create or open an in-memory Dataset.
If mode = 'r', the memory kwarg must contain a memory buffer object
(an object that supports the python buffer interface).
The Dataset will then be created with contents taken from this block of memory.
If mode = 'w', the memory kwarg should contain the anticipated size
of the Dataset in bytes (used only for NETCDF3 files).  A memory
buffer containing a copy of the Dataset is returned by the
<code><a href="#Dataset.close">Dataset.close</a></code> method. Requires netcdf-c version 4.4.1 for mode='r,
netcdf-c 4.6.2 for mode='w'. To persist the file to disk, the raw
bytes from the returned buffer can be written into a binary file.
The Dataset can also be re-opened using this memory buffer.</p>

<p><strong><code>encoding</code></strong>: encoding used to encode filename string into bytes.
Default is None (<code>sys.getdefaultfileencoding()</code> is used).</p>

<p><strong><code>parallel</code></strong>: open for parallel access using MPI (requires mpi4py and
parallel-enabled netcdf-c and hdf5 libraries).  Default is <code>False</code>. If
<code>True</code>, <code>comm</code> and <code>info</code> kwargs may also be specified.</p>

<p><strong><code>comm</code></strong>: MPI_Comm object for parallel access. Default <code>None</code>, which
means MPI_COMM_WORLD will be used.  Ignored if <code>parallel=False</code>.</p>

<p><strong><code>info</code></strong>: MPI_Info object for parallel access. Default <code>None</code>, which
means MPI_INFO_NULL will be used.  Ignored if <code>parallel=False</code>.</p>
</div>


                            </div>
                            <div id="Dataset.filepath" class="classattr">
                                        <div class="attr function"><a class="headerlink" href="#Dataset.filepath">#&nbsp;&nbsp</a>

        
            <span class="def">def</span>
            <span class="name">filepath</span><span class="signature">(unknown)</span>:
    </div>

        
            <div class="docstring"><p><strong><code>filepath(self,encoding=None)</code></strong></p>

<p>Get the file system path (or the opendap URL) which was used to
open/create the Dataset. Requires netcdf &gt;= 4.1.2.  The path
is decoded into a string using <code>sys.getfilesystemencoding()</code> by default, this can be
changed using the <code>encoding</code> kwarg.</p>
</div>


                            </div>
                            <div id="Dataset.close" class="classattr">
                                        <div class="attr function"><a class="headerlink" href="#Dataset.close">#&nbsp;&nbsp</a>

        
            <span class="def">def</span>
            <span class="name">close</span><span class="signature">(unknown)</span>:
    </div>

        
            <div class="docstring"><p><strong><code>close(self)</code></strong></p>

<p>Close the Dataset.</p>
</div>


                            </div>
                            <div id="Dataset.isopen" class="classattr">
                                        <div class="attr function"><a class="headerlink" href="#Dataset.isopen">#&nbsp;&nbsp</a>

        
            <span class="def">def</span>
            <span class="name">isopen</span><span class="signature">(unknown)</span>:
    </div>

        
            <div class="docstring"><p><strong><code>close(self)</code></strong></p>

<p>is the Dataset open or closed?</p>
</div>


                            </div>
                            <div id="Dataset.sync" class="classattr">
                                        <div class="attr function"><a class="headerlink" href="#Dataset.sync">#&nbsp;&nbsp</a>

        
            <span class="def">def</span>
            <span class="name">sync</span><span class="signature">(unknown)</span>:
    </div>

        
            <div class="docstring"><p><strong><code>sync(self)</code></strong></p>

<p>Writes all buffered data in the <code><a href="#Dataset">Dataset</a></code> to the disk file.</p>
</div>


                            </div>
                            <div id="Dataset.set_fill_on" class="classattr">
                                        <div class="attr function"><a class="headerlink" href="#Dataset.set_fill_on">#&nbsp;&nbsp</a>

        
            <span class="def">def</span>
            <span class="name">set_fill_on</span><span class="signature">(unknown)</span>:
    </div>

        
            <div class="docstring"><p><strong><code>set_fill_on(self)</code></strong></p>

<p>Sets the fill mode for a <code><a href="#Dataset">Dataset</a></code> open for writing to <code>on</code>.</p>

<p>This causes data to be pre-filled with fill values. The fill values can be
controlled by the variable's <code>_Fill_Value</code> attribute, but is usually
sufficient to the use the netCDF default <code>_Fill_Value</code> (defined
separately for each variable type). The default behavior of the netCDF
library corresponds to <code><a href="#Dataset.set_fill_on">set_fill_on</a></code>.  Data which are equal to the
<code>_Fill_Value</code> indicate that the variable was created, but never written
to.</p>
</div>


                            </div>
                            <div id="Dataset.set_fill_off" class="classattr">
                                        <div class="attr function"><a class="headerlink" href="#Dataset.set_fill_off">#&nbsp;&nbsp</a>

        
            <span class="def">def</span>
            <span class="name">set_fill_off</span><span class="signature">(unknown)</span>:
    </div>

        
            <div class="docstring"><p><strong><code>set_fill_off(self)</code></strong></p>

<p>Sets the fill mode for a <code><a href="#Dataset">Dataset</a></code> open for writing to <code>off</code>.</p>

<p>This will prevent the data from being pre-filled with fill values, which
may result in some performance improvements. However, you must then make
sure the data is actually written before being read.</p>
</div>


                            </div>
                            <div id="Dataset.createDimension" class="classattr">
                                        <div class="attr function"><a class="headerlink" href="#Dataset.createDimension">#&nbsp;&nbsp</a>

        
            <span class="def">def</span>
            <span class="name">createDimension</span><span class="signature">(unknown)</span>:
    </div>

        
            <div class="docstring"><p><strong><code>createDimension(self, dimname, size=None)</code></strong></p>

<p>Creates a new dimension with the given <code>dimname</code> and <code>size</code>.</p>

<p><code>size</code> must be a positive integer or <code>None</code>, which stands for
"unlimited" (default is <code>None</code>). Specifying a size of 0 also
results in an unlimited dimension. The return value is the <code><a href="#Dimension">Dimension</a></code>
class instance describing the new dimension.  To determine the current
maximum size of the dimension, use the <code>len</code> function on the <code><a href="#Dimension">Dimension</a></code>
instance. To determine if a dimension is 'unlimited', use the
<code><a href="#Dimension.isunlimited">Dimension.isunlimited</a></code> method of the <code><a href="#Dimension">Dimension</a></code> instance.</p>
</div>


                            </div>
                            <div id="Dataset.renameDimension" class="classattr">
                                        <div class="attr function"><a class="headerlink" href="#Dataset.renameDimension">#&nbsp;&nbsp</a>

        
            <span class="def">def</span>
            <span class="name">renameDimension</span><span class="signature">(unknown)</span>:
    </div>

        
            <div class="docstring"><p><strong><code>renameDimension(self, oldname, newname)</code></strong></p>

<p>rename a <code><a href="#Dimension">Dimension</a></code> named <code>oldname</code> to <code>newname</code>.</p>
</div>


                            </div>
                            <div id="Dataset.createCompoundType" class="classattr">
                                        <div class="attr function"><a class="headerlink" href="#Dataset.createCompoundType">#&nbsp;&nbsp</a>

        
            <span class="def">def</span>
            <span class="name">createCompoundType</span><span class="signature">(unknown)</span>:
    </div>

        
            <div class="docstring"><p><strong><code>createCompoundType(self, datatype, datatype_name)</code></strong></p>

<p>Creates a new compound data type named <code>datatype_name</code> from the numpy
dtype object <code>datatype</code>.</p>

<p><strong><em>Note</em></strong>: If the new compound data type contains other compound data types
(i.e. it is a 'nested' compound type, where not all of the elements
are homogeneous numeric data types), then the 'inner' compound types <strong>must</strong> be
created first.</p>

<p>The return value is the <code><a href="#CompoundType">CompoundType</a></code> class instance describing the new
datatype.</p>
</div>


                            </div>
                            <div id="Dataset.createVLType" class="classattr">
                                        <div class="attr function"><a class="headerlink" href="#Dataset.createVLType">#&nbsp;&nbsp</a>

        
            <span class="def">def</span>
            <span class="name">createVLType</span><span class="signature">(unknown)</span>:
    </div>

        
            <div class="docstring"><p><strong><code>createVLType(self, datatype, datatype_name)</code></strong></p>

<p>Creates a new VLEN data type named <code>datatype_name</code> from a numpy
dtype object <code>datatype</code>.</p>

<p>The return value is the <code><a href="#VLType">VLType</a></code> class instance describing the new
datatype.</p>
</div>


                            </div>
                            <div id="Dataset.createEnumType" class="classattr">
                                        <div class="attr function"><a class="headerlink" href="#Dataset.createEnumType">#&nbsp;&nbsp</a>

        
            <span class="def">def</span>
            <span class="name">createEnumType</span><span class="signature">(unknown)</span>:
    </div>

        
            <div class="docstring"><p><strong><code>createEnumType(self, datatype, datatype_name, enum_dict)</code></strong></p>

<p>Creates a new Enum data type named <code>datatype_name</code> from a numpy
integer dtype object <code>datatype</code>, and a python dictionary
defining the enum fields and values.</p>

<p>The return value is the <code><a href="#EnumType">EnumType</a></code> class instance describing the new
datatype.</p>
</div>


                            </div>
                            <div id="Dataset.createVariable" class="classattr">
                                        <div class="attr function"><a class="headerlink" href="#Dataset.createVariable">#&nbsp;&nbsp</a>

        
            <span class="def">def</span>
            <span class="name">createVariable</span><span class="signature">(unknown)</span>:
    </div>

        
            <div class="docstring"><p><strong><code>createVariable(self, varname, datatype, dimensions=(), zlib=False,
complevel=4, shuffle=True, fletcher32=False, contiguous=False, chunksizes=None,
endian='native', least_significant_digit=None, fill_value=None, chunk_cache=None)</code></strong></p>

<p>Creates a new variable with the given <code>varname</code>, <code>datatype</code>, and
<code><a href="#Dataset.dimensions">dimensions</a></code>. If dimensions are not given, the variable is assumed to be
a scalar.</p>

<p>If <code>varname</code> is specified as a path, using forward slashes as in unix to
separate components, then intermediate groups will be created as necessary
For example, <code>createVariable('/GroupA/GroupB/VarC', float, ('x','y'))</code> will create groups <code>GroupA</code>
and <code>GroupA/GroupB</code>, plus the variable <code>GroupA/GroupB/VarC</code>, if the preceding
groups don't already exist.</p>

<p>The <code>datatype</code> can be a numpy datatype object, or a string that describes
a numpy dtype object (like the <code>dtype.str</code> attribute of a numpy array).
Supported specifiers include: <code>'S1' or 'c' (NC_CHAR), 'i1' or 'b' or 'B'
(NC_BYTE), 'u1' (NC_UBYTE), 'i2' or 'h' or 's' (NC_SHORT), 'u2'
(NC_USHORT), 'i4' or 'i' or 'l' (NC_INT), 'u4' (NC_UINT), 'i8' (NC_INT64),
'u8' (NC_UINT64), 'f4' or 'f' (NC_FLOAT), 'f8' or 'd' (NC_DOUBLE)</code>.
<code>datatype</code> can also be a <code><a href="#CompoundType">CompoundType</a></code> instance
(for a structured, or compound array), a <code><a href="#VLType">VLType</a></code> instance
(for a variable-length array), or the python <code>str</code> builtin
(for a variable-length string array). Numpy string and unicode datatypes with
length greater than one are aliases for <code>str</code>.</p>

<p>Data from netCDF variables is presented to python as numpy arrays with
the corresponding data type.</p>

<p><code><a href="#Dataset.dimensions">dimensions</a></code> must be a tuple containing dimension names (strings) that
have been defined previously using <code><a href="#Dataset.createDimension">Dataset.createDimension</a></code>. The default value
is an empty tuple, which means the variable is a scalar.</p>

<p>If the optional keyword <code>zlib</code> is <code>True</code>, the data will be compressed in
the netCDF file using gzip compression (default <code>False</code>).</p>

<p>The optional keyword <code>complevel</code> is an integer between 1 and 9 describing
the level of compression desired (default 4). Ignored if <code>zlib=False</code>.</p>

<p>If the optional keyword <code>shuffle</code> is <code>True</code>, the HDF5 shuffle filter
will be applied before compressing the data (default <code>True</code>).  This
significantly improves compression. Default is <code>True</code>. Ignored if
<code>zlib=False</code>.</p>

<p>If the optional keyword <code>fletcher32</code> is <code>True</code>, the Fletcher32 HDF5
checksum algorithm is activated to detect errors. Default <code>False</code>.</p>

<p>If the optional keyword <code>contiguous</code> is <code>True</code>, the variable data is
stored contiguously on disk.  Default <code>False</code>. Setting to <code>True</code> for
a variable with an unlimited dimension will trigger an error.</p>

<p>The optional keyword <code>chunksizes</code> can be used to manually specify the
HDF5 chunksizes for each dimension of the variable. A detailed
discussion of HDF chunking and I/O performance is available
<a href="http://www.hdfgroup.org/HDF5/doc/H5.user/Chunking.html">here</a>.
Basically, you want the chunk size for each dimension to match as
closely as possible the size of the data block that users will read
from the file.  <code>chunksizes</code> cannot be set if <code>contiguous=True</code>.</p>

<p>The optional keyword <code>endian</code> can be used to control whether the
data is stored in little or big endian format on disk. Possible
values are <code>little, big</code> or <code>native</code> (default). The library
will automatically handle endian conversions when the data is read,
but if the data is always going to be read on a computer with the
opposite format as the one used to create the file, there may be
some performance advantage to be gained by setting the endian-ness.</p>

<p>The <code>zlib, complevel, shuffle, fletcher32, contiguous, chunksizes</code> and <code>endian</code>
keywords are silently ignored for netCDF 3 files that do not use HDF5.</p>

<p>The optional keyword <code>fill_value</code> can be used to override the default
netCDF <code>_FillValue</code> (the value that the variable gets filled with before
any data is written to it, defaults given in the dict <code><a href="#default_fillvals">netCDF4.default_fillvals</a></code>).
If fill_value is set to <code>False</code>, then the variable is not pre-filled.</p>

<p>If the optional keyword parameter <code>least_significant_digit</code> is
specified, variable data will be truncated (quantized). In conjunction
with <code>zlib=True</code> this produces 'lossy', but significantly more
efficient compression. For example, if <code>least_significant_digit=1</code>,
data will be quantized using <code>numpy.around(scale*data)/scale</code>, where
scale = 2**bits, and bits is determined so that a precision of 0.1 is
retained (in this case bits=4). From the
<a href="http://www.esrl.noaa.gov/psl/data/gridded/conventions/cdc_netcdf_standard.shtml">PSL metadata conventions</a>:
"least_significant_digit -- power of ten of the smallest decimal place
in unpacked data that is a reliable value." Default is <code>None</code>, or no
quantization, or 'lossless' compression.</p>

<p>When creating variables in a <code>NETCDF4</code> or <code>NETCDF4_CLASSIC</code> formatted file,
HDF5 creates something called a 'chunk cache' for each variable.  The
default size of the chunk cache may be large enough to completely fill
available memory when creating thousands of variables.  The optional
keyword <code>chunk_cache</code> allows you to reduce (or increase) the size of
the default chunk cache when creating a variable.  The setting only
persists as long as the Dataset is open - you can use the set_var_chunk_cache
method to change it the next time the Dataset is opened.
Warning - messing with this parameter can seriously degrade performance.</p>

<p>The return value is the <code><a href="#Variable">Variable</a></code> class instance describing the new
variable.</p>

<p>A list of names corresponding to netCDF variable attributes can be
obtained with the <code><a href="#Variable">Variable</a></code> method <code><a href="#Variable.ncattrs">Variable.ncattrs</a></code>. A dictionary
containing all the netCDF attribute name/value pairs is provided by
the <code>__dict__</code> attribute of a <code><a href="#Variable">Variable</a></code> instance.</p>

<p><code><a href="#Variable">Variable</a></code> instances behave much like array objects. Data can be
assigned to or retrieved from a variable with indexing and slicing
operations on the <code><a href="#Variable">Variable</a></code> instance. A <code><a href="#Variable">Variable</a></code> instance has six
Dataset standard attributes: <code>dimensions, dtype, shape, ndim, name</code> and
<code>least_significant_digit</code>. Application programs should never modify
these attributes. The <code><a href="#Dataset.dimensions">dimensions</a></code> attribute is a tuple containing the
names of the dimensions associated with this variable. The <code>dtype</code>
attribute is a string describing the variable's data type (<code>i4, f8,
S1,</code> etc). The <code>shape</code> attribute is a tuple describing the current
sizes of all the variable's dimensions. The <code><a href="#Dataset.name">name</a></code> attribute is a
string containing the name of the Variable instance.
The <code>least_significant_digit</code>
attributes describes the power of ten of the smallest decimal place in
the data the contains a reliable value.  assigned to the <code><a href="#Variable">Variable</a></code>
instance. If <code>None</code>, the data is not truncated. The <code>ndim</code> attribute
is the number of variable dimensions.</p>
</div>


                            </div>
                            <div id="Dataset.renameVariable" class="classattr">
                                        <div class="attr function"><a class="headerlink" href="#Dataset.renameVariable">#&nbsp;&nbsp</a>

        
            <span class="def">def</span>
            <span class="name">renameVariable</span><span class="signature">(unknown)</span>:
    </div>

        
            <div class="docstring"><p><strong><code>renameVariable(self, oldname, newname)</code></strong></p>

<p>rename a <code><a href="#Variable">Variable</a></code> named <code>oldname</code> to <code>newname</code></p>
</div>


                            </div>
                            <div id="Dataset.createGroup" class="classattr">
                                        <div class="attr function"><a class="headerlink" href="#Dataset.createGroup">#&nbsp;&nbsp</a>

        
            <span class="def">def</span>
            <span class="name">createGroup</span><span class="signature">(unknown)</span>:
    </div>

        
            <div class="docstring"><p><strong><code>createGroup(self, groupname)</code></strong></p>

<p>Creates a new <code><a href="#Group">Group</a></code> with the given <code>groupname</code>.</p>

<p>If <code>groupname</code> is specified as a path, using forward slashes as in unix to
separate components, then intermediate groups will be created as necessary
(analogous to <code>mkdir -p</code> in unix).  For example,
<code>createGroup('/GroupA/GroupB/GroupC')</code> will create <code>GroupA</code>,
<code>GroupA/GroupB</code>, and <code>GroupA/GroupB/GroupC</code>, if they don't already exist.
If the specified path describes a group that already exists, no error is
raised.</p>

<p>The return value is a <code><a href="#Group">Group</a></code> class instance.</p>
</div>


                            </div>
                            <div id="Dataset.ncattrs" class="classattr">
                                        <div class="attr function"><a class="headerlink" href="#Dataset.ncattrs">#&nbsp;&nbsp</a>

        
            <span class="def">def</span>
            <span class="name">ncattrs</span><span class="signature">(unknown)</span>:
    </div>

        
            <div class="docstring"><p><strong><code>ncattrs(self)</code></strong></p>

<p>return netCDF global attribute names for this <code><a href="#Dataset">Dataset</a></code> or <code><a href="#Group">Group</a></code> in a list.</p>
</div>


                            </div>
                            <div id="Dataset.setncattr" class="classattr">
                                        <div class="attr function"><a class="headerlink" href="#Dataset.setncattr">#&nbsp;&nbsp</a>

        
            <span class="def">def</span>
            <span class="name">setncattr</span><span class="signature">(unknown)</span>:
    </div>

        
            <div class="docstring"><p><strong><code>setncattr(self,name,value)</code></strong></p>

<p>set a netCDF dataset or group attribute using name,value pair.
Use if you need to set a netCDF attribute with the
with the same name as one of the reserved python attributes.</p>
</div>


                            </div>
                            <div id="Dataset.setncattr_string" class="classattr">
                                        <div class="attr function"><a class="headerlink" href="#Dataset.setncattr_string">#&nbsp;&nbsp</a>

        
            <span class="def">def</span>
            <span class="name">setncattr_string</span><span class="signature">(unknown)</span>:
    </div>

        
            <div class="docstring"><p><strong><code>setncattr_string(self,name,value)</code></strong></p>

<p>set a netCDF dataset or group string attribute using name,value pair.
Use if you need to ensure that a netCDF attribute is created with type
<code>NC_STRING</code> if the file format is <code>NETCDF4</code>.</p>
</div>


                            </div>
                            <div id="Dataset.setncatts" class="classattr">
                                        <div class="attr function"><a class="headerlink" href="#Dataset.setncatts">#&nbsp;&nbsp</a>

        
            <span class="def">def</span>
            <span class="name">setncatts</span><span class="signature">(unknown)</span>:
    </div>

        
            <div class="docstring"><p><strong><code>setncatts(self,attdict)</code></strong></p>

<p>set a bunch of netCDF dataset or group attributes at once using a python dictionary.
This may be faster when setting a lot of attributes for a <code>NETCDF3</code>
formatted file, since nc_redef/nc_enddef is not called in between setting
each attribute</p>
</div>


                            </div>
                            <div id="Dataset.getncattr" class="classattr">
                                        <div class="attr function"><a class="headerlink" href="#Dataset.getncattr">#&nbsp;&nbsp</a>

        
            <span class="def">def</span>
            <span class="name">getncattr</span><span class="signature">(unknown)</span>:
    </div>

        
            <div class="docstring"><p><strong><code>getncattr(self,name)</code></strong></p>

<p>retrieve a netCDF dataset or group attribute.
Use if you need to get a netCDF attribute with the same
name as one of the reserved python attributes.</p>

<p>option kwarg <code>encoding</code> can be used to specify the
character encoding of a string attribute (default is <code>utf-8</code>).</p>
</div>


                            </div>
                            <div id="Dataset.delncattr" class="classattr">
                                        <div class="attr function"><a class="headerlink" href="#Dataset.delncattr">#&nbsp;&nbsp</a>

        
            <span class="def">def</span>
            <span class="name">delncattr</span><span class="signature">(unknown)</span>:
    </div>

        
            <div class="docstring"><p><strong><code>delncattr(self,name,value)</code></strong></p>

<p>delete a netCDF dataset or group attribute.  Use if you need to delete a
netCDF attribute with the same name as one of the reserved python
attributes.</p>
</div>


                            </div>
                            <div id="Dataset.renameAttribute" class="classattr">
                                        <div class="attr function"><a class="headerlink" href="#Dataset.renameAttribute">#&nbsp;&nbsp</a>

        
            <span class="def">def</span>
            <span class="name">renameAttribute</span><span class="signature">(unknown)</span>:
    </div>

        
            <div class="docstring"><p><strong><code>renameAttribute(self, oldname, newname)</code></strong></p>

<p>rename a <code><a href="#Dataset">Dataset</a></code> or <code><a href="#Group">Group</a></code> attribute named <code>oldname</code> to <code>newname</code>.</p>
</div>


                            </div>
                            <div id="Dataset.renameGroup" class="classattr">
                                        <div class="attr function"><a class="headerlink" href="#Dataset.renameGroup">#&nbsp;&nbsp</a>

        
            <span class="def">def</span>
            <span class="name">renameGroup</span><span class="signature">(unknown)</span>:
    </div>

        
            <div class="docstring"><p><strong><code>renameGroup(self, oldname, newname)</code></strong></p>

<p>rename a <code><a href="#Group">Group</a></code> named <code>oldname</code> to <code>newname</code> (requires netcdf &gt;= 4.3.1).</p>
</div>


                            </div>
                            <div id="Dataset.set_auto_chartostring" class="classattr">
                                        <div class="attr function"><a class="headerlink" href="#Dataset.set_auto_chartostring">#&nbsp;&nbsp</a>

        
            <span class="def">def</span>
            <span class="name">set_auto_chartostring</span><span class="signature">(unknown)</span>:
    </div>

        
            <div class="docstring"><p><strong><code>set_auto_chartostring(self, True_or_False)</code></strong></p>

<p>Call <code><a href="#Variable.set_auto_chartostring">Variable.set_auto_chartostring</a></code> for all variables contained in this <code><a href="#Dataset">Dataset</a></code> or
<code><a href="#Group">Group</a></code>, as well as for all variables in all its subgroups.</p>

<p><strong><code>True_or_False</code></strong>: Boolean determining if automatic conversion of
all character arrays &lt;--> string arrays should be performed for
character variables (variables of type <code>NC_CHAR</code> or <code>S1</code>) with the
<code>_Encoding</code> attribute set.</p>

<p><strong><em>Note</em></strong>: Calling this function only affects existing variables. Variables created
after calling this function will follow the default behaviour.</p>
</div>


                            </div>
                            <div id="Dataset.set_auto_maskandscale" class="classattr">
                                        <div class="attr function"><a class="headerlink" href="#Dataset.set_auto_maskandscale">#&nbsp;&nbsp</a>

        
            <span class="def">def</span>
            <span class="name">set_auto_maskandscale</span><span class="signature">(unknown)</span>:
    </div>

        
            <div class="docstring"><p><strong><code>set_auto_maskandscale(self, True_or_False)</code></strong></p>

<p>Call <code><a href="#Variable.set_auto_maskandscale">Variable.set_auto_maskandscale</a></code> for all variables contained in this <code><a href="#Dataset">Dataset</a></code> or
<code><a href="#Group">Group</a></code>, as well as for all variables in all its subgroups.</p>

<p><strong><code>True_or_False</code></strong>: Boolean determining if automatic conversion to masked arrays
and variable scaling shall be applied for all variables.</p>

<p><strong><em>Note</em></strong>: Calling this function only affects existing variables. Variables created
after calling this function will follow the default behaviour.</p>
</div>


                            </div>
                            <div id="Dataset.set_auto_mask" class="classattr">
                                        <div class="attr function"><a class="headerlink" href="#Dataset.set_auto_mask">#&nbsp;&nbsp</a>

        
            <span class="def">def</span>
            <span class="name">set_auto_mask</span><span class="signature">(unknown)</span>:
    </div>

        
            <div class="docstring"><p><strong><code>set_auto_mask(self, True_or_False)</code></strong></p>

<p>Call <code><a href="#Variable.set_auto_mask">Variable.set_auto_mask</a></code> for all variables contained in this <code><a href="#Dataset">Dataset</a></code> or
<code><a href="#Group">Group</a></code>, as well as for all variables in all its subgroups. Only affects
Variables with primitive or enum types (not compound or vlen Variables).</p>

<p><strong><code>True_or_False</code></strong>: Boolean determining if automatic conversion to masked arrays
shall be applied for all variables.</p>

<p><strong><em>Note</em></strong>: Calling this function only affects existing variables. Variables created
after calling this function will follow the default behaviour.</p>
</div>


                            </div>
                            <div id="Dataset.set_auto_scale" class="classattr">
                                        <div class="attr function"><a class="headerlink" href="#Dataset.set_auto_scale">#&nbsp;&nbsp</a>

        
            <span class="def">def</span>
            <span class="name">set_auto_scale</span><span class="signature">(unknown)</span>:
    </div>

        
            <div class="docstring"><p><strong><code>set_auto_scale(self, True_or_False)</code></strong></p>

<p>Call <code><a href="#Variable.set_auto_scale">Variable.set_auto_scale</a></code> for all variables contained in this <code><a href="#Dataset">Dataset</a></code> or
<code><a href="#Group">Group</a></code>, as well as for all variables in all its subgroups.</p>

<p><strong><code>True_or_False</code></strong>: Boolean determining if automatic variable scaling
shall be applied for all variables.</p>

<p><strong><em>Note</em></strong>: Calling this function only affects existing variables. Variables created
after calling this function will follow the default behaviour.</p>
</div>


                            </div>
                            <div id="Dataset.set_always_mask" class="classattr">
                                        <div class="attr function"><a class="headerlink" href="#Dataset.set_always_mask">#&nbsp;&nbsp</a>

        
            <span class="def">def</span>
            <span class="name">set_always_mask</span><span class="signature">(unknown)</span>:
    </div>

        
            <div class="docstring"><p><strong><code>set_always_mask(self, True_or_False)</code></strong></p>

<p>Call <code><a href="#Variable.set_always_mask">Variable.set_always_mask</a></code> for all variables contained in
this <code><a href="#Dataset">Dataset</a></code> or <code><a href="#Group">Group</a></code>, as well as for all
variables in all its subgroups.</p>

<p><strong><code>True_or_False</code></strong>: Boolean determining if automatic conversion of
masked arrays with no missing values to regular numpy arrays shall be
applied for all variables. Default True. Set to False to restore the default behaviour
in versions prior to 1.4.1 (numpy array returned unless missing values are present,
otherwise masked array returned).</p>

<p><strong><em>Note</em></strong>: Calling this function only affects existing
variables. Variables created after calling this function will follow
the default behaviour.</p>
</div>


                            </div>
                            <div id="Dataset.set_ncstring_attrs" class="classattr">
                                        <div class="attr function"><a class="headerlink" href="#Dataset.set_ncstring_attrs">#&nbsp;&nbsp</a>

        
            <span class="def">def</span>
            <span class="name">set_ncstring_attrs</span><span class="signature">(unknown)</span>:
    </div>

        
            <div class="docstring"><p><strong><code>set_ncstring_attrs(self, True_or_False)</code></strong></p>

<p>Call <code><a href="#Variable.set_ncstring_attrs">Variable.set_ncstring_attrs</a></code> for all variables contained in
this <code><a href="#Dataset">Dataset</a></code> or <code><a href="#Group">Group</a></code>, as well as for all its
subgroups and their variables.</p>

<p><strong><code>True_or_False</code></strong>: Boolean determining if all string attributes are
created as variable-length NC_STRINGs, (if True), or if ascii text
attributes are stored as NC_CHARs (if False; default)</p>

<p><strong><em>Note</em></strong>: Calling this function only affects newly created attributes
of existing (sub-) groups and their variables.</p>
</div>


                            </div>
                            <div id="Dataset.get_variables_by_attributes" class="classattr">
                                        <div class="attr function"><a class="headerlink" href="#Dataset.get_variables_by_attributes">#&nbsp;&nbsp</a>

        
            <span class="def">def</span>
            <span class="name">get_variables_by_attributes</span><span class="signature">(unknown)</span>:
    </div>

        
            <div class="docstring"><p><strong><code>get_variables_by_attribute(self, **kwargs)</code></strong></p>

<p>Returns a list of variables that match specific conditions.</p>

<p>Can pass in key=value parameters and variables are returned that
contain all of the matches. For example,</p>

<div class="codehilite"><pre><span></span><code><span class="o">&gt;&gt;&gt;</span> <span class="c1"># Get variables with x-axis attribute.</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">vs</span> <span class="o">=</span> <span class="n">nc</span><span class="o">.</span><span class="n">get_variables_by_attributes</span><span class="p">(</span><span class="n">axis</span><span class="o">=</span><span class="s1">&#39;X&#39;</span><span class="p">)</span>
<span class="o">&gt;&gt;&gt;</span> <span class="c1"># Get variables with matching &quot;standard_name&quot; attribute</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">vs</span> <span class="o">=</span> <span class="n">nc</span><span class="o">.</span><span class="n">get_variables_by_attributes</span><span class="p">(</span><span class="n">standard_name</span><span class="o">=</span><span class="s1">&#39;northward_sea_water_velocity&#39;</span><span class="p">)</span>
</code></pre></div>

<p>Can pass in key=callable parameter and variables are returned if the
callable returns True.  The callable should accept a single parameter,
the attribute value.  None is given as the attribute value when the
attribute does not exist on the variable. For example,</p>

<div class="codehilite"><pre><span></span><code><span class="o">&gt;&gt;&gt;</span> <span class="c1"># Get Axis variables</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">vs</span> <span class="o">=</span> <span class="n">nc</span><span class="o">.</span><span class="n">get_variables_by_attributes</span><span class="p">(</span><span class="n">axis</span><span class="o">=</span><span class="k">lambda</span> <span class="n">v</span><span class="p">:</span> <span class="n">v</span> <span class="ow">in</span> <span class="p">[</span><span class="s1">&#39;X&#39;</span><span class="p">,</span> <span class="s1">&#39;Y&#39;</span><span class="p">,</span> <span class="s1">&#39;Z&#39;</span><span class="p">,</span> <span class="s1">&#39;T&#39;</span><span class="p">])</span>
<span class="o">&gt;&gt;&gt;</span> <span class="c1"># Get variables that don&#39;t have an &quot;axis&quot; attribute</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">vs</span> <span class="o">=</span> <span class="n">nc</span><span class="o">.</span><span class="n">get_variables_by_attributes</span><span class="p">(</span><span class="n">axis</span><span class="o">=</span><span class="k">lambda</span> <span class="n">v</span><span class="p">:</span> <span class="n">v</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">)</span>
<span class="o">&gt;&gt;&gt;</span> <span class="c1"># Get variables that have a &quot;grid_mapping&quot; attribute</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">vs</span> <span class="o">=</span> <span class="n">nc</span><span class="o">.</span><span class="n">get_variables_by_attributes</span><span class="p">(</span><span class="n">grid_mapping</span><span class="o">=</span><span class="k">lambda</span> <span class="n">v</span><span class="p">:</span> <span class="n">v</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">)</span>
</code></pre></div>
</div>


                            </div>
                            <div id="Dataset.fromcdl" class="classattr">
                                        <div class="attr function"><a class="headerlink" href="#Dataset.fromcdl">#&nbsp;&nbsp</a>

        
            <span class="def">def</span>
            <span class="name">fromcdl</span><span class="signature">(unknown)</span>:
    </div>

        
            <div class="docstring"><p><strong><code>fromcdl(cdlfilename, ncfilename=None, mode='a',format='NETCDF4')</code></strong></p>

<p>call <a href="https://www.unidata.ucar.edu/software/netcdf/docs/netcdf_utilities_guide.html#ncgen_guide">ncgen</a> via subprocess to create Dataset from <a href="https://www.unidata.ucar.edu/software/netcdf/docs/netcdf_utilities_guide.html#cdl_guide">CDL</a>
text representation. Requires <a href="https://www.unidata.ucar.edu/software/netcdf/docs/netcdf_utilities_guide.html#ncgen_guide">ncgen</a> to be installed and in <code>$PATH</code>.</p>

<p><strong><code>cdlfilename</code></strong>:  CDL file.</p>

<p><strong><code>ncfilename</code></strong>: netCDF file to create. If not given, CDL filename with
suffix replaced by <code>.nc</code> is used..</p>

<p><strong><code>mode</code></strong>:  Access mode to open Dataset (Default <code>'a'</code>).</p>

<p><strong><code>format</code></strong>: underlying file format to use (one of <code>'NETCDF4',
'NETCDF4_CLASSIC', 'NETCDF3_CLASSIC'</code>, <code>'NETCDF3_64BIT_OFFSET'</code> or
<code>'NETCDF3_64BIT_DATA'</code>. Default <code>'NETCDF4'</code>.</p>

<p>Dataset instance for <code>ncfilename</code> is returned.</p>
</div>


                            </div>
                            <div id="Dataset.tocdl" class="classattr">
                                        <div class="attr function"><a class="headerlink" href="#Dataset.tocdl">#&nbsp;&nbsp</a>

        
            <span class="def">def</span>
            <span class="name">tocdl</span><span class="signature">(unknown)</span>:
    </div>

        
            <div class="docstring"><p><strong><code>tocdl(self, coordvars=False, data=False, outfile=None)</code></strong></p>

<p>call <a href="https://www.unidata.ucar.edu/software/netcdf/docs/netcdf_utilities_guide.html#ncdump_guide">ncdump</a> via subprocess to create <a href="https://www.unidata.ucar.edu/software/netcdf/docs/netcdf_utilities_guide.html#cdl_guide">CDL</a>
text representation of Dataset. Requires <a href="https://www.unidata.ucar.edu/software/netcdf/docs/netcdf_utilities_guide.html#ncdump_guide">ncdump</a>
to be installed and in <code>$PATH</code>.</p>

<p><strong><code>coordvars</code></strong>: include coordinate variable data (via <code>ncdump -c</code>). Default False</p>

<p><strong><code>data</code></strong>: if True, write out variable data (Default False).</p>

<p><strong><code>outfile</code></strong>: If not None, file to output ncdump to. Default is to return a string.</p>
</div>


                            </div>
                            <div id="Dataset.name" class="classattr">
                                            <div class="attr variable"><a class="headerlink" href="#Dataset.name">#&nbsp;&nbsp</a>

        <span class="name">name</span><span class="default_value"> = &lt;attribute &#39;name&#39; of &#39;<a href="#_netCDF4.Dataset">netCDF4._netCDF4.Dataset</a>&#39; objects&gt;</span>
    </div>

            <div class="docstring"><p>string name of Group instance</p>
</div>


                            </div>
                            <div id="Dataset.groups" class="classattr">
                                            <div class="attr variable"><a class="headerlink" href="#Dataset.groups">#&nbsp;&nbsp</a>

        <span class="name">groups</span><span class="default_value"> = &lt;attribute &#39;groups&#39; of &#39;<a href="#_netCDF4.Dataset">netCDF4._netCDF4.Dataset</a>&#39; objects&gt;</span>
    </div>

    

                            </div>
                            <div id="Dataset.dimensions" class="classattr">
                                            <div class="attr variable"><a class="headerlink" href="#Dataset.dimensions">#&nbsp;&nbsp</a>

        <span class="name">dimensions</span><span class="default_value"> = &lt;attribute &#39;dimensions&#39; of &#39;<a href="#_netCDF4.Dataset">netCDF4._netCDF4.Dataset</a>&#39; objects&gt;</span>
    </div>

    

                            </div>
                            <div id="Dataset.variables" class="classattr">
                                            <div class="attr variable"><a class="headerlink" href="#Dataset.variables">#&nbsp;&nbsp</a>

        <span class="name">variables</span><span class="default_value"> = &lt;attribute &#39;variables&#39; of &#39;<a href="#_netCDF4.Dataset">netCDF4._netCDF4.Dataset</a>&#39; objects&gt;</span>
    </div>

    

                            </div>
                            <div id="Dataset.disk_format" class="classattr">
                                            <div class="attr variable"><a class="headerlink" href="#Dataset.disk_format">#&nbsp;&nbsp</a>

        <span class="name">disk_format</span><span class="default_value"> = &lt;attribute &#39;disk_format&#39; of &#39;<a href="#_netCDF4.Dataset">netCDF4._netCDF4.Dataset</a>&#39; objects&gt;</span>
    </div>

    

                            </div>
                            <div id="Dataset.path" class="classattr">
                                            <div class="attr variable"><a class="headerlink" href="#Dataset.path">#&nbsp;&nbsp</a>

        <span class="name">path</span><span class="default_value"> = &lt;attribute &#39;path&#39; of &#39;<a href="#_netCDF4.Dataset">netCDF4._netCDF4.Dataset</a>&#39; objects&gt;</span>
    </div>

    

                            </div>
                            <div id="Dataset.parent" class="classattr">
                                            <div class="attr variable"><a class="headerlink" href="#Dataset.parent">#&nbsp;&nbsp</a>

        <span class="name">parent</span><span class="default_value"> = &lt;attribute &#39;parent&#39; of &#39;<a href="#_netCDF4.Dataset">netCDF4._netCDF4.Dataset</a>&#39; objects&gt;</span>
    </div>

    

                            </div>
                            <div id="Dataset.file_format" class="classattr">
                                            <div class="attr variable"><a class="headerlink" href="#Dataset.file_format">#&nbsp;&nbsp</a>

        <span class="name">file_format</span><span class="default_value"> = &lt;attribute &#39;file_format&#39; of &#39;<a href="#_netCDF4.Dataset">netCDF4._netCDF4.Dataset</a>&#39; objects&gt;</span>
    </div>

    

                            </div>
                            <div id="Dataset.data_model" class="classattr">
                                            <div class="attr variable"><a class="headerlink" href="#Dataset.data_model">#&nbsp;&nbsp</a>

        <span class="name">data_model</span><span class="default_value"> = &lt;attribute &#39;data_model&#39; of &#39;<a href="#_netCDF4.Dataset">netCDF4._netCDF4.Dataset</a>&#39; objects&gt;</span>
    </div>

    

                            </div>
                            <div id="Dataset.cmptypes" class="classattr">
                                            <div class="attr variable"><a class="headerlink" href="#Dataset.cmptypes">#&nbsp;&nbsp</a>

        <span class="name">cmptypes</span><span class="default_value"> = &lt;attribute &#39;cmptypes&#39; of &#39;<a href="#_netCDF4.Dataset">netCDF4._netCDF4.Dataset</a>&#39; objects&gt;</span>
    </div>

    

                            </div>
                            <div id="Dataset.vltypes" class="classattr">
                                            <div class="attr variable"><a class="headerlink" href="#Dataset.vltypes">#&nbsp;&nbsp</a>

        <span class="name">vltypes</span><span class="default_value"> = &lt;attribute &#39;vltypes&#39; of &#39;<a href="#_netCDF4.Dataset">netCDF4._netCDF4.Dataset</a>&#39; objects&gt;</span>
    </div>

    

                            </div>
                            <div id="Dataset.enumtypes" class="classattr">
                                            <div class="attr variable"><a class="headerlink" href="#Dataset.enumtypes">#&nbsp;&nbsp</a>

        <span class="name">enumtypes</span><span class="default_value"> = &lt;attribute &#39;enumtypes&#39; of &#39;<a href="#_netCDF4.Dataset">netCDF4._netCDF4.Dataset</a>&#39; objects&gt;</span>
    </div>

    

                            </div>
                            <div id="Dataset.keepweakref" class="classattr">
                                            <div class="attr variable"><a class="headerlink" href="#Dataset.keepweakref">#&nbsp;&nbsp</a>

        <span class="name">keepweakref</span><span class="default_value"> = &lt;attribute &#39;keepweakref&#39; of &#39;<a href="#_netCDF4.Dataset">netCDF4._netCDF4.Dataset</a>&#39; objects&gt;</span>
    </div>

    

                            </div>
                </section>
                <section id="Variable">
                                <div class="attr class">
        <a class="headerlink" href="#Variable">#&nbsp;&nbsp</a>

        
        <span class="def">class</span>
        <span class="name">Variable</span>:
    </div>

        
            <div class="docstring"><p>A netCDF <code><a href="#Variable">Variable</a></code> is used to read and write netCDF data.  They are
analogous to numpy array objects. See <code><a href="#Variable.__init__">Variable.__init__</a></code> for more
details.</p>

<p>A list of attribute names corresponding to netCDF attributes defined for
the variable can be obtained with the <code><a href="#Variable.ncattrs">Variable.ncattrs</a></code> method. These
attributes can be created by assigning to an attribute of the
<code><a href="#Variable">Variable</a></code> instance. A dictionary containing all the netCDF attribute
name/value pairs is provided by the <code>__dict__</code> attribute of a
<code><a href="#Variable">Variable</a></code> instance.</p>

<p>The following class variables are read-only:</p>

<p><strong><code><a href="#Variable.dimensions">dimensions</a></code></strong>: A tuple containing the names of the
dimensions associated with this variable.</p>

<p><strong><code><a href="#Variable.dtype">dtype</a></code></strong>: A numpy dtype object describing the
variable's data type.</p>

<p><strong><code><a href="#Variable.ndim">ndim</a></code></strong>: The number of variable dimensions.</p>

<p><strong><code><a href="#Variable.shape">shape</a></code></strong>: A tuple with the current shape (length of all dimensions).</p>

<p><strong><code><a href="#Variable.scale">scale</a></code></strong>: If True, <code>scale_factor</code> and <code>add_offset</code> are
applied, and signed integer data is automatically converted to
unsigned integer data if the <code>_Unsigned</code> attribute is set.
Default is <code>True</code>, can be reset using <code><a href="#Variable.set_auto_scale">Variable.set_auto_scale</a></code> and
<code><a href="#Variable.set_auto_maskandscale">Variable.set_auto_maskandscale</a></code> methods.</p>

<p><strong><code><a href="#Variable.mask">mask</a></code></strong>: If True, data is automatically converted to/from masked
arrays when missing values or fill values are present. Default is <code>True</code>, can be
reset using <code><a href="#Variable.set_auto_mask">Variable.set_auto_mask</a></code> and <code><a href="#Variable.set_auto_maskandscale">Variable.set_auto_maskandscale</a></code>
methods. Only relevant for Variables with primitive or enum types (ignored
for compound and vlen Variables).</p>

<p><strong><code><a href="#Variable.chartostring">chartostring</a></code></strong>: If True, data is automatically converted to/from character
arrays to string arrays when the <code>_Encoding</code> variable attribute is set.
Default is <code>True</code>, can be reset using
<code><a href="#Variable.set_auto_chartostring">Variable.set_auto_chartostring</a></code> method.</p>

<p><strong><code>least_significant_digit</code></strong>: Describes the power of ten of the
smallest decimal place in the data the contains a reliable value.  Data is
truncated to this decimal place when it is assigned to the <code><a href="#Variable">Variable</a></code>
instance. If <code>None</code>, the data is not truncated.</p>

<p><strong><code>__orthogonal_indexing__</code></strong>: Always <code>True</code>.  Indicates to client code
that the object supports 'orthogonal indexing', which means that slices
that are 1d arrays or lists slice along each dimension independently.  This
behavior is similar to Fortran or Matlab, but different than numpy.</p>

<p><strong><code><a href="#Variable.datatype">datatype</a></code></strong>: numpy data type (for primitive data types) or VLType/CompoundType
 instance (for compound or vlen data types).</p>

<p><strong><code><a href="#Variable.name">name</a></code></strong>: String name.</p>

<p><strong><code><a href="#Variable.size">size</a></code></strong>: The number of stored elements.</p>
</div>


                            <div id="Variable.__init__" class="classattr">
                                        <div class="attr function"><a class="headerlink" href="#Variable.__init__">#&nbsp;&nbsp</a>

        
            <span class="name">Variable</span><span class="signature">()</span>
    </div>

        
            <div class="docstring"><p><strong><code>__init__(self, group, name, datatype, dimensions=(), zlib=False,
complevel=4, shuffle=True, fletcher32=False, contiguous=False,
chunksizes=None, endian='native',
least_significant_digit=None,fill_value=None,chunk_cache=None)</code></strong></p>

<p><code><a href="#Variable">Variable</a></code> constructor.</p>

<p><strong><code><a href="#Variable.group">group</a></code></strong>: <code><a href="#Group">Group</a></code> or <code><a href="#Dataset">Dataset</a></code> instance to associate with variable.</p>

<p><strong><code><a href="#Variable.name">name</a></code></strong>: Name of the variable.</p>

<p><strong><code><a href="#Variable.datatype">datatype</a></code></strong>: <code><a href="#Variable">Variable</a></code> data type. Can be specified by providing a
numpy dtype object, or a string that describes a numpy dtype object.
Supported values, corresponding to <code>str</code> attribute of numpy dtype
objects, include <code>'f4'</code> (32-bit floating point), <code>'f8'</code> (64-bit floating
point), <code>'i4'</code> (32-bit signed integer), <code>'i2'</code> (16-bit signed integer),
<code>'i8'</code> (64-bit signed integer), <code>'i4'</code> (8-bit signed integer), <code>'i1'</code>
(8-bit signed integer), <code>'u1'</code> (8-bit unsigned integer), <code>'u2'</code> (16-bit
unsigned integer), <code>'u4'</code> (32-bit unsigned integer), <code>'u8'</code> (64-bit
unsigned integer), or <code>'S1'</code> (single-character string).  From
compatibility with Scientific.IO.NetCDF, the old Numeric single character
typecodes can also be used (<code>'f'</code> instead of <code>'f4'</code>, <code>'d'</code> instead of
<code>'f8'</code>, <code>'h'</code> or <code>'s'</code> instead of <code>'i2'</code>, <code>'b'</code> or <code>'B'</code> instead of
<code>'i1'</code>, <code>'c'</code> instead of <code>'S1'</code>, and <code>'i'</code> or <code>'l'</code> instead of
<code>'i4'</code>). <code><a href="#Variable.datatype">datatype</a></code> can also be a <code><a href="#CompoundType">CompoundType</a></code> instance
(for a structured, or compound array), a <code><a href="#VLType">VLType</a></code> instance
(for a variable-length array), or the python <code>str</code> builtin
(for a variable-length string array). Numpy string and unicode datatypes with
length greater than one are aliases for <code>str</code>.</p>

<p><strong><code><a href="#Variable.dimensions">dimensions</a></code></strong>: a tuple containing the variable's dimension names
(defined previously with <code>createDimension</code>). Default is an empty tuple
which means the variable is a scalar (and therefore has no dimensions).</p>

<p><strong><code>zlib</code></strong>: if <code>True</code>, data assigned to the <code><a href="#Variable">Variable</a></code>
instance is compressed on disk. Default <code>False</code>.</p>

<p><strong><code>complevel</code></strong>: the level of zlib compression to use (1 is the fastest,
but poorest compression, 9 is the slowest but best compression). Default 4.
Ignored if <code>zlib=False</code>.</p>

<p><strong><code>shuffle</code></strong>: if <code>True</code>, the HDF5 shuffle filter is applied
to improve compression. Default <code>True</code>. Ignored if <code>zlib=False</code>.</p>

<p><strong><code>fletcher32</code></strong>: if <code>True</code> (default <code>False</code>), the Fletcher32 checksum
algorithm is used for error detection.</p>

<p><strong><code>contiguous</code></strong>: if <code>True</code> (default <code>False</code>), the variable data is
stored contiguously on disk.  Default <code>False</code>. Setting to <code>True</code> for
a variable with an unlimited dimension will trigger an error.</p>

<p><strong><code>chunksizes</code></strong>: Can be used to specify the HDF5 chunksizes for each
dimension of the variable. A detailed discussion of HDF chunking and I/O
performance is available
<a href="http://www.hdfgroup.org/HDF5/doc/H5.user/Chunking.html">here</a>.
Basically, you want the chunk size for each dimension to match as
closely as possible the size of the data block that users will read
from the file. <code>chunksizes</code> cannot be set if <code>contiguous=True</code>.</p>

<p><strong><code><a href="#Variable.endian">endian</a></code></strong>: Can be used to control whether the
data is stored in little or big endian format on disk. Possible
values are <code>little, big</code> or <code>native</code> (default). The library
will automatically handle endian conversions when the data is read,
but if the data is always going to be read on a computer with the
opposite format as the one used to create the file, there may be
some performance advantage to be gained by setting the endian-ness.
For netCDF 3 files (that don't use HDF5), only <code>endian='native'</code> is allowed.</p>

<p>The <code>zlib, complevel, shuffle, fletcher32, contiguous</code> and <code>chunksizes</code>
keywords are silently ignored for netCDF 3 files that do not use HDF5.</p>

<p><strong><code>least_significant_digit</code></strong>: If specified, variable data will be
truncated (quantized). In conjunction with <code>zlib=True</code> this produces
'lossy', but significantly more efficient compression. For example, if
<code>least_significant_digit=1</code>, data will be quantized using
around(scale<em>data)/scale, where scale = 2</em>*bits, and bits is determined
so that a precision of 0.1 is retained (in this case bits=4). Default is
<code>None</code>, or no quantization.</p>

<p><strong><code>fill_value</code></strong>:  If specified, the default netCDF <code>_FillValue</code> (the
value that the variable gets filled with before any data is written to it)
is replaced with this value.  If fill_value is set to <code>False</code>, then
the variable is not pre-filled. The default netCDF fill values can be found
in the dictionary <code><a href="#default_fillvals">netCDF4.default_fillvals</a></code>.</p>

<p><strong><code>chunk_cache</code></strong>: If specified, sets the chunk cache size for this variable.
Persists as long as Dataset is open. Use <code><a href="#Variable.set_var_chunk_cache">set_var_chunk_cache</a></code> to 
change it when Dataset is re-opened. </p>

<p><strong><em>Note</em></strong>: <code><a href="#Variable">Variable</a></code> instances should be created using the
<code><a href="#Dataset.createVariable">Dataset.createVariable</a></code> method of a <code><a href="#Dataset">Dataset</a></code> or
<code><a href="#Group">Group</a></code> instance, not using this class directly.</p>
</div>


                            </div>
                            <div id="Variable.group" class="classattr">
                                        <div class="attr function"><a class="headerlink" href="#Variable.group">#&nbsp;&nbsp</a>

        
            <span class="def">def</span>
            <span class="name">group</span><span class="signature">(unknown)</span>:
    </div>

        
            <div class="docstring"><p><strong><code>group(self)</code></strong></p>

<p>return the group that this <code><a href="#Variable">Variable</a></code> is a member of.</p>
</div>


                            </div>
                            <div id="Variable.ncattrs" class="classattr">
                                        <div class="attr function"><a class="headerlink" href="#Variable.ncattrs">#&nbsp;&nbsp</a>

        
            <span class="def">def</span>
            <span class="name">ncattrs</span><span class="signature">(unknown)</span>:
    </div>

        
            <div class="docstring"><p><strong><code>ncattrs(self)</code></strong></p>

<p>return netCDF attribute names for this <code><a href="#Variable">Variable</a></code> in a list.</p>
</div>


                            </div>
                            <div id="Variable.setncattr" class="classattr">
                                        <div class="attr function"><a class="headerlink" href="#Variable.setncattr">#&nbsp;&nbsp</a>

        
            <span class="def">def</span>
            <span class="name">setncattr</span><span class="signature">(unknown)</span>:
    </div>

        
            <div class="docstring"><p><strong><code>setncattr(self,name,value)</code></strong></p>

<p>set a netCDF variable attribute using name,value pair.  Use if you need to set a
netCDF attribute with the same name as one of the reserved python
attributes.</p>
</div>


                            </div>
                            <div id="Variable.setncattr_string" class="classattr">
                                        <div class="attr function"><a class="headerlink" href="#Variable.setncattr_string">#&nbsp;&nbsp</a>

        
            <span class="def">def</span>
            <span class="name">setncattr_string</span><span class="signature">(unknown)</span>:
    </div>

        
            <div class="docstring"><p><strong><code>setncattr_string(self,name,value)</code></strong></p>

<p>set a netCDF variable string attribute using name,value pair.
Use if you need to ensure that a netCDF attribute is created with type
<code>NC_STRING</code> if the file format is <code>NETCDF4</code>.
Use if you need to set an attribute to an array of variable-length strings.</p>
</div>


                            </div>
                            <div id="Variable.setncatts" class="classattr">
                                        <div class="attr function"><a class="headerlink" href="#Variable.setncatts">#&nbsp;&nbsp</a>

        
            <span class="def">def</span>
            <span class="name">setncatts</span><span class="signature">(unknown)</span>:
    </div>

        
            <div class="docstring"><p><strong><code>setncatts(self,attdict)</code></strong></p>

<p>set a bunch of netCDF variable attributes at once using a python dictionary.
This may be faster when setting a lot of attributes for a <code>NETCDF3</code>
formatted file, since nc_redef/nc_enddef is not called in between setting
each attribute</p>
</div>


                            </div>
                            <div id="Variable.getncattr" class="classattr">
                                        <div class="attr function"><a class="headerlink" href="#Variable.getncattr">#&nbsp;&nbsp</a>

        
            <span class="def">def</span>
            <span class="name">getncattr</span><span class="signature">(unknown)</span>:
    </div>

        
            <div class="docstring"><p><strong><code>getncattr(self,name)</code></strong></p>

<p>retrieve a netCDF variable attribute.  Use if you need to set a
netCDF attribute with the same name as one of the reserved python
attributes.</p>

<p>option kwarg <code>encoding</code> can be used to specify the
character encoding of a string attribute (default is <code>utf-8</code>).</p>
</div>


                            </div>
                            <div id="Variable.delncattr" class="classattr">
                                        <div class="attr function"><a class="headerlink" href="#Variable.delncattr">#&nbsp;&nbsp</a>

        
            <span class="def">def</span>
            <span class="name">delncattr</span><span class="signature">(unknown)</span>:
    </div>

        
            <div class="docstring"><p><strong><code>delncattr(self,name,value)</code></strong></p>

<p>delete a netCDF variable attribute.  Use if you need to delete a
netCDF attribute with the same name as one of the reserved python
attributes.</p>
</div>


                            </div>
                            <div id="Variable.filters" class="classattr">
                                        <div class="attr function"><a class="headerlink" href="#Variable.filters">#&nbsp;&nbsp</a>

        
            <span class="def">def</span>
            <span class="name">filters</span><span class="signature">(unknown)</span>:
    </div>

        
            <div class="docstring"><p><strong><code>filters(self)</code></strong></p>

<p>return dictionary containing HDF5 filter parameters.</p>
</div>


                            </div>
                            <div id="Variable.endian" class="classattr">
                                        <div class="attr function"><a class="headerlink" href="#Variable.endian">#&nbsp;&nbsp</a>

        
            <span class="def">def</span>
            <span class="name">endian</span><span class="signature">(unknown)</span>:
    </div>

        
            <div class="docstring"><p><strong><code>endian(self)</code></strong></p>

<p>return endian-ness (<code>little,big,native</code>) of variable (as stored in HDF5 file).</p>
</div>


                            </div>
                            <div id="Variable.chunking" class="classattr">
                                        <div class="attr function"><a class="headerlink" href="#Variable.chunking">#&nbsp;&nbsp</a>

        
            <span class="def">def</span>
            <span class="name">chunking</span><span class="signature">(unknown)</span>:
    </div>

        
            <div class="docstring"><p><strong><code>chunking(self)</code></strong></p>

<p>return variable chunking information.  If the dataset is
defined to be contiguous (and hence there is no chunking) the word 'contiguous'
is returned.  Otherwise, a sequence with the chunksize for
each dimension is returned.</p>
</div>


                            </div>
                            <div id="Variable.get_var_chunk_cache" class="classattr">
                                        <div class="attr function"><a class="headerlink" href="#Variable.get_var_chunk_cache">#&nbsp;&nbsp</a>

        
            <span class="def">def</span>
            <span class="name">get_var_chunk_cache</span><span class="signature">(unknown)</span>:
    </div>

        
            <div class="docstring"><p><strong><code>get_var_chunk_cache(self)</code></strong></p>

<p>return variable chunk cache information in a tuple (size,nelems,preemption).
See netcdf C library documentation for <code>nc_get_var_chunk_cache</code> for
details.</p>
</div>


                            </div>
                            <div id="Variable.set_var_chunk_cache" class="classattr">
                                        <div class="attr function"><a class="headerlink" href="#Variable.set_var_chunk_cache">#&nbsp;&nbsp</a>

        
            <span class="def">def</span>
            <span class="name">set_var_chunk_cache</span><span class="signature">(unknown)</span>:
    </div>

        
            <div class="docstring"><p><strong><code>set_var_chunk_cache(self,size=None,nelems=None,preemption=None)</code></strong></p>

<p>change variable chunk cache settings.
See netcdf C library documentation for <code>nc_set_var_chunk_cache</code> for
details.</p>
</div>


                            </div>
                            <div id="Variable.renameAttribute" class="classattr">
                                        <div class="attr function"><a class="headerlink" href="#Variable.renameAttribute">#&nbsp;&nbsp</a>

        
            <span class="def">def</span>
            <span class="name">renameAttribute</span><span class="signature">(unknown)</span>:
    </div>

        
            <div class="docstring"><p><strong><code>renameAttribute(self, oldname, newname)</code></strong></p>

<p>rename a <code><a href="#Variable">Variable</a></code> attribute named <code>oldname</code> to <code>newname</code>.</p>
</div>


                            </div>
                            <div id="Variable.assignValue" class="classattr">
                                        <div class="attr function"><a class="headerlink" href="#Variable.assignValue">#&nbsp;&nbsp</a>

        
            <span class="def">def</span>
            <span class="name">assignValue</span><span class="signature">(unknown)</span>:
    </div>

        
            <div class="docstring"><p><strong><code>assignValue(self, val)</code></strong></p>

<p>assign a value to a scalar variable.  Provided for compatibility with
Scientific.IO.NetCDF, can also be done by assigning to an Ellipsis slice ([...]).</p>
</div>


                            </div>
                            <div id="Variable.getValue" class="classattr">
                                        <div class="attr function"><a class="headerlink" href="#Variable.getValue">#&nbsp;&nbsp</a>

        
            <span class="def">def</span>
            <span class="name">getValue</span><span class="signature">(unknown)</span>:
    </div>

        
            <div class="docstring"><p><strong><code>getValue(self)</code></strong></p>

<p>get the value of a scalar variable.  Provided for compatibility with
Scientific.IO.NetCDF, can also be done by slicing with an Ellipsis ([...]).</p>
</div>


                            </div>
                            <div id="Variable.set_auto_chartostring" class="classattr">
                                        <div class="attr function"><a class="headerlink" href="#Variable.set_auto_chartostring">#&nbsp;&nbsp</a>

        
            <span class="def">def</span>
            <span class="name">set_auto_chartostring</span><span class="signature">(unknown)</span>:
    </div>

        
            <div class="docstring"><p><strong><code>set_auto_chartostring(self,chartostring)</code></strong></p>

<p>turn on or off automatic conversion of character variable data to and
from numpy fixed length string arrays when the <code>_Encoding</code> variable attribute
is set.</p>

<p>If <code><a href="#Variable.chartostring">chartostring</a></code> is set to <code>True</code>, when data is read from a character variable
(dtype = <code>S1</code>) that has an <code>_Encoding</code> attribute, it is converted to a numpy
fixed length unicode string array (dtype = <code>UN</code>, where <code>N</code> is the length
of the the rightmost dimension of the variable).  The value of <code>_Encoding</code>
is the unicode encoding that is used to decode the bytes into strings.</p>

<p>When numpy string data is written to a variable it is converted back to
indiviual bytes, with the number of bytes in each string equalling the
rightmost dimension of the variable.</p>

<p>The default value of <code><a href="#Variable.chartostring">chartostring</a></code> is <code>True</code>
(automatic conversions are performed).</p>
</div>


                            </div>
                            <div id="Variable.use_nc_get_vars" class="classattr">
                                        <div class="attr function"><a class="headerlink" href="#Variable.use_nc_get_vars">#&nbsp;&nbsp</a>

        
            <span class="def">def</span>
            <span class="name">use_nc_get_vars</span><span class="signature">(unknown)</span>:
    </div>

        
            <div class="docstring"><p><strong><code>use_nc_get_vars(self,_use_get_vars)</code></strong></p>

<p>enable the use of netcdf library routine <code>nc_get_vars</code>
to retrieve strided variable slices.  By default,
<code>nc_get_vars</code> may not used by default (depending on the
version of the netcdf-c library being used) since it may be
slower than multiple calls to the unstrided read routine <code>nc_get_vara</code>.</p>
</div>


                            </div>
                            <div id="Variable.set_auto_maskandscale" class="classattr">
                                        <div class="attr function"><a class="headerlink" href="#Variable.set_auto_maskandscale">#&nbsp;&nbsp</a>

        
            <span class="def">def</span>
            <span class="name">set_auto_maskandscale</span><span class="signature">(unknown)</span>:
    </div>

        
            <div class="docstring"><p><strong><code>set_auto_maskandscale(self,maskandscale)</code></strong></p>

<p>turn on or off automatic conversion of variable data to and
from masked arrays, automatic packing/unpacking of variable
data using <code>scale_factor</code> and <code>add_offset</code> attributes and
automatic conversion of signed integer data to unsigned integer
data if the <code>_Unsigned</code> attribute exists.</p>

<p>If <code>maskandscale</code> is set to <code>True</code>, when data is read from a variable
it is converted to a masked array if any of the values are exactly
equal to the either the netCDF _FillValue or the value specified by the
missing_value variable attribute. The fill_value of the masked array
is set to the missing_value attribute (if it exists), otherwise
the netCDF _FillValue attribute (which has a default value
for each data type). If the variable has no missing_value attribute, the
_FillValue is used instead. If the variable has valid_min/valid_max and
missing_value attributes, data outside the specified range will be masked.
When data is written to a variable, the masked
array is converted back to a regular numpy array by replacing all the
masked values by the missing_value attribute of the variable (if it
exists).  If the variable has no missing_value attribute, the _FillValue
is used instead. </p>

<p>If <code>maskandscale</code> is set to <code>True</code>, and the variable has a
<code>scale_factor</code> or an <code>add_offset</code> attribute, then data read
from that variable is unpacked using::</p>

<pre><code>data = self.scale_factor*data + self.add_offset
</code></pre>

<p>When data is written to a variable it is packed using::</p>

<pre><code>data = (data - self.add_offset)/self.scale_factor
</code></pre>

<p>If either scale_factor is present, but add_offset is missing, add_offset
is assumed zero.  If add_offset is present, but scale_factor is missing,
scale_factor is assumed to be one.
For more information on how <code>scale_factor</code> and <code>add_offset</code> can be
used to provide simple compression, see the
<a href="http://www.esrl.noaa.gov/psl/data/gridded/conventions/cdc_netcdf_standard.shtml">PSL metadata conventions</a>.</p>

<p>In addition, if <code>maskandscale</code> is set to <code>True</code>, and if the variable has an
attribute <code>_Unsigned</code> set, and the variable has a signed integer data type,
a view to the data is returned with the corresponding unsigned integer data type.
This convention is used by the netcdf-java library to save unsigned integer
data in <code>NETCDF3</code> or <code>NETCDF4_CLASSIC</code> files (since the <code>NETCDF3</code>
data model does not have unsigned integer data types).</p>

<p>The default value of <code>maskandscale</code> is <code>True</code>
(automatic conversions are performed).</p>
</div>


                            </div>
                            <div id="Variable.set_auto_scale" class="classattr">
                                        <div class="attr function"><a class="headerlink" href="#Variable.set_auto_scale">#&nbsp;&nbsp</a>

        
            <span class="def">def</span>
            <span class="name">set_auto_scale</span><span class="signature">(unknown)</span>:
    </div>

        
            <div class="docstring"><p><strong><code>set_auto_scale(self,scale)</code></strong></p>

<p>turn on or off automatic packing/unpacking of variable
data using <code>scale_factor</code> and <code>add_offset</code> attributes.
Also turns on and off automatic conversion of signed integer data
to unsigned integer data if the variable has an <code>_Unsigned</code>
attribute.</p>

<p>If <code><a href="#Variable.scale">scale</a></code> is set to <code>True</code>, and the variable has a
<code>scale_factor</code> or an <code>add_offset</code> attribute, then data read
from that variable is unpacked using::</p>

<pre><code>data = self.scale_factor*data + self.add_offset
</code></pre>

<p>When data is written to a variable it is packed using::</p>

<pre><code>data = (data - self.add_offset)/self.scale_factor
</code></pre>

<p>If either scale_factor is present, but add_offset is missing, add_offset
is assumed zero.  If add_offset is present, but scale_factor is missing,
scale_factor is assumed to be one.
For more information on how <code>scale_factor</code> and <code>add_offset</code> can be
used to provide simple compression, see the
<a href="http://www.esrl.noaa.gov/psl/data/gridded/conventions/cdc_netcdf_standard.shtml">PSL metadata conventions</a>.</p>

<p>In addition, if <code><a href="#Variable.scale">scale</a></code> is set to <code>True</code>, and if the variable has an
attribute <code>_Unsigned</code> set, and the variable has a signed integer data type,
a view to the data is returned with the corresponding unsigned integer datatype.
This convention is used by the netcdf-java library to save unsigned integer
data in <code>NETCDF3</code> or <code>NETCDF4_CLASSIC</code> files (since the <code>NETCDF3</code>
data model does not have unsigned integer data types).</p>

<p>The default value of <code><a href="#Variable.scale">scale</a></code> is <code>True</code>
(automatic conversions are performed).</p>
</div>


                            </div>
                            <div id="Variable.set_auto_mask" class="classattr">
                                        <div class="attr function"><a class="headerlink" href="#Variable.set_auto_mask">#&nbsp;&nbsp</a>

        
            <span class="def">def</span>
            <span class="name">set_auto_mask</span><span class="signature">(unknown)</span>:
    </div>

        
            <div class="docstring"><p><strong><code>set_auto_mask(self,mask)</code></strong></p>

<p>turn on or off automatic conversion of variable data to and
from masked arrays .</p>

<p>If <code><a href="#Variable.mask">mask</a></code> is set to <code>True</code>, when data is read from a variable
it is converted to a masked array if any of the values are exactly
equal to the either the netCDF _FillValue or the value specified by the
missing_value variable attribute. The fill_value of the masked array
is set to the missing_value attribute (if it exists), otherwise
the netCDF _FillValue attribute (which has a default value
for each data type). If the variable has no missing_value attribute, the
_FillValue is used instead. If the variable has valid_min/valid_max and
missing_value attributes, data outside the specified range will be masked.
When data is written to a variable, the masked
array is converted back to a regular numpy array by replacing all the
masked values by the missing_value attribute of the variable (if it
exists).  If the variable has no missing_value attribute, the _FillValue
is used instead. </p>

<p>The default value of <code><a href="#Variable.mask">mask</a></code> is <code>True</code>
(automatic conversions are performed).</p>
</div>


                            </div>
                            <div id="Variable.set_always_mask" class="classattr">
                                        <div class="attr function"><a class="headerlink" href="#Variable.set_always_mask">#&nbsp;&nbsp</a>

        
            <span class="def">def</span>
            <span class="name">set_always_mask</span><span class="signature">(unknown)</span>:
    </div>

        
            <div class="docstring"><p><strong><code>set_always_mask(self,always_mask)</code></strong></p>

<p>turn on or off conversion of data without missing values to regular
numpy arrays.</p>

<p><code><a href="#Variable.always_mask">always_mask</a></code> is a Boolean determining if automatic conversion of
masked arrays with no missing values to regular numpy arrays shall be
applied. Default is True. Set to False to restore the default behaviour
in versions prior to 1.4.1 (numpy array returned unless missing values are present,
otherwise masked array returned).</p>
</div>


                            </div>
                            <div id="Variable.set_ncstring_attrs" class="classattr">
                                        <div class="attr function"><a class="headerlink" href="#Variable.set_ncstring_attrs">#&nbsp;&nbsp</a>

        
            <span class="def">def</span>
            <span class="name">set_ncstring_attrs</span><span class="signature">(unknown)</span>:
    </div>

        
            <div class="docstring"><p><strong><code>set_always_mask(self,ncstring_attrs)</code></strong></p>

<p>turn on or off creating NC_STRING string attributes.</p>

<p>If <code>ncstring_attrs</code> is set to <code>True</code> then text attributes will be variable-length
NC_STRINGs.</p>

<p>The default value of <code>ncstring_attrs</code> is <code>False</code> (writing ascii text attributes as
NC_CHAR).</p>
</div>


                            </div>
                            <div id="Variable.set_collective" class="classattr">
                                        <div class="attr function"><a class="headerlink" href="#Variable.set_collective">#&nbsp;&nbsp</a>

        
            <span class="def">def</span>
            <span class="name">set_collective</span><span class="signature">(unknown)</span>:
    </div>

        
            <div class="docstring"><p><strong><code>set_collective(self,True_or_False)</code></strong></p>

<p>turn on or off collective parallel IO access. Ignored if file is not
open for parallel access.</p>
</div>


                            </div>
                            <div id="Variable.get_dims" class="classattr">
                                        <div class="attr function"><a class="headerlink" href="#Variable.get_dims">#&nbsp;&nbsp</a>

        
            <span class="def">def</span>
            <span class="name">get_dims</span><span class="signature">(unknown)</span>:
    </div>

        
            <div class="docstring"><p><strong><code>get_dims(self)</code></strong></p>

<p>return a tuple of <code><a href="#Dimension">Dimension</a></code> instances associated with this
<code><a href="#Variable">Variable</a></code>.</p>
</div>


                            </div>
                            <div id="Variable.name" class="classattr">
                                            <div class="attr variable"><a class="headerlink" href="#Variable.name">#&nbsp;&nbsp</a>

        <span class="name">name</span><span class="default_value"> = &lt;attribute &#39;name&#39; of &#39;<a href="#_netCDF4.Variable">netCDF4._netCDF4.Variable</a>&#39; objects&gt;</span>
    </div>

            <div class="docstring"><p>string name of Variable instance</p>
</div>


                            </div>
                            <div id="Variable.datatype" class="classattr">
                                            <div class="attr variable"><a class="headerlink" href="#Variable.datatype">#&nbsp;&nbsp</a>

        <span class="name">datatype</span><span class="default_value"> = &lt;attribute &#39;datatype&#39; of &#39;<a href="#_netCDF4.Variable">netCDF4._netCDF4.Variable</a>&#39; objects&gt;</span>
    </div>

            <div class="docstring"><p>numpy data type (for primitive data types) or
VLType/CompoundType/EnumType instance 
(for compound, vlen  or enum data types)</p>
</div>


                            </div>
                            <div id="Variable.shape" class="classattr">
                                            <div class="attr variable"><a class="headerlink" href="#Variable.shape">#&nbsp;&nbsp</a>

        <span class="name">shape</span><span class="default_value"> = &lt;attribute &#39;shape&#39; of &#39;<a href="#_netCDF4.Variable">netCDF4._netCDF4.Variable</a>&#39; objects&gt;</span>
    </div>

            <div class="docstring"><p>find current sizes of all variable dimensions</p>
</div>


                            </div>
                            <div id="Variable.size" class="classattr">
                                            <div class="attr variable"><a class="headerlink" href="#Variable.size">#&nbsp;&nbsp</a>

        <span class="name">size</span><span class="default_value"> = &lt;attribute &#39;size&#39; of &#39;<a href="#_netCDF4.Variable">netCDF4._netCDF4.Variable</a>&#39; objects&gt;</span>
    </div>

            <div class="docstring"><p>Return the number of stored elements.</p>
</div>


                            </div>
                            <div id="Variable.dimensions" class="classattr">
                                            <div class="attr variable"><a class="headerlink" href="#Variable.dimensions">#&nbsp;&nbsp</a>

        <span class="name">dimensions</span><span class="default_value"> = &lt;attribute &#39;dimensions&#39; of &#39;<a href="#_netCDF4.Variable">netCDF4._netCDF4.Variable</a>&#39; objects&gt;</span>
    </div>

            <div class="docstring"><p>get variables's dimension names</p>
</div>


                            </div>
                            <div id="Variable.ndim" class="classattr">
                                            <div class="attr variable"><a class="headerlink" href="#Variable.ndim">#&nbsp;&nbsp</a>

        <span class="name">ndim</span><span class="default_value"> = &lt;attribute &#39;ndim&#39; of &#39;<a href="#_netCDF4.Variable">netCDF4._netCDF4.Variable</a>&#39; objects&gt;</span>
    </div>

    

                            </div>
                            <div id="Variable.dtype" class="classattr">
                                            <div class="attr variable"><a class="headerlink" href="#Variable.dtype">#&nbsp;&nbsp</a>

        <span class="name">dtype</span><span class="default_value"> = &lt;attribute &#39;dtype&#39; of &#39;<a href="#_netCDF4.Variable">netCDF4._netCDF4.Variable</a>&#39; objects&gt;</span>
    </div>

    

                            </div>
                            <div id="Variable.mask" class="classattr">
                                            <div class="attr variable"><a class="headerlink" href="#Variable.mask">#&nbsp;&nbsp</a>

        <span class="name">mask</span><span class="default_value"> = &lt;attribute &#39;mask&#39; of &#39;<a href="#_netCDF4.Variable">netCDF4._netCDF4.Variable</a>&#39; objects&gt;</span>
    </div>

    

                            </div>
                            <div id="Variable.scale" class="classattr">
                                            <div class="attr variable"><a class="headerlink" href="#Variable.scale">#&nbsp;&nbsp</a>

        <span class="name">scale</span><span class="default_value"> = &lt;attribute &#39;scale&#39; of &#39;<a href="#_netCDF4.Variable">netCDF4._netCDF4.Variable</a>&#39; objects&gt;</span>
    </div>

    

                            </div>
                            <div id="Variable.always_mask" class="classattr">
                                            <div class="attr variable"><a class="headerlink" href="#Variable.always_mask">#&nbsp;&nbsp</a>

        <span class="name">always_mask</span><span class="default_value"> = &lt;attribute &#39;always_mask&#39; of &#39;<a href="#_netCDF4.Variable">netCDF4._netCDF4.Variable</a>&#39; objects&gt;</span>
    </div>

    

                            </div>
                            <div id="Variable.chartostring" class="classattr">
                                            <div class="attr variable"><a class="headerlink" href="#Variable.chartostring">#&nbsp;&nbsp</a>

        <span class="name">chartostring</span><span class="default_value"> = &lt;attribute &#39;chartostring&#39; of &#39;<a href="#_netCDF4.Variable">netCDF4._netCDF4.Variable</a>&#39; objects&gt;</span>
    </div>

    

                            </div>
                </section>
                <section id="Dimension">
                                <div class="attr class">
        <a class="headerlink" href="#Dimension">#&nbsp;&nbsp</a>

        
        <span class="def">class</span>
        <span class="name">Dimension</span>:
    </div>

        
            <div class="docstring"><p>A netCDF <code><a href="#Dimension">Dimension</a></code> is used to describe the coordinates of a <code><a href="#Variable">Variable</a></code>.
See <code><a href="#Dimension.__init__">Dimension.__init__</a></code> for more details.</p>

<p>The current maximum size of a <code><a href="#Dimension">Dimension</a></code> instance can be obtained by
calling the python <code>len</code> function on the <code><a href="#Dimension">Dimension</a></code> instance. The
<code><a href="#Dimension.isunlimited">Dimension.isunlimited</a></code> method of a <code><a href="#Dimension">Dimension</a></code> instance can be used to
determine if the dimension is unlimited.</p>

<p>Read-only class variables:</p>

<p><strong><code><a href="#Dimension.name">name</a></code></strong>: String name, used when creating a <code><a href="#Variable">Variable</a></code> with
<code><a href="#Dataset.createVariable">Dataset.createVariable</a></code>.</p>

<p><strong><code><a href="#Dimension.size">size</a></code></strong>: Current <code><a href="#Dimension">Dimension</a></code> size (same as <code>len(d)</code>, where <code>d</code> is a
<code><a href="#Dimension">Dimension</a></code> instance).</p>
</div>


                            <div id="Dimension.__init__" class="classattr">
                                        <div class="attr function"><a class="headerlink" href="#Dimension.__init__">#&nbsp;&nbsp</a>

        
            <span class="name">Dimension</span><span class="signature">()</span>
    </div>

        
            <div class="docstring"><p><strong><code>__init__(self, group, name, size=None)</code></strong></p>

<p><code><a href="#Dimension">Dimension</a></code> constructor.</p>

<p><strong><code><a href="#Dimension.group">group</a></code></strong>: <code><a href="#Group">Group</a></code> instance to associate with dimension.</p>

<p><strong><code><a href="#Dimension.name">name</a></code></strong>: Name of the dimension.</p>

<p><strong><code><a href="#Dimension.size">size</a></code></strong>: Size of the dimension. <code>None</code> or 0 means unlimited. (Default <code>None</code>).</p>

<p><strong><em>Note</em></strong>: <code><a href="#Dimension">Dimension</a></code> instances should be created using the
<code><a href="#Dataset.createDimension">Dataset.createDimension</a></code> method of a <code><a href="#Group">Group</a></code> or
<code><a href="#Dataset">Dataset</a></code> instance, not using <code><a href="#Dimension.__init__">Dimension.__init__</a></code> directly.</p>
</div>


                            </div>
                            <div id="Dimension.group" class="classattr">
                                        <div class="attr function"><a class="headerlink" href="#Dimension.group">#&nbsp;&nbsp</a>

        
            <span class="def">def</span>
            <span class="name">group</span><span class="signature">(unknown)</span>:
    </div>

        
            <div class="docstring"><p><strong><code>group(self)</code></strong></p>

<p>return the group that this <code><a href="#Dimension">Dimension</a></code> is a member of.</p>
</div>


                            </div>
                            <div id="Dimension.isunlimited" class="classattr">
                                        <div class="attr function"><a class="headerlink" href="#Dimension.isunlimited">#&nbsp;&nbsp</a>

        
            <span class="def">def</span>
            <span class="name">isunlimited</span><span class="signature">(unknown)</span>:
    </div>

        
            <div class="docstring"><p><strong><code>isunlimited(self)</code></strong></p>

<p>returns <code>True</code> if the <code><a href="#Dimension">Dimension</a></code> instance is unlimited, <code>False</code> otherwise.</p>
</div>


                            </div>
                            <div id="Dimension.name" class="classattr">
                                            <div class="attr variable"><a class="headerlink" href="#Dimension.name">#&nbsp;&nbsp</a>

        <span class="name">name</span><span class="default_value"> = &lt;attribute &#39;name&#39; of &#39;<a href="#_netCDF4.Dimension">netCDF4._netCDF4.Dimension</a>&#39; objects&gt;</span>
    </div>

            <div class="docstring"><p>string name of Dimension instance</p>
</div>


                            </div>
                            <div id="Dimension.size" class="classattr">
                                            <div class="attr variable"><a class="headerlink" href="#Dimension.size">#&nbsp;&nbsp</a>

        <span class="name">size</span><span class="default_value"> = &lt;attribute &#39;size&#39; of &#39;<a href="#_netCDF4.Dimension">netCDF4._netCDF4.Dimension</a>&#39; objects&gt;</span>
    </div>

            <div class="docstring"><p>current size of Dimension (calls <code>len</code> on Dimension instance)</p>
</div>


                            </div>
                </section>
                <section id="Group">
                                <div class="attr class">
        <a class="headerlink" href="#Group">#&nbsp;&nbsp</a>

        
        <span class="def">class</span>
        <span class="name">Group</span><wbr>(<span class="base"><a href="#Dataset">netCDF4.Dataset</a></span>):
    </div>

        
            <div class="docstring"><p>Groups define a hierarchical namespace within a netCDF file. They are
analogous to directories in a unix filesystem. Each <code><a href="#Group">Group</a></code> behaves like
a <code><a href="#Dataset">Dataset</a></code> within a Dataset, and can contain it's own variables,
dimensions and attributes (and other Groups). See <code><a href="#Group.__init__">Group.__init__</a></code>
for more details.</p>

<p><code><a href="#Group">Group</a></code> inherits from <code><a href="#Dataset">Dataset</a></code>, so all the
<code><a href="#Dataset">Dataset</a></code> class methods and variables are available
to a <code><a href="#Group">Group</a></code> instance (except the <code><a href="#Group.close">close</a></code> method).</p>

<p>Additional read-only class variables:</p>

<p><strong><code><a href="#Group.name">name</a></code></strong>: String describing the group name.</p>
</div>


                            <div id="Group.__init__" class="classattr">
                                        <div class="attr function"><a class="headerlink" href="#Group.__init__">#&nbsp;&nbsp</a>

        
            <span class="name">Group</span><span class="signature">()</span>
    </div>

        
            <div class="docstring"><p><strong><code>__init__(self, parent, name)</code></strong>
<code><a href="#Group">Group</a></code> constructor.</p>

<p><strong><code><a href="#Group.parent">parent</a></code></strong>: <code><a href="#Group">Group</a></code> instance for the parent group.  If being created
in the root group, use a <code><a href="#Dataset">Dataset</a></code> instance.</p>

<p><strong><code><a href="#Group.name">name</a></code></strong>: - Name of the group.</p>

<p><strong><em>Note</em></strong>: <code><a href="#Group">Group</a></code> instances should be created using the
<code><a href="#Dataset.createGroup">Dataset.createGroup</a></code> method of a <code><a href="#Dataset">Dataset</a></code> instance, or
another <code><a href="#Group">Group</a></code> instance, not using this class directly.</p>
</div>


                            </div>
                            <div id="Group.close" class="classattr">
                                        <div class="attr function"><a class="headerlink" href="#Group.close">#&nbsp;&nbsp</a>

        
            <span class="def">def</span>
            <span class="name">close</span><span class="signature">(unknown)</span>:
    </div>

        
            <div class="docstring"><p><strong><code>close(self)</code></strong></p>

<p>overrides <code><a href="#Dataset">Dataset</a></code> close method which does not apply to <code><a href="#Group">Group</a></code>
instances, raises IOError.</p>
</div>


                            </div>
                            <div class="inherited">
                                <h5>Inherited Members</h5>
                                <dl>
                                    <div><dt><a href="#Dataset">Dataset</a></dt>
                                <dd id="Group.filepath" class="function"><a href="#Dataset.filepath">filepath</a></dd>
                <dd id="Group.isopen" class="function"><a href="#Dataset.isopen">isopen</a></dd>
                <dd id="Group.sync" class="function"><a href="#Dataset.sync">sync</a></dd>
                <dd id="Group.set_fill_on" class="function"><a href="#Dataset.set_fill_on">set_fill_on</a></dd>
                <dd id="Group.set_fill_off" class="function"><a href="#Dataset.set_fill_off">set_fill_off</a></dd>
                <dd id="Group.createDimension" class="function"><a href="#Dataset.createDimension">createDimension</a></dd>
                <dd id="Group.renameDimension" class="function"><a href="#Dataset.renameDimension">renameDimension</a></dd>
                <dd id="Group.createCompoundType" class="function"><a href="#Dataset.createCompoundType">createCompoundType</a></dd>
                <dd id="Group.createVLType" class="function"><a href="#Dataset.createVLType">createVLType</a></dd>
                <dd id="Group.createEnumType" class="function"><a href="#Dataset.createEnumType">createEnumType</a></dd>
                <dd id="Group.createVariable" class="function"><a href="#Dataset.createVariable">createVariable</a></dd>
                <dd id="Group.renameVariable" class="function"><a href="#Dataset.renameVariable">renameVariable</a></dd>
                <dd id="Group.createGroup" class="function"><a href="#Dataset.createGroup">createGroup</a></dd>
                <dd id="Group.ncattrs" class="function"><a href="#Dataset.ncattrs">ncattrs</a></dd>
                <dd id="Group.setncattr" class="function"><a href="#Dataset.setncattr">setncattr</a></dd>
                <dd id="Group.setncattr_string" class="function"><a href="#Dataset.setncattr_string">setncattr_string</a></dd>
                <dd id="Group.setncatts" class="function"><a href="#Dataset.setncatts">setncatts</a></dd>
                <dd id="Group.getncattr" class="function"><a href="#Dataset.getncattr">getncattr</a></dd>
                <dd id="Group.delncattr" class="function"><a href="#Dataset.delncattr">delncattr</a></dd>
                <dd id="Group.renameAttribute" class="function"><a href="#Dataset.renameAttribute">renameAttribute</a></dd>
                <dd id="Group.renameGroup" class="function"><a href="#Dataset.renameGroup">renameGroup</a></dd>
                <dd id="Group.set_auto_chartostring" class="function"><a href="#Dataset.set_auto_chartostring">set_auto_chartostring</a></dd>
                <dd id="Group.set_auto_maskandscale" class="function"><a href="#Dataset.set_auto_maskandscale">set_auto_maskandscale</a></dd>
                <dd id="Group.set_auto_mask" class="function"><a href="#Dataset.set_auto_mask">set_auto_mask</a></dd>
                <dd id="Group.set_auto_scale" class="function"><a href="#Dataset.set_auto_scale">set_auto_scale</a></dd>
                <dd id="Group.set_always_mask" class="function"><a href="#Dataset.set_always_mask">set_always_mask</a></dd>
                <dd id="Group.set_ncstring_attrs" class="function"><a href="#Dataset.set_ncstring_attrs">set_ncstring_attrs</a></dd>
                <dd id="Group.get_variables_by_attributes" class="function"><a href="#Dataset.get_variables_by_attributes">get_variables_by_attributes</a></dd>
                <dd id="Group.fromcdl" class="function"><a href="#Dataset.fromcdl">fromcdl</a></dd>
                <dd id="Group.tocdl" class="function"><a href="#Dataset.tocdl">tocdl</a></dd>
                <dd id="Group.name" class="variable"><a href="#Dataset.name">name</a></dd>
                <dd id="Group.groups" class="variable"><a href="#Dataset.groups">groups</a></dd>
                <dd id="Group.dimensions" class="variable"><a href="#Dataset.dimensions">dimensions</a></dd>
                <dd id="Group.variables" class="variable"><a href="#Dataset.variables">variables</a></dd>
                <dd id="Group.disk_format" class="variable"><a href="#Dataset.disk_format">disk_format</a></dd>
                <dd id="Group.path" class="variable"><a href="#Dataset.path">path</a></dd>
                <dd id="Group.parent" class="variable"><a href="#Dataset.parent">parent</a></dd>
                <dd id="Group.file_format" class="variable"><a href="#Dataset.file_format">file_format</a></dd>
                <dd id="Group.data_model" class="variable"><a href="#Dataset.data_model">data_model</a></dd>
                <dd id="Group.cmptypes" class="variable"><a href="#Dataset.cmptypes">cmptypes</a></dd>
                <dd id="Group.vltypes" class="variable"><a href="#Dataset.vltypes">vltypes</a></dd>
                <dd id="Group.enumtypes" class="variable"><a href="#Dataset.enumtypes">enumtypes</a></dd>
                <dd id="Group.keepweakref" class="variable"><a href="#Dataset.keepweakref">keepweakref</a></dd>

            </div>
                                </dl>
                            </div>
                </section>
                <section id="MFDataset">
                                <div class="attr class">
        <a class="headerlink" href="#MFDataset">#&nbsp;&nbsp</a>

        
        <span class="def">class</span>
        <span class="name">MFDataset</span><wbr>(<span class="base"><a href="#Dataset">netCDF4.Dataset</a></span>):
    </div>

        
            <div class="docstring"><p>Class for reading multi-file netCDF Datasets, making variables
spanning multiple files appear as if they were in one file.
Datasets must be in <code>NETCDF4_CLASSIC, NETCDF3_CLASSIC, NETCDF3_64BIT_OFFSET
or NETCDF3_64BIT_DATA</code> format (<code>NETCDF4</code> Datasets won't work).</p>

<p>Adapted from <a href="http://pysclint.sourceforge.net/pycdf">pycdf</a> by Andre Gosselin.</p>

<p>Example usage (See <code><a href="#MFDataset.__init__">MFDataset.__init__</a></code> for more details):</p>

<div class="codehilite"><pre><span></span><code><span class="o">&gt;&gt;&gt;</span> <span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="o">&gt;&gt;&gt;</span> <span class="c1"># create a series of netCDF files with a variable sharing</span>
<span class="o">&gt;&gt;&gt;</span> <span class="c1"># the same unlimited dimension.</span>
<span class="o">&gt;&gt;&gt;</span> <span class="k">for</span> <span class="n">nf</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">10</span><span class="p">):</span>
<span class="o">...</span>     <span class="k">with</span> <span class="n">Dataset</span><span class="p">(</span><span class="s2">&quot;mftest</span><span class="si">%s</span><span class="s2">.nc&quot;</span> <span class="o">%</span> <span class="n">nf</span><span class="p">,</span> <span class="s2">&quot;w&quot;</span><span class="p">,</span> <span class="nb">format</span><span class="o">=</span><span class="s1">&#39;NETCDF4_CLASSIC&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
<span class="o">...</span>         <span class="n">f</span><span class="o">.</span><span class="n">createDimension</span><span class="p">(</span><span class="s2">&quot;x&quot;</span><span class="p">,</span><span class="kc">None</span><span class="p">)</span>
<span class="o">...</span>         <span class="n">x</span> <span class="o">=</span> <span class="n">f</span><span class="o">.</span><span class="n">createVariable</span><span class="p">(</span><span class="s2">&quot;x&quot;</span><span class="p">,</span><span class="s2">&quot;i&quot;</span><span class="p">,(</span><span class="s2">&quot;x&quot;</span><span class="p">,))</span>
<span class="o">...</span>         <span class="n">x</span><span class="p">[</span><span class="mi">0</span><span class="p">:</span><span class="mi">10</span><span class="p">]</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="n">nf</span><span class="o">*</span><span class="mi">10</span><span class="p">,</span><span class="mi">10</span><span class="o">*</span><span class="p">(</span><span class="n">nf</span><span class="o">+</span><span class="mi">1</span><span class="p">))</span>
<span class="o">&gt;&gt;&gt;</span> <span class="c1"># now read all those files in at once, in one Dataset.</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">f</span> <span class="o">=</span> <span class="n">MFDataset</span><span class="p">(</span><span class="s2">&quot;mftest*nc&quot;</span><span class="p">)</span>
<span class="o">&gt;&gt;&gt;</span> <span class="nb">print</span><span class="p">(</span><span class="n">f</span><span class="o">.</span><span class="n">variables</span><span class="p">[</span><span class="s2">&quot;x&quot;</span><span class="p">][:])</span>
<span class="p">[</span> <span class="mi">0</span>  <span class="mi">1</span>  <span class="mi">2</span>  <span class="mi">3</span>  <span class="mi">4</span>  <span class="mi">5</span>  <span class="mi">6</span>  <span class="mi">7</span>  <span class="mi">8</span>  <span class="mi">9</span> <span class="mi">10</span> <span class="mi">11</span> <span class="mi">12</span> <span class="mi">13</span> <span class="mi">14</span> <span class="mi">15</span> <span class="mi">16</span> <span class="mi">17</span> <span class="mi">18</span> <span class="mi">19</span> <span class="mi">20</span> <span class="mi">21</span> <span class="mi">22</span> <span class="mi">23</span>
 <span class="mi">24</span> <span class="mi">25</span> <span class="mi">26</span> <span class="mi">27</span> <span class="mi">28</span> <span class="mi">29</span> <span class="mi">30</span> <span class="mi">31</span> <span class="mi">32</span> <span class="mi">33</span> <span class="mi">34</span> <span class="mi">35</span> <span class="mi">36</span> <span class="mi">37</span> <span class="mi">38</span> <span class="mi">39</span> <span class="mi">40</span> <span class="mi">41</span> <span class="mi">42</span> <span class="mi">43</span> <span class="mi">44</span> <span class="mi">45</span> <span class="mi">46</span> <span class="mi">47</span>
 <span class="mi">48</span> <span class="mi">49</span> <span class="mi">50</span> <span class="mi">51</span> <span class="mi">52</span> <span class="mi">53</span> <span class="mi">54</span> <span class="mi">55</span> <span class="mi">56</span> <span class="mi">57</span> <span class="mi">58</span> <span class="mi">59</span> <span class="mi">60</span> <span class="mi">61</span> <span class="mi">62</span> <span class="mi">63</span> <span class="mi">64</span> <span class="mi">65</span> <span class="mi">66</span> <span class="mi">67</span> <span class="mi">68</span> <span class="mi">69</span> <span class="mi">70</span> <span class="mi">71</span>
 <span class="mi">72</span> <span class="mi">73</span> <span class="mi">74</span> <span class="mi">75</span> <span class="mi">76</span> <span class="mi">77</span> <span class="mi">78</span> <span class="mi">79</span> <span class="mi">80</span> <span class="mi">81</span> <span class="mi">82</span> <span class="mi">83</span> <span class="mi">84</span> <span class="mi">85</span> <span class="mi">86</span> <span class="mi">87</span> <span class="mi">88</span> <span class="mi">89</span> <span class="mi">90</span> <span class="mi">91</span> <span class="mi">92</span> <span class="mi">93</span> <span class="mi">94</span> <span class="mi">95</span>
 <span class="mi">96</span> <span class="mi">97</span> <span class="mi">98</span> <span class="mi">99</span><span class="p">]</span>
</code></pre></div>
</div>


                            <div id="MFDataset.__init__" class="classattr">
                                        <div class="attr function"><a class="headerlink" href="#MFDataset.__init__">#&nbsp;&nbsp</a>

        
            <span class="name">MFDataset</span><span class="signature">(files, check=False, aggdim=None, exclude=[], master_file=None)</span>
    </div>

        
            <div class="docstring"><p><strong><code>__init__(self, files, check=False, aggdim=None, exclude=[],
master_file=None)</code></strong></p>

<p>Open a Dataset spanning multiple files, making it look as if it was a
single file. Variables in the list of files that share the same
dimension (specified with the keyword <code>aggdim</code>) are aggregated. If
<code>aggdim</code> is not specified, the unlimited is aggregated.  Currently,
<code>aggdim</code> must be the leftmost (slowest varying) dimension of each
of the variables to be aggregated.</p>

<p><strong><code>files</code></strong>: either a sequence of netCDF files or a string with a
wildcard (converted to a sorted list of files using glob)  If
the <code>master_file</code> kwarg is not specified, the first file
in the list will become the "master" file, defining all the
variables with an aggregation dimension which may span
subsequent files. Attribute access returns attributes only from "master"
file. The files are always opened in read-only mode.</p>

<p><strong><code>check</code></strong>: True if you want to do consistency checking to ensure the
correct variables structure for all of the netcdf files.  Checking makes
the initialization of the MFDataset instance much slower. Default is
False.</p>

<p><strong><code>aggdim</code></strong>: The name of the dimension to aggregate over (must
be the leftmost dimension of each of the variables to be aggregated).
If None (default), aggregate over the unlimited dimension.</p>

<p><strong><code>exclude</code></strong>: A list of variable names to exclude from aggregation.
Default is an empty list.</p>

<p><strong><code>master_file</code></strong>: file to use as "master file", defining all the
variables with an aggregation dimension and all global attributes.</p>
</div>


                            </div>
                            <div id="MFDataset.ncattrs" class="classattr">
                                        <div class="attr function"><a class="headerlink" href="#MFDataset.ncattrs">#&nbsp;&nbsp</a>

        
            <span class="def">def</span>
            <span class="name">ncattrs</span><span class="signature">(self)</span>:
    </div>

        
            <div class="docstring"><p><strong><code>ncattrs(self)</code></strong></p>

<p>return the netcdf attribute names from the master file.</p>
</div>


                            </div>
                            <div id="MFDataset.close" class="classattr">
                                        <div class="attr function"><a class="headerlink" href="#MFDataset.close">#&nbsp;&nbsp</a>

        
            <span class="def">def</span>
            <span class="name">close</span><span class="signature">(self)</span>:
    </div>

        
            <div class="docstring"><p><strong><code>close(self)</code></strong></p>

<p>close all the open files.</p>
</div>


                            </div>
                            <div class="inherited">
                                <h5>Inherited Members</h5>
                                <dl>
                                    <div><dt><a href="#Dataset">Dataset</a></dt>
                                <dd id="MFDataset.filepath" class="function"><a href="#Dataset.filepath">filepath</a></dd>
                <dd id="MFDataset.isopen" class="function"><a href="#Dataset.isopen">isopen</a></dd>
                <dd id="MFDataset.sync" class="function"><a href="#Dataset.sync">sync</a></dd>
                <dd id="MFDataset.set_fill_on" class="function"><a href="#Dataset.set_fill_on">set_fill_on</a></dd>
                <dd id="MFDataset.set_fill_off" class="function"><a href="#Dataset.set_fill_off">set_fill_off</a></dd>
                <dd id="MFDataset.createDimension" class="function"><a href="#Dataset.createDimension">createDimension</a></dd>
                <dd id="MFDataset.renameDimension" class="function"><a href="#Dataset.renameDimension">renameDimension</a></dd>
                <dd id="MFDataset.createCompoundType" class="function"><a href="#Dataset.createCompoundType">createCompoundType</a></dd>
                <dd id="MFDataset.createVLType" class="function"><a href="#Dataset.createVLType">createVLType</a></dd>
                <dd id="MFDataset.createEnumType" class="function"><a href="#Dataset.createEnumType">createEnumType</a></dd>
                <dd id="MFDataset.createVariable" class="function"><a href="#Dataset.createVariable">createVariable</a></dd>
                <dd id="MFDataset.renameVariable" class="function"><a href="#Dataset.renameVariable">renameVariable</a></dd>
                <dd id="MFDataset.createGroup" class="function"><a href="#Dataset.createGroup">createGroup</a></dd>
                <dd id="MFDataset.setncattr" class="function"><a href="#Dataset.setncattr">setncattr</a></dd>
                <dd id="MFDataset.setncattr_string" class="function"><a href="#Dataset.setncattr_string">setncattr_string</a></dd>
                <dd id="MFDataset.setncatts" class="function"><a href="#Dataset.setncatts">setncatts</a></dd>
                <dd id="MFDataset.getncattr" class="function"><a href="#Dataset.getncattr">getncattr</a></dd>
                <dd id="MFDataset.delncattr" class="function"><a href="#Dataset.delncattr">delncattr</a></dd>
                <dd id="MFDataset.renameAttribute" class="function"><a href="#Dataset.renameAttribute">renameAttribute</a></dd>
                <dd id="MFDataset.renameGroup" class="function"><a href="#Dataset.renameGroup">renameGroup</a></dd>
                <dd id="MFDataset.set_auto_chartostring" class="function"><a href="#Dataset.set_auto_chartostring">set_auto_chartostring</a></dd>
                <dd id="MFDataset.set_auto_maskandscale" class="function"><a href="#Dataset.set_auto_maskandscale">set_auto_maskandscale</a></dd>
                <dd id="MFDataset.set_auto_mask" class="function"><a href="#Dataset.set_auto_mask">set_auto_mask</a></dd>
                <dd id="MFDataset.set_auto_scale" class="function"><a href="#Dataset.set_auto_scale">set_auto_scale</a></dd>
                <dd id="MFDataset.set_always_mask" class="function"><a href="#Dataset.set_always_mask">set_always_mask</a></dd>
                <dd id="MFDataset.set_ncstring_attrs" class="function"><a href="#Dataset.set_ncstring_attrs">set_ncstring_attrs</a></dd>
                <dd id="MFDataset.get_variables_by_attributes" class="function"><a href="#Dataset.get_variables_by_attributes">get_variables_by_attributes</a></dd>
                <dd id="MFDataset.fromcdl" class="function"><a href="#Dataset.fromcdl">fromcdl</a></dd>
                <dd id="MFDataset.tocdl" class="function"><a href="#Dataset.tocdl">tocdl</a></dd>
                <dd id="MFDataset.name" class="variable"><a href="#Dataset.name">name</a></dd>
                <dd id="MFDataset.groups" class="variable"><a href="#Dataset.groups">groups</a></dd>
                <dd id="MFDataset.dimensions" class="variable"><a href="#Dataset.dimensions">dimensions</a></dd>
                <dd id="MFDataset.variables" class="variable"><a href="#Dataset.variables">variables</a></dd>
                <dd id="MFDataset.disk_format" class="variable"><a href="#Dataset.disk_format">disk_format</a></dd>
                <dd id="MFDataset.path" class="variable"><a href="#Dataset.path">path</a></dd>
                <dd id="MFDataset.parent" class="variable"><a href="#Dataset.parent">parent</a></dd>
                <dd id="MFDataset.file_format" class="variable"><a href="#Dataset.file_format">file_format</a></dd>
                <dd id="MFDataset.data_model" class="variable"><a href="#Dataset.data_model">data_model</a></dd>
                <dd id="MFDataset.cmptypes" class="variable"><a href="#Dataset.cmptypes">cmptypes</a></dd>
                <dd id="MFDataset.vltypes" class="variable"><a href="#Dataset.vltypes">vltypes</a></dd>
                <dd id="MFDataset.enumtypes" class="variable"><a href="#Dataset.enumtypes">enumtypes</a></dd>
                <dd id="MFDataset.keepweakref" class="variable"><a href="#Dataset.keepweakref">keepweakref</a></dd>

            </div>
                                </dl>
                            </div>
                </section>
                <section id="MFTime">
                                <div class="attr class">
        <a class="headerlink" href="#MFTime">#&nbsp;&nbsp</a>

        
        <span class="def">class</span>
        <span class="name">MFTime</span><wbr>(<span class="base">netCDF4._netCDF4._Variable</span>):
    </div>

        
            <div class="docstring"><p>Class providing an interface to a MFDataset time Variable by imposing a unique common
time unit and/or calendar to all files.</p>

<p>Example usage (See <code><a href="#MFTime.__init__">MFTime.__init__</a></code> for more details):</p>

<div class="codehilite"><pre><span></span><code><span class="o">&gt;&gt;&gt;</span> <span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">f1</span> <span class="o">=</span> <span class="n">Dataset</span><span class="p">(</span><span class="s2">&quot;mftest_1.nc&quot;</span><span class="p">,</span><span class="s2">&quot;w&quot;</span><span class="p">,</span> <span class="nb">format</span><span class="o">=</span><span class="s2">&quot;NETCDF4_CLASSIC&quot;</span><span class="p">)</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">f2</span> <span class="o">=</span> <span class="n">Dataset</span><span class="p">(</span><span class="s2">&quot;mftest_2.nc&quot;</span><span class="p">,</span><span class="s2">&quot;w&quot;</span><span class="p">,</span> <span class="nb">format</span><span class="o">=</span><span class="s2">&quot;NETCDF4_CLASSIC&quot;</span><span class="p">)</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">f1</span><span class="o">.</span><span class="n">createDimension</span><span class="p">(</span><span class="s2">&quot;time&quot;</span><span class="p">,</span><span class="kc">None</span><span class="p">)</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">f2</span><span class="o">.</span><span class="n">createDimension</span><span class="p">(</span><span class="s2">&quot;time&quot;</span><span class="p">,</span><span class="kc">None</span><span class="p">)</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">t1</span> <span class="o">=</span> <span class="n">f1</span><span class="o">.</span><span class="n">createVariable</span><span class="p">(</span><span class="s2">&quot;time&quot;</span><span class="p">,</span><span class="s2">&quot;i&quot;</span><span class="p">,(</span><span class="s2">&quot;time&quot;</span><span class="p">,))</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">t2</span> <span class="o">=</span> <span class="n">f2</span><span class="o">.</span><span class="n">createVariable</span><span class="p">(</span><span class="s2">&quot;time&quot;</span><span class="p">,</span><span class="s2">&quot;i&quot;</span><span class="p">,(</span><span class="s2">&quot;time&quot;</span><span class="p">,))</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">t1</span><span class="o">.</span><span class="n">units</span> <span class="o">=</span> <span class="s2">&quot;days since 2000-01-01&quot;</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">t2</span><span class="o">.</span><span class="n">units</span> <span class="o">=</span> <span class="s2">&quot;days since 2000-02-01&quot;</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">t1</span><span class="o">.</span><span class="n">calendar</span> <span class="o">=</span> <span class="s2">&quot;standard&quot;</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">t2</span><span class="o">.</span><span class="n">calendar</span> <span class="o">=</span> <span class="s2">&quot;standard&quot;</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">t1</span><span class="p">[:]</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="mi">31</span><span class="p">)</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">t2</span><span class="p">[:]</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="mi">30</span><span class="p">)</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">f1</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">f2</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
<span class="o">&gt;&gt;&gt;</span> <span class="c1"># Read the two files in at once, in one Dataset.</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">f</span> <span class="o">=</span> <span class="n">MFDataset</span><span class="p">(</span><span class="s2">&quot;mftest_*nc&quot;</span><span class="p">)</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">t</span> <span class="o">=</span> <span class="n">f</span><span class="o">.</span><span class="n">variables</span><span class="p">[</span><span class="s2">&quot;time&quot;</span><span class="p">]</span>
<span class="o">&gt;&gt;&gt;</span> <span class="nb">print</span><span class="p">(</span><span class="n">t</span><span class="o">.</span><span class="n">units</span><span class="p">)</span>
<span class="n">days</span> <span class="n">since</span> <span class="mi">2000</span><span class="o">-</span><span class="mi">01</span><span class="o">-</span><span class="mi">01</span>
<span class="o">&gt;&gt;&gt;</span> <span class="nb">print</span><span class="p">(</span><span class="n">t</span><span class="p">[</span><span class="mi">32</span><span class="p">])</span>  <span class="c1"># The value written in the file, inconsistent with the MF time units.</span>
<span class="mi">1</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">T</span> <span class="o">=</span> <span class="n">MFTime</span><span class="p">(</span><span class="n">t</span><span class="p">)</span>
<span class="o">&gt;&gt;&gt;</span> <span class="nb">print</span><span class="p">(</span><span class="n">T</span><span class="p">[</span><span class="mi">32</span><span class="p">])</span>
<span class="mi">32</span>
</code></pre></div>
</div>


                            <div id="MFTime.__init__" class="classattr">
                                        <div class="attr function"><a class="headerlink" href="#MFTime.__init__">#&nbsp;&nbsp</a>

        
            <span class="name">MFTime</span><span class="signature">(time, units=None, calendar=None)</span>
    </div>

        
            <div class="docstring"><p><strong><code>__init__(self, time, units=None, calendar=None)</code></strong></p>

<p>Create a time Variable with units consistent across a multifile
dataset.</p>

<p><strong><code>time</code></strong>: Time variable from a <code><a href="#MFDataset">MFDataset</a></code>.</p>

<p><strong><code>units</code></strong>: Time units, for example, <code>'days since 1979-01-01'</code>. If <code>None</code>,
use the units from the master variable.</p>

<p><strong><code>calendar</code></strong>: Calendar overload to use across all files, for example,
<code>'standard'</code> or <code>'gregorian'</code>. If <code>None</code>, check that the calendar attribute
is present on each variable and values are unique across files raising a
<code>ValueError</code> otherwise.</p>
</div>


                            </div>
                            <div class="inherited">
                                <h5>Inherited Members</h5>
                                <dl>
                                    <div><dt>netCDF4._netCDF4._Variable</dt>
                                <dd id="MFTime.typecode" class="function">typecode</dd>
                <dd id="MFTime.ncattrs" class="function">ncattrs</dd>
                <dd id="MFTime.set_auto_chartostring" class="function">set_auto_chartostring</dd>
                <dd id="MFTime.set_auto_maskandscale" class="function">set_auto_maskandscale</dd>
                <dd id="MFTime.set_auto_mask" class="function">set_auto_mask</dd>
                <dd id="MFTime.set_auto_scale" class="function">set_auto_scale</dd>
                <dd id="MFTime.set_always_mask" class="function">set_always_mask</dd>

            </div>
                                </dl>
                            </div>
                </section>
                <section id="CompoundType">
                                <div class="attr class">
        <a class="headerlink" href="#CompoundType">#&nbsp;&nbsp</a>

        
        <span class="def">class</span>
        <span class="name">CompoundType</span>:
    </div>

        
            <div class="docstring"><p>A <code><a href="#CompoundType">CompoundType</a></code> instance is used to describe a compound data
type, and can be passed to the the <code><a href="#Dataset.createVariable">Dataset.createVariable</a></code> method of
a <code><a href="#Dataset">Dataset</a></code> or <code><a href="#Group">Group</a></code> instance.
Compound data types map to numpy structured arrays.
See <code><a href="#CompoundType.__init__">CompoundType.__init__</a></code> for more details.</p>

<p>The instance variables <code><a href="#CompoundType.dtype">dtype</a></code> and <code><a href="#CompoundType.name">name</a></code> should not be modified by
the user.</p>
</div>


                            <div id="CompoundType.__init__" class="classattr">
                                        <div class="attr function"><a class="headerlink" href="#CompoundType.__init__">#&nbsp;&nbsp</a>

        
            <span class="name">CompoundType</span><span class="signature">()</span>
    </div>

        
            <div class="docstring"><p><strong><em><code>__init__(group, datatype, datatype_name)</code></em></strong></p>

<p>CompoundType constructor.</p>

<p><strong><code>group</code></strong>: <code><a href="#Group">Group</a></code> instance to associate with the compound datatype.</p>

<p><strong><code>datatype</code></strong>: A numpy dtype object describing a structured (a.k.a record)
array.  Can be composed of homogeneous numeric or character data types, or
other structured array data types.</p>

<p><strong><code>datatype_name</code></strong>: a Python string containing a description of the
compound data type.</p>

<p><strong><em>Note 1</em></strong>: When creating nested compound data types,
the inner compound data types must already be associated with CompoundType
instances (so create CompoundType instances for the innermost structures
first).</p>

<p><strong><em>Note 2</em></strong>: <code><a href="#CompoundType">CompoundType</a></code> instances should be created using the
<code><a href="#Dataset.createCompoundType">Dataset.createCompoundType</a></code> method of a <code><a href="#Dataset">Dataset</a></code> or
<code><a href="#Group">Group</a></code> instance, not using this class directly.</p>
</div>


                            </div>
                            <div id="CompoundType.dtype" class="classattr">
                                            <div class="attr variable"><a class="headerlink" href="#CompoundType.dtype">#&nbsp;&nbsp</a>

        <span class="name">dtype</span><span class="default_value"> = &lt;attribute &#39;dtype&#39; of &#39;<a href="#_netCDF4.CompoundType">netCDF4._netCDF4.CompoundType</a>&#39; objects&gt;</span>
    </div>

    

                            </div>
                            <div id="CompoundType.dtype_view" class="classattr">
                                            <div class="attr variable"><a class="headerlink" href="#CompoundType.dtype_view">#&nbsp;&nbsp</a>

        <span class="name">dtype_view</span><span class="default_value"> = &lt;attribute &#39;dtype_view&#39; of &#39;<a href="#_netCDF4.CompoundType">netCDF4._netCDF4.CompoundType</a>&#39; objects&gt;</span>
    </div>

    

                            </div>
                            <div id="CompoundType.name" class="classattr">
                                            <div class="attr variable"><a class="headerlink" href="#CompoundType.name">#&nbsp;&nbsp</a>

        <span class="name">name</span><span class="default_value"> = &lt;attribute &#39;name&#39; of &#39;<a href="#_netCDF4.CompoundType">netCDF4._netCDF4.CompoundType</a>&#39; objects&gt;</span>
    </div>

    

                            </div>
                </section>
                <section id="VLType">
                                <div class="attr class">
        <a class="headerlink" href="#VLType">#&nbsp;&nbsp</a>

        
        <span class="def">class</span>
        <span class="name">VLType</span>:
    </div>

        
            <div class="docstring"><p>A <code><a href="#VLType">VLType</a></code> instance is used to describe a variable length (VLEN) data
type, and can be passed to the the <code><a href="#Dataset.createVariable">Dataset.createVariable</a></code> method of
a <code><a href="#Dataset">Dataset</a></code> or <code><a href="#Group">Group</a></code> instance. See
<code><a href="#VLType.__init__">VLType.__init__</a></code> for more details.</p>

<p>The instance variables <code><a href="#VLType.dtype">dtype</a></code> and <code><a href="#VLType.name">name</a></code> should not be modified by
the user.</p>
</div>


                            <div id="VLType.__init__" class="classattr">
                                        <div class="attr function"><a class="headerlink" href="#VLType.__init__">#&nbsp;&nbsp</a>

        
            <span class="name">VLType</span><span class="signature">()</span>
    </div>

        
            <div class="docstring"><p><strong><code>__init__(group, datatype, datatype_name)</code></strong></p>

<p>VLType constructor.</p>

<p><strong><code>group</code></strong>: <code><a href="#Group">Group</a></code> instance to associate with the VLEN datatype.</p>

<p><strong><code>datatype</code></strong>: An numpy dtype object describing the component type for the
variable length array.</p>

<p><strong><code>datatype_name</code></strong>: a Python string containing a description of the
VLEN data type.</p>

<p><strong><em><code>Note</code></em></strong>: <code><a href="#VLType">VLType</a></code> instances should be created using the
<code><a href="#Dataset.createVLType">Dataset.createVLType</a></code> method of a <code><a href="#Dataset">Dataset</a></code> or
<code><a href="#Group">Group</a></code> instance, not using this class directly.</p>
</div>


                            </div>
                            <div id="VLType.dtype" class="classattr">
                                            <div class="attr variable"><a class="headerlink" href="#VLType.dtype">#&nbsp;&nbsp</a>

        <span class="name">dtype</span><span class="default_value"> = &lt;attribute &#39;dtype&#39; of &#39;<a href="#_netCDF4.VLType">netCDF4._netCDF4.VLType</a>&#39; objects&gt;</span>
    </div>

    

                            </div>
                            <div id="VLType.name" class="classattr">
                                            <div class="attr variable"><a class="headerlink" href="#VLType.name">#&nbsp;&nbsp</a>

        <span class="name">name</span><span class="default_value"> = &lt;attribute &#39;name&#39; of &#39;<a href="#_netCDF4.VLType">netCDF4._netCDF4.VLType</a>&#39; objects&gt;</span>
    </div>

    

                            </div>
                </section>
                <section id="date2num">
                            <div class="attr function"><a class="headerlink" href="#date2num">#&nbsp;&nbsp</a>

        
            <span class="def">def</span>
            <span class="name">date2num</span><span class="signature">(unknown)</span>:
    </div>

        
            <div class="docstring"><p>date2num(dates, units, calendar=None, has_year_zero=None)</p>

<p>Return numeric time values given datetime objects. The units
of the numeric time values are described by the <strong>units</strong> argument
and the <strong>calendar</strong> keyword. The datetime objects must
be in UTC with no time-zone offset.  If there is a
time-zone offset in <strong>units</strong>, it will be applied to the
returned numeric values.</p>

<p><strong>dates</strong>: A datetime object or a sequence of datetime objects.
The datetime objects should not include a time-zone offset. They
can be either native python datetime instances (which use
the proleptic gregorian calendar) or cftime.datetime instances.</p>

<p><strong>units</strong>: a string of the form <strong><time units> since <reference time></strong>
describing the time units. <strong><time units></strong> can be days, hours, minutes,
seconds, milliseconds or microseconds. <strong><reference time></strong> is the time
origin. <strong>months_since</strong> is allowed <em>only</em> for the <strong>360_day</strong> calendar.</p>

<p><strong>calendar</strong>: describes the calendar to be used in the time calculations.
All the values currently defined in the
<code>CF metadata convention &lt;http://cfconventions.org&gt;</code>__ are supported.
Valid calendars <strong>'standard', 'gregorian', 'proleptic_gregorian'
'noleap', '365_day', '360_day', 'julian', 'all_leap', '366_day'</strong>.
Default is <code>None</code> which means the calendar associated with the first
input datetime instance will be used.</p>

<p><strong>has_year_zero</strong>: If set to True, astronomical year numbering
is used and the year zero exists.  If set to False for real-world
calendars, then historical year numbering is used and the year 1 is
preceded by year -1 and no year zero exists.
The defaults are False for real-world calendars
and True for idealized calendars.
The defaults can only be over-ridden for the real-world calendars,
for the the idealized calendars the year zero 
always exists and the has_year_zero kwarg is ignored.
This kwarg is not needed to define calendar systems allowed by CF
(the calendar-specific defaults do this).</p>

<p>returns a numeric time value, or an array of numeric time values
with approximately 1 microsecond accuracy.</p>
</div>


                </section>
                <section id="num2date">
                            <div class="attr function"><a class="headerlink" href="#num2date">#&nbsp;&nbsp</a>

        
            <span class="def">def</span>
            <span class="name">num2date</span><span class="signature">(unknown)</span>:
    </div>

        
            <div class="docstring"><p>num2date(times, units, calendar=u'standard', only_use_cftime_datetimes=True, only_use_python_datetimes=False, has_year_zero=None)</p>

<p>Return datetime objects given numeric time values. The units
of the numeric time values are described by the <strong>units</strong> argument
and the <strong>calendar</strong> keyword. The returned datetime objects represent
UTC with no time-zone offset, even if the specified
<strong>units</strong> contain a time-zone offset.</p>

<p><strong>times</strong>: numeric time values.</p>

<p><strong>units</strong>: a string of the form <strong><time units> since <reference time></strong>
describing the time units. <strong><time units></strong> can be days, hours, minutes,
seconds, milliseconds or microseconds. <strong><reference time></strong> is the time
origin. <strong>months_since</strong> is allowed <em>only</em> for the <strong>360_day</strong> calendar.</p>

<p><strong>calendar</strong>: describes the calendar used in the time calculations.
All the values currently defined in the
<code>CF metadata convention &lt;http://cfconventions.org&gt;</code>__ are supported.
Valid calendars <strong>'standard', 'gregorian', 'proleptic_gregorian'
'noleap', '365_day', '360_day', 'julian', 'all_leap', '366_day'</strong>.
Default is <strong>'standard'</strong>, which is a mixed Julian/Gregorian calendar.</p>

<p><strong>only_use_cftime_datetimes</strong>: if False, python datetime.datetime
objects are returned from num2date where possible; if True dates which
subclass cftime.datetime are returned for all calendars. Default <strong>True</strong>.</p>

<p><strong>only_use_python_datetimes</strong>: always return python datetime.datetime
objects and raise an error if this is not possible. Ignored unless
<strong>only_use_cftime_datetimes=False</strong>. Default <strong>False</strong>.</p>

<p><strong>has_year_zero</strong>: if set to True, astronomical year numbering
is used and the year zero exists.  If set to False for real-world
calendars, then historical year numbering is used and the year 1 is
preceded by year -1 and no year zero exists.
The defaults are False for real-world calendars
and True for idealized calendars.
The defaults can only be over-ridden for the real-world calendars,
for the the idealized calendars the year zero 
always exists and the has_year_zero kwarg is ignored.
This kwarg is not needed to define calendar systems allowed by CF
(the calendar-specific defaults do this).</p>

<p>returns a datetime instance, or an array of datetime instances with
microsecond accuracy, if possible.</p>

<p><strong><em>Note</em></strong>: If only_use_cftime_datetimes=False and
use_only_python_datetimes=False, the datetime instances
returned are 'real' python datetime
objects if <strong>calendar='proleptic_gregorian'</strong>, or
<strong>calendar='standard'</strong> or <strong>'gregorian'</strong>
and the date is after the breakpoint between the Julian and
Gregorian calendars (1582-10-15). Otherwise, they are ctime.datetime
objects which support some but not all the methods of native python
datetime objects. The datetime instances
do not contain a time-zone offset, even if the specified <strong>units</strong>
contains one.</p>
</div>


                </section>
                <section id="date2index">
                            <div class="attr function"><a class="headerlink" href="#date2index">#&nbsp;&nbsp</a>

        
            <span class="def">def</span>
            <span class="name">date2index</span><span class="signature">(unknown)</span>:
    </div>

        
            <div class="docstring"><p>date2index(dates, nctime, calendar=None, select=u'exact', has_year_zero=None)</p>

<p>Return indices of a netCDF time variable corresponding to the given dates.</p>

<p><strong>dates</strong>: A datetime object or a sequence of datetime objects.
The datetime objects should not include a time-zone offset.</p>

<p><strong>nctime</strong>: A netCDF time variable object. The nctime object must have a
<strong>units</strong> attribute.</p>

<p><strong>calendar</strong>: describes the calendar to be used in the time calculations.
All the values currently defined in the
<code>CF metadata convention &lt;http://cfconventions.org&gt;</code>__ are supported.
Valid calendars <strong>'standard', 'gregorian', 'proleptic_gregorian'
'noleap', '365_day', '360_day', 'julian', 'all_leap', '366_day'</strong>.
Default is <code>None</code> which means the calendar associated with the first
input datetime instance will be used.</p>

<p><strong>select</strong>: <strong>'exact', 'before', 'after', 'nearest'</strong>
The index selection method. <strong>exact</strong> will return the indices perfectly
matching the dates given. <strong>before</strong> and <strong>after</strong> will return the indices
corresponding to the dates just before or just after the given dates if
an exact match cannot be found. <strong>nearest</strong> will return the indices that
correspond to the closest dates.</p>

<p><strong>has_year_zero</strong>: if set to True, astronomical year numbering
is used and the year zero exists.  If set to False for real-world
calendars, then historical year numbering is used and the year 1 is
preceded by year -1 and no year zero exists.
The defaults are False for real-world calendars
and True for idealized calendars.
The defaults can only be over-ridden for the real-world calendars,
for the the idealized calendars the year zero 
always exists and the has_year_zero kwarg is ignored.
This kwarg is not needed to define calendar systems allowed by CF
(the calendar-specific defaults do this).</p>

<p>returns an index (indices) of the netCDF time variable corresponding
to the given datetime object(s).</p>
</div>


                </section>
                <section id="stringtochar">
                            <div class="attr function"><a class="headerlink" href="#stringtochar">#&nbsp;&nbsp</a>

        
            <span class="def">def</span>
            <span class="name">stringtochar</span><span class="signature">(unknown)</span>:
    </div>

        
            <div class="docstring"><p><strong><code>stringtochar(a,encoding='utf-8')</code></strong></p>

<p>convert a string array to a character array with one extra dimension</p>

<p><strong><code>a</code></strong>:  Input numpy string array with numpy datatype <code>'SN'</code> or <code>'UN'</code>, where N
is the number of characters in each string.  Will be converted to
an array of characters (datatype <code>'S1'</code> or <code>'U1'</code>) of shape <code>a.shape + (N,)</code>.</p>

<p>optional kwarg <code>encoding</code> can be used to specify character encoding (default
<code>utf-8</code>). If <code>encoding</code> is 'none' or 'bytes', a <code>numpy.string_</code> the input array
is treated a raw byte strings (<code>numpy.string_</code>).</p>

<p>returns a numpy character array with datatype <code>'S1'</code> or <code>'U1'</code>
and shape <code>a.shape + (N,)</code>, where N is the length of each string in a.</p>
</div>


                </section>
                <section id="chartostring">
                            <div class="attr function"><a class="headerlink" href="#chartostring">#&nbsp;&nbsp</a>

        
            <span class="def">def</span>
            <span class="name">chartostring</span><span class="signature">(unknown)</span>:
    </div>

        
            <div class="docstring"><p><strong><code>chartostring(b,encoding='utf-8')</code></strong></p>

<p>convert a character array to a string array with one less dimension.</p>

<p><strong><code>b</code></strong>:  Input character array (numpy datatype <code>'S1'</code> or <code>'U1'</code>).
Will be converted to a array of strings, where each string has a fixed
length of <code>b.shape[-1]</code> characters.</p>

<p>optional kwarg <code>encoding</code> can be used to specify character encoding (default
<code>utf-8</code>). If <code>encoding</code> is 'none' or 'bytes', a <code>numpy.string_</code> btye array is
returned.</p>

<p>returns a numpy string array with datatype <code>'UN'</code> (or <code>'SN'</code>) and shape
<code>b.shape[:-1]</code> where where <code>N=b.shape[-1]</code>.</p>
</div>


                </section>
                <section id="stringtoarr">
                            <div class="attr function"><a class="headerlink" href="#stringtoarr">#&nbsp;&nbsp</a>

        
            <span class="def">def</span>
            <span class="name">stringtoarr</span><span class="signature">(unknown)</span>:
    </div>

        
            <div class="docstring"><p><strong><code>stringtoarr(a, NUMCHARS,dtype='S')</code></strong></p>

<p>convert a string to a character array of length <code>NUMCHARS</code></p>

<p><strong><code>a</code></strong>:  Input python string.</p>

<p><strong><code>NUMCHARS</code></strong>:  number of characters used to represent string
(if len(a) &lt; <code>NUMCHARS</code>, it will be padded on the right with blanks).</p>

<p><strong><code>dtype</code></strong>:  type of numpy array to return.  Default is <code>'S'</code>, which
means an array of dtype <code>'S1'</code> will be returned.  If dtype=<code>'U'</code>, a
unicode array (dtype = <code>'U1'</code>) will be returned.</p>

<p>returns a rank 1 numpy character array of length NUMCHARS with datatype <code>'S1'</code>
(default) or <code>'U1'</code> (if dtype=<code>'U'</code>)</p>
</div>


                </section>
                <section id="getlibversion">
                            <div class="attr function"><a class="headerlink" href="#getlibversion">#&nbsp;&nbsp</a>

        
            <span class="def">def</span>
            <span class="name">getlibversion</span><span class="signature">(unknown)</span>:
    </div>

        
            <div class="docstring"><p><strong><code><a href="#getlibversion">getlibversion()</a></code></strong></p>

<p>returns a string describing the version of the netcdf library
used to build the module, and when it was built.</p>
</div>


                </section>
                <section id="EnumType">
                                <div class="attr class">
        <a class="headerlink" href="#EnumType">#&nbsp;&nbsp</a>

        
        <span class="def">class</span>
        <span class="name">EnumType</span>:
    </div>

        
            <div class="docstring"><p>A <code><a href="#EnumType">EnumType</a></code> instance is used to describe an Enum data
type, and can be passed to the the <code><a href="#Dataset.createVariable">Dataset.createVariable</a></code> method of
a <code><a href="#Dataset">Dataset</a></code> or <code><a href="#Group">Group</a></code> instance. See
<code><a href="#EnumType.__init__">EnumType.__init__</a></code> for more details.</p>

<p>The instance variables <code><a href="#EnumType.dtype">dtype</a></code>, <code><a href="#EnumType.name">name</a></code> and <code><a href="#EnumType.enum_dict">enum_dict</a></code> should not be modified by
the user.</p>
</div>


                            <div id="EnumType.__init__" class="classattr">
                                        <div class="attr function"><a class="headerlink" href="#EnumType.__init__">#&nbsp;&nbsp</a>

        
            <span class="name">EnumType</span><span class="signature">()</span>
    </div>

        
            <div class="docstring"><p><strong><code>__init__(group, datatype, datatype_name, enum_dict)</code></strong></p>

<p>EnumType constructor.</p>

<p><strong><code>group</code></strong>: <code><a href="#Group">Group</a></code> instance to associate with the VLEN datatype.</p>

<p><strong><code>datatype</code></strong>: An numpy integer dtype object describing the base type
for the Enum.</p>

<p><strong><code>datatype_name</code></strong>: a Python string containing a description of the
Enum data type.</p>

<p><strong><code><a href="#EnumType.enum_dict">enum_dict</a></code></strong>: a Python dictionary containing the Enum field/value
pairs.</p>

<p><strong><em><code>Note</code></em></strong>: <code><a href="#EnumType">EnumType</a></code> instances should be created using the
<code><a href="#Dataset.createEnumType">Dataset.createEnumType</a></code> method of a <code><a href="#Dataset">Dataset</a></code> or
<code><a href="#Group">Group</a></code> instance, not using this class directly.</p>
</div>


                            </div>
                            <div id="EnumType.dtype" class="classattr">
                                            <div class="attr variable"><a class="headerlink" href="#EnumType.dtype">#&nbsp;&nbsp</a>

        <span class="name">dtype</span><span class="default_value"> = &lt;attribute &#39;dtype&#39; of &#39;<a href="#_netCDF4.EnumType">netCDF4._netCDF4.EnumType</a>&#39; objects&gt;</span>
    </div>

    

                            </div>
                            <div id="EnumType.name" class="classattr">
                                            <div class="attr variable"><a class="headerlink" href="#EnumType.name">#&nbsp;&nbsp</a>

        <span class="name">name</span><span class="default_value"> = &lt;attribute &#39;name&#39; of &#39;<a href="#_netCDF4.EnumType">netCDF4._netCDF4.EnumType</a>&#39; objects&gt;</span>
    </div>

    

                            </div>
                            <div id="EnumType.enum_dict" class="classattr">
                                            <div class="attr variable"><a class="headerlink" href="#EnumType.enum_dict">#&nbsp;&nbsp</a>

        <span class="name">enum_dict</span><span class="default_value"> = &lt;attribute &#39;enum_dict&#39; of &#39;<a href="#_netCDF4.EnumType">netCDF4._netCDF4.EnumType</a>&#39; objects&gt;</span>
    </div>

    

                            </div>
                </section>
                <section id="get_chunk_cache">
                            <div class="attr function"><a class="headerlink" href="#get_chunk_cache">#&nbsp;&nbsp</a>

        
            <span class="def">def</span>
            <span class="name">get_chunk_cache</span><span class="signature">(unknown)</span>:
    </div>

        
            <div class="docstring"><p><strong><code><a href="#get_chunk_cache">get_chunk_cache()</a></code></strong></p>

<p>return current netCDF chunk cache information in a tuple (size,nelems,preemption).
See netcdf C library documentation for <code>nc_get_chunk_cache</code> for
details. Values can be reset with <code><a href="#set_chunk_cache">set_chunk_cache</a></code>.</p>
</div>


                </section>
                <section id="set_chunk_cache">
                            <div class="attr function"><a class="headerlink" href="#set_chunk_cache">#&nbsp;&nbsp</a>

        
            <span class="def">def</span>
            <span class="name">set_chunk_cache</span><span class="signature">(unknown)</span>:
    </div>

        
            <div class="docstring"><p><strong><code>set_chunk_cache(self,size=None,nelems=None,preemption=None)</code></strong></p>

<p>change netCDF4 chunk cache settings.
See netcdf C library documentation for <code>nc_set_chunk_cache</code> for
details.</p>
</div>


                </section>
    </main>
</body>
</html>
